{"version":3,"sources":["CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/attachfile.png","CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/attachimage.png","CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/insertemoji.png","CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/sendmessage.png","CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/createpoll.png","CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/insertsticker.png","CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/close.png","CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/launchcollaborativedocument.png","CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/launchcollaborativewhiteboard.png","CometChatWorkspace/src/util/enums.js","CometChatWorkspace/src/util/common.js","CometChatWorkspace/src/resources/theme.js","CometChatWorkspace/src/components/Messages/CometChatLiveReactions sync /^.*$","CometChatWorkspace/src/components/Messages/CometChatLiveReactions/resources/heart.png","CometChatWorkspace/src/components/Messages/CometChatMessageComposer sync /^.*$","CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/heart.png","CometChatWorkspace/src/components/Shared/CometChatAvatar/index.js","CometChatWorkspace/src/components/Shared/CometChatAvatar/resources/1px.png","CometChatWorkspace/src/components/Shared/CometChatAvatar/style.js","CometChatWorkspace/src/components/Shared/CometChatBackdrop/index.js","CometChatWorkspace/src/components/Shared/CometChatBackdrop/style.js","CometChatWorkspace/src/components/Shared/CometChatBadgeCount/style.js","CometChatWorkspace/src/components/Shared/CometChatBadgeCount/index.js","CometChatWorkspace/src/components/Shared/CometChatSharedMediaView/controller.js","CometChatWorkspace/src/components/Shared/CometChatSharedMediaView/style.js","CometChatWorkspace/src/components/Shared/CometChatSharedMediaView/resources/file.png","CometChatWorkspace/src/components/Shared/CometChatSharedMediaView/index.js","CometChatWorkspace/src/components/Shared/CometChatUserPresence/style.js","CometChatWorkspace/src/components/Shared/CometChatUserPresence/index.js","environment.js","components/Navbar.jsx","wrappers/layout.jsx","pages/index.jsx","methods/localStorePut.js","pages/age.jsx","cometchat.js","components/PersonSlider.jsx","components/SideMatchList.jsx","pages/discover.jsx","methods/MatchSort.js","CometChatWorkspace/src/components/Chats/CometChatConversationList/controller.js","CometChatWorkspace/src/components/Chats/CometChatConversationList/style.js","CometChatWorkspace/src/components/Chats/CometChatConversationList/index.js","CometChatWorkspace/src/components/Chats/CometChatConversationList/resources/navigate.png","CometChatWorkspace/src/components/Chats/CometChatConversationListItem/style.js","CometChatWorkspace/src/components/Chats/CometChatConversationListItem/index.js","CometChatWorkspace/src/components/Users/CometChatUserDetails/style.js","CometChatWorkspace/src/components/Users/CometChatUserDetails/index.js","CometChatWorkspace/src/components/Users/CometChatUserDetails/resources/navigate.png","CometChatWorkspace/src/components/Users/CometChatUserList/controller.js","CometChatWorkspace/src/components/Users/CometChatUserList/style.js","CometChatWorkspace/src/components/Users/CometChatUserList/index.js","CometChatWorkspace/src/components/Users/CometChatUserList/resources/navigate.png","CometChatWorkspace/src/components/Users/CometChatUserList/resources/search-grey-icon.png","CometChatWorkspace/src/components/Users/CometChatUserListItem/style.js","CometChatWorkspace/src/components/Users/CometChatUserListItem/index.js","CometChatWorkspace/src/components/Users/CometChatUserListWithMessages/style.js","CometChatWorkspace/src/components/Users/CometChatUserListWithMessages/index.js","CometChatWorkspace/src/components/Groups/CometChatCreateGroup/style.js","CometChatWorkspace/src/components/Groups/CometChatCreateGroup/index.js","CometChatWorkspace/src/components/Groups/CometChatCreateGroup/resources/close.png","CometChatWorkspace/src/components/Groups/CometChatGroupDetails/controller.js","CometChatWorkspace/src/components/Groups/CometChatGroupDetails/context.js","CometChatWorkspace/src/components/Groups/CometChatGroupDetails/style.js","CometChatWorkspace/src/components/Groups/CometChatGroupDetails/index.js","CometChatWorkspace/src/components/Groups/CometChatGroupDetails/resources/navigate.png","CometChatWorkspace/src/components/Groups/CometChatGroupList/controller.js","CometChatWorkspace/src/components/Groups/CometChatGroupList/style.js","CometChatWorkspace/src/components/Groups/CometChatGroupList/resources/creategroup.png","CometChatWorkspace/src/components/Groups/CometChatGroupList/index.js","CometChatWorkspace/src/components/Groups/CometChatGroupList/resources/navigate.png","CometChatWorkspace/src/components/Groups/CometChatGroupList/resources/search-grey-icon.png","CometChatWorkspace/src/components/Groups/CometChatGroupListItem/style.js","CometChatWorkspace/src/components/Groups/CometChatGroupListItem/index.js","CometChatWorkspace/src/components/Groups/CometChatGroupListItem/resources/shield.png","CometChatWorkspace/src/components/Groups/CometChatGroupListItem/resources/lock.png","CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberList/style.js","CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberList/index.js","CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberList/resources/close.png","CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberListItem/style.js","CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberListItem/index.js","CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberListItem/resources/block.png","CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberListItem/resources/delete.png","CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberListItem/resources/done.png","CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberListItem/resources/close.png","CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberListItem/resources/edit.png","CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberList/controller.js","CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberList/style.js","CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberList/index.js","CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberList/resources/close.png","CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberList/resources/search-grey-icon.png","CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberListItem/style.js","CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberListItem/resources/checkbox-inactive.svg","CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberListItem/resources/checkbox-blue-active.svg","CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberListItem/index.js","CometChatWorkspace/src/components/Groups/CometChatBanGroupMemberList/style.js","CometChatWorkspace/src/components/Groups/CometChatBanGroupMemberList/index.js","CometChatWorkspace/src/components/Groups/CometChatBanGroupMemberList/resources/close.png","CometChatWorkspace/src/components/Groups/CometChatBanGroupMemberListItem/style.js","CometChatWorkspace/src/components/Groups/CometChatBanGroupMemberListItem/index.js","CometChatWorkspace/src/components/Groups/CometChatBanGroupMemberListItem/resources/block.png","CometChatWorkspace/src/components/Groups/CometChatGroupListWithMessages/style.js","CometChatWorkspace/src/components/Groups/CometChatGroupListWithMessages/index.js","CometChatWorkspace/src/components/Chats/CometChatConversationListWithMessages/style.js","CometChatWorkspace/src/components/Chats/CometChatConversationListWithMessages/index.js","CometChatWorkspace/src/components/UserProfile/CometChatUserProfile/style.js","CometChatWorkspace/src/components/UserProfile/CometChatUserProfile/resources/notification-black-icon.svg","CometChatWorkspace/src/components/UserProfile/CometChatUserProfile/resources/privacy-black-icon.svg","CometChatWorkspace/src/components/UserProfile/CometChatUserProfile/resources/chat-black-icon.svg","CometChatWorkspace/src/components/UserProfile/CometChatUserProfile/resources/help-black-icon.svg","CometChatWorkspace/src/components/UserProfile/CometChatUserProfile/resources/report-black-icon.svg","CometChatWorkspace/src/components/UserProfile/CometChatUserProfile/index.js","CometChatWorkspace/src/components/CometChatUI/CometChatNavBar/style.js","CometChatWorkspace/src/components/CometChatUI/CometChatNavBar/index.js","CometChatWorkspace/src/components/CometChatUI/CometChatNavBar/resources/chats-grey.png","CometChatWorkspace/src/components/CometChatUI/CometChatNavBar/resources/chats-blue.png","CometChatWorkspace/src/components/CometChatUI/CometChatNavBar/resources/contacts-grey.png","CometChatWorkspace/src/components/CometChatUI/CometChatNavBar/resources/contacts-blue.png","CometChatWorkspace/src/components/CometChatUI/CometChatNavBar/resources/groups-grey.png","CometChatWorkspace/src/components/CometChatUI/CometChatNavBar/resources/groups-blue.png","CometChatWorkspace/src/components/CometChatUI/CometChatNavBar/resources/userinfo-grey.png","CometChatWorkspace/src/components/CometChatUI/CometChatNavBar/resources/userinfo-blue.png","CometChatWorkspace/src/components/CometChatUI/style.js","CometChatWorkspace/src/components/CometChatUI/index.js","pages/inbox.jsx","components/FirebaseRegister.jsx","pages/login.jsx","pages/logout.jsx","methods/localStoreGet.js","methods/registerEmailProfile.js","pages/register.jsx","pages/sorry.jsx","methods/createEmailUser.js","pages/signup.jsx","methods/registerGoogleProfile.js","pages/gregister.jsx","App.jsx","index.jsx","CometChatWorkspace/src/components/Messages/CometChatActionMessageBubble/index.js","CometChatWorkspace/src/components/Messages/CometChatActionMessageBubble/style.js","CometChatWorkspace/src/components/Messages/CometChatDeleteMessageBubble/style.js","CometChatWorkspace/src/components/Messages/CometChatDeleteMessageBubble/index.js","CometChatWorkspace/src/components/Messages/CometChatEmojiKeyboard/index.js","CometChatWorkspace/src/components/Messages/CometChatEmojiKeyboard/style.js","CometChatWorkspace/src/components/Messages/CometChatImageViewer/style.js","CometChatWorkspace/src/components/Messages/CometChatImageViewer/resources/ring.svg","CometChatWorkspace/src/components/Messages/CometChatImageViewer/index.js","CometChatWorkspace/src/components/Messages/CometChatImageViewer/resources/close.png","CometChatWorkspace/src/components/Messages/CometChatLinkPreview/style.js","CometChatWorkspace/src/components/Messages/CometChatLinkPreview/index.js","CometChatWorkspace/src/components/Messages/CometChatMessageActions/style.js","CometChatWorkspace/src/components/Messages/CometChatMessageActions/resources/add-reaction.png","CometChatWorkspace/src/components/Messages/CometChatMessageActions/index.js","CometChatWorkspace/src/components/Messages/CometChatMessageActions/resources/startthread.png","CometChatWorkspace/src/components/Messages/CometChatMessageActions/resources/deletemessage.png","CometChatWorkspace/src/components/Messages/CometChatMessageActions/resources/edit.png","CometChatWorkspace/src/components/Messages/CometChatMessageActions/resources/translate.png","CometChatWorkspace/src/components/Messages/CometChatMessageHeader/controller.js","CometChatWorkspace/src/components/Messages/CometChatMessageHeader/style.js","CometChatWorkspace/src/components/Messages/CometChatMessageHeader/resources/audiocall.png","CometChatWorkspace/src/components/Messages/CometChatMessageHeader/resources/videocall.png","CometChatWorkspace/src/components/Messages/CometChatMessageHeader/resources/detailpane.png","CometChatWorkspace/src/components/Messages/CometChatMessageHeader/index.js","CometChatWorkspace/src/components/Messages/CometChatMessageHeader/resources/menuicon.png","CometChatWorkspace/src/components/Messages/CometChatMessageList/MessageFilter.js","CometChatWorkspace/src/components/Messages/CometChatMessageList/controller.js","CometChatWorkspace/src/components/Messages/CometChatMessageList/style.js","CometChatWorkspace/src/components/Messages/CometChatMessageList/index.js","CometChatWorkspace/src/components/Messages/CometChatMessages/style.js","CometChatWorkspace/src/components/Messages/CometChatMessages/index.js","CometChatWorkspace/src/components/Messages/CometChatMessageThread/style.js","CometChatWorkspace/src/components/Messages/CometChatMessageThread/index.js","CometChatWorkspace/src/components/Messages/CometChatMessageThread/resources/close.png","CometChatWorkspace/src/components/Messages/CometChatReadReceipt/style.js","CometChatWorkspace/src/components/Messages/CometChatReadReceipt/resources/grey-tick-icon.png","CometChatWorkspace/src/components/Messages/CometChatReadReceipt/resources/sending.png","CometChatWorkspace/src/components/Messages/CometChatReadReceipt/resources/error.png","CometChatWorkspace/src/components/Messages/CometChatReadReceipt/index.js","CometChatWorkspace/src/components/Messages/CometChatReadReceipt/resources/grey-double-tick-icon.png","CometChatWorkspace/src/components/Messages/CometChatReadReceipt/resources/blue-double-tick-icon.png","CometChatWorkspace/src/components/Messages/CometChatReceiverAudioMessageBubble/style.js","CometChatWorkspace/src/components/Messages/CometChatReceiverAudioMessageBubble/index.js","CometChatWorkspace/src/components/Messages/CometChatReceiverDirectCallBubble/style.js","CometChatWorkspace/src/components/Messages/CometChatReceiverDirectCallBubble/index.js","CometChatWorkspace/src/components/Messages/CometChatReceiverDirectCallBubble/resources/receivervideocall.png","CometChatWorkspace/src/components/Messages/CometChatReceiverFileMessageBubble/style.js","CometChatWorkspace/src/components/Messages/CometChatReceiverFileMessageBubble/index.js","CometChatWorkspace/src/components/Messages/CometChatReceiverFileMessageBubble/resources/receiverfile.png","CometChatWorkspace/src/components/Messages/CometChatReceiverImageMessageBubble/style.js","CometChatWorkspace/src/components/Messages/CometChatReceiverImageMessageBubble/index.js","CometChatWorkspace/src/components/Messages/CometChatReceiverImageMessageBubble/resources/1px.png","CometChatWorkspace/src/components/Messages/CometChatReceiverTextMessageBubble/style.js","CometChatWorkspace/src/components/Messages/CometChatReceiverTextMessageBubble/index.js","CometChatWorkspace/src/components/Messages/CometChatReceiverVideoMessageBubble/style.js","CometChatWorkspace/src/components/Messages/CometChatReceiverVideoMessageBubble/index.js","CometChatWorkspace/src/components/Messages/CometChatSenderAudioMessageBubble/index.js","CometChatWorkspace/src/components/Messages/CometChatSenderAudioMessageBubble/style.js","CometChatWorkspace/src/components/Messages/CometChatSenderDirectCallBubble/style.js","CometChatWorkspace/src/components/Messages/CometChatSenderDirectCallBubble/index.js","CometChatWorkspace/src/components/Messages/CometChatSenderDirectCallBubble/resources/sendervideocall.png","CometChatWorkspace/src/components/Messages/CometChatSenderFileMessageBubble/resources/senderfile.png","CometChatWorkspace/src/components/Messages/CometChatSenderFileMessageBubble/index.js","CometChatWorkspace/src/components/Messages/CometChatSenderFileMessageBubble/style.js","CometChatWorkspace/src/components/Messages/CometChatSenderImageMessageBubble/style.js","CometChatWorkspace/src/components/Messages/CometChatSenderImageMessageBubble/index.js","CometChatWorkspace/src/components/Messages/CometChatSenderImageMessageBubble/resources/1px.png","CometChatWorkspace/src/components/Messages/CometChatSenderTextMessageBubble/style.js","CometChatWorkspace/src/components/Messages/CometChatSenderTextMessageBubble/index.js","CometChatWorkspace/src/components/Messages/CometChatSenderVideoMessageBubble/index.js","CometChatWorkspace/src/components/Messages/CometChatSenderVideoMessageBubble/style.js","CometChatWorkspace/src/components/Messages/CometChatThreadedMessageReplyCount/style.js","CometChatWorkspace/src/components/Messages/CometChatThreadedMessageReplyCount/index.js","CometChatWorkspace/src/components/Messages/Extensions/CometChatSmartReplyPreview/style.js","CometChatWorkspace/src/components/Messages/Extensions/CometChatSmartReplyPreview/index.js","CometChatWorkspace/src/components/Messages/Extensions/CometChatSmartReplyPreview/resources/close.png","CometChatWorkspace/src/components/Messages/Extensions/CometChatStickerKeyboard/style.js","CometChatWorkspace/src/components/Messages/Extensions/CometChatStickerKeyboard/index.js","CometChatWorkspace/src/components/Messages/Extensions/CometChatStickerKeyboard/resources/close.png","CometChatWorkspace/src/components/Messages/Extensions/CometChatMessageReactions/style.js","CometChatWorkspace/src/components/Messages/Extensions/CometChatMessageReactions/resources/add-reaction.png","CometChatWorkspace/src/components/Messages/Extensions/CometChatMessageReactions/index.js","CometChatWorkspace/src/components/Messages/Extensions/CometChatCreatePoll/style.js","CometChatWorkspace/src/components/Messages/Extensions/CometChatCreatePoll/resources/creating.svg","CometChatWorkspace/src/components/Messages/Extensions/CometChatCreatePoll/index.js","CometChatWorkspace/src/components/Messages/Extensions/CometChatCreatePoll/resources/close.png","CometChatWorkspace/src/components/Messages/Extensions/CometChatCreatePoll/resources/add.png","CometChatWorkspace/src/components/Messages/Extensions/CometChatCreatePollOptions/index.js","CometChatWorkspace/src/components/Messages/Extensions/CometChatCreatePollOptions/style.js","CometChatWorkspace/src/components/Messages/Extensions/CometChatCreatePollOptions/resources/remove.png","CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverDocumentBubble/style.js","CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverDocumentBubble/index.js","CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverDocumentBubble/resources/receiverdocument.png","CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverPollMessageBubble/style.js","CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverPollMessageBubble/resources/check.svg","CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverPollMessageBubble/index.js","CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverStickerMessageBubble/style.js","CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverStickerMessageBubble/index.js","CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverWhiteboardBubble/style.js","CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverWhiteboardBubble/index.js","CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverWhiteboardBubble/resources/receiverwhiteboard.png","CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderDocumentBubble/style.js","CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderDocumentBubble/index.js","CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderDocumentBubble/resources/senderdocument.png","CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderPollMessageBubble/style.js","CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderPollMessageBubble/index.js","CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderStickerBubble/index.js","CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderStickerBubble/style.js","CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderWhiteboardBubble/style.js","CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderWhiteboardBubble/index.js","CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderWhiteboardBubble/resources/senderwhiteboard.png","CometChatWorkspace/src/components/Messages/CometChatMessageComposer/style.js","CometChatWorkspace/src/components/Calls/CometChatIncomingCall/controller.js","CometChatWorkspace/src/components/Calls/CometChatIncomingCall/style.js","CometChatWorkspace/src/components/Calls/CometChatIncomingCall/index.js","CometChatWorkspace/src/components/Calls/CometChatIncomingCall/resources/incomingaudiocall.png","CometChatWorkspace/src/components/Calls/CometChatIncomingCall/resources/incomingvideocall.png","CometChatWorkspace/src/components/Calls/CometChatOutgoingCall/controller.js","CometChatWorkspace/src/components/Calls/CometChatOutgoingCall/style.js","CometChatWorkspace/src/components/Calls/CometChatOutgoingCall/resources/call-end-white-icon.svg","CometChatWorkspace/src/components/Calls/CometChatOutgoingCall/index.js","CometChatWorkspace/src/components/Calls/CometChatIncomingDirectCall/controller.js","CometChatWorkspace/src/components/Calls/CometChatIncomingDirectCall/style.js","CometChatWorkspace/src/components/Calls/CometChatIncomingDirectCall/index.js","CometChatWorkspace/src/components/Calls/CometChatIncomingDirectCall/resources/incomingvideocall.png","CometChatWorkspace/src/components/Calls/CometChatOutgoingDirectCall/style.js","CometChatWorkspace/src/components/Calls/CometChatOutgoingDirectCall/index.js","CometChatWorkspace/src/resources/audio/incomingmessage.wav","CometChatWorkspace/src/resources/audio/incomingothermessage.wav","CometChatWorkspace/src/resources/audio/outgoingmessage.wav","CometChatWorkspace/src/resources/audio/incomingcall.wav","CometChatWorkspace/src/resources/audio/outgoingcall.wav","CometChatWorkspace/src/components/Messages/CometChatLiveReactions/index.js","CometChatWorkspace/src/components/Messages/CometChatMessageComposer/index.js","CometChatWorkspace/src/resources/localization/translator.js","CometChatWorkspace/src/components/Messages/CometChatLiveReactions/style.js","CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/attach.png","CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/attachvideo.png","CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/attachaudio.png"],"names":["TEXT_MESSAGE_RECEIVED","MEDIA_MESSAGE_RECEIVED","CUSTOM_MESSAGE_RECEIVED","MESSAGE_DELIVERED","MESSAGE_READ","MESSAGE_DELETED","MESSAGE_EDITED","INCOMING_CALL_RECEIVED","OUTGOING_CALL_ACCEPTED","OUTGOING_CALL_REJECTED","INCOMING_CALL_CANCELLED","GROUP_MEMBER_SCOPE_CHANGED","GROUP_MEMBER_KICKED","GROUP_MEMBER_BANNED","GROUP_MEMBER_UNBANNED","GROUP_MEMBER_ADDED","GROUP_MEMBER_LEFT","GROUP_MEMBER_JOINED","USER_ONLINE","USER_OFFLINE","TYPING_STARTED","TYPING_ENDED","CATEGORY_CUSTOM","CUSTOM_TYPE_POLL","CUSTOM_TYPE_STICKER","CUSTOM_TYPE_DOCUMENT","CUSTOM_TYPE_WHITEBOARD","CUSTOM_TYPE_MEETING","CATEGORY_ACTION","ACTION_TYPE_GROUPMEMBER","LIVE_REACTION_KEY","LIVE_REACTIONS","MAX_MESSAGE_COUNT","LOCALE_KEY","CHAT_WITH_USER","CHAT_WITH_GROUP","ACTIONS","MESSAGE_SENT","MESSAGE_COMPOSED","ERROR_IN_SENDING_MESSAGE","ACCEPT_DIRECT_CALL","JOIN_DIRECT_CALL","START_DIRECT_CALL","END_DIRECT_CALL","POLL_CREATED","GROUP_DELETED","GROUP_LEFT","GROUP_CREATED","emailPattern","RegExp","urlPattern","phoneNumPattern","linkify","message","outputStr","replace","validateWidgetSettings","wSettings","checkAgainst","output","hasOwnProperty","main","checkMessageForExtensionsData","extensionKey","injectedObject","metadata","extensionsObject","ID","Math","random","toString","substr","getUnixTimestamp","round","Date","dateDiffInDays","a","b","utc1","UTC","getFullYear","getMonth","getDate","utc2","floor","getTimeStampForLastMessage","timestamp","lang","messageTimestamp","currentTimestamp","now","dateDifferenceInDays","dateFormat","Translator","translate","getMessageSentTime","getMessageDate","timeStampInMilliSeconds","theme","fontFamily","fontSize","primaryColor","color","primary","secondary","darkSecondary","grey","helpText","blue","white","red","borderColor","backgroundColor","lightGrey","darkGrey","callScreenGrey","silver","breakPoints","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","CometChatAvatar","props","setAvatarImage","image","trim","length","getImage","user","avatarImage","avatar","uid","char","name","charAt","toUpperCase","setAvatar","group","icon","guid","img","Image","src","onload","setState","generator","data","svg1","document","createElementNS","setAttribute","rect","str","hash","i","charCodeAt","colour","stringToColour","text","textContent","appendChild","svgString","XMLSerializer","serializeToString","decoded","unescape","encodeURIComponent","base64","btoa","imgRef","React","createRef","state","this","prevProps","borderWidth","borderStyle","cornerRadius","css","overflow","display","width","height","alt","style","borderRadius","ref","el","Component","defaultProps","CometChatBackdrop","show","zIndex","opacity","position","top","left","cursor","transition","className","onClick","clicked","count","badgeStyle","textAlign","fontWeight","lineHeight","marginLeft","padding","marginRight","CometChatBadgeCount","SharedMediaManager","item","type","messagetype","mediaMessageListenerId","getTime","mediaMessageRequest","CometChat","MessagesRequestBuilder","setUID","setLimit","setCategory","setType","build","setGUID","fetchPrevious","callback","addMessageListener","msgListenerId","MessageListener","onMediaMessageReceived","mediaMessage","enums","onMessageDeleted","deletedMessage","removeMessageListener","sectionStyle","containerHeightProp","containerHeight","buttonStyle","activeBtn","boxShadow","float","right","itemStyle","itemTypeStyle","bgColor","objectFit","margin","maxWidth","maxHeight","paddingLeft","background","whiteSpace","wordWrap","flex","CometChatSharedMediaView","messageUpdated","key","messageDeleted","messageReceived","messageType","getReceiverType","getReceiver","filteredMessages","messageList","filter","scrollToBottom","messages","concat","getMessages","getLoggedinUser","then","loggedInUser","fetchPreviousMessages","catch","error","console","log","messageContainer","scrollTop","scrollHeight","handleScroll","currentTarget","mediaClickHandler","attachListeners","prevState","url","fileIcon","attachments","href","target","rel","template","textTransform","flexDirection","clear","overflowY","overflowX","flexWrap","onScroll","removeListeners","getDefaultLanguage","presenceStyle","presenceStatus","status","CometChatUserPresence","widgetsettings","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","cometConfig","Navbar","viewBox","fill","fillRule","d","isSignedIn","to","withLayout","BaseComponent","hideNavbar","bgImage","backgroundImage","localStorePut","storageKey","dataValue","window","localStorage","setItem","JSON","stringify","initialState","month","day","year","reducer","action","payload","history","useHistory","useReducer","dispatch","handleOnChange","evt","value","isOfAge","dateString","today","birthDate","age","m","getAge","focusable","role","cx","cy","fr","fx","fy","r","spreadMethod","offset","stopColor","onSubmit","preventDefault","c","bday","push","htmlFor","autoComplete","required","onChange","placeholder","minLength","maxLength","loginCometChatUser","login","logoutCometChatUser","logout","registerCometChatUser","User","setName","createUser","createdUser","sendCometChatMessage","ratedPersonId","messageText","receiverType","RECEIVER_TYPE","USER","textMessage","TextMessage","sendMessage","PersonSlider","persons","userId","useState","personsArray","setPersonsArray","BUTTON_ICONS","dislike","like","favorite","takeAction","ratedPerson","rest","firebase","firestore","collection","doc","update","FieldValue","arrayUnion","get","ratedPersonDocument","likes","includes","favorites","matches","currentPerson","ActionButton","imageUrl","description","SideMatchList","person","setMatches","useEffect","matchListener","onSnapshot","currentMatchIds","where","querySnapshot","newMatches","forEach","match","Children","toArray","setPersons","loading","setLoading","parse","getItem","dislikes","newPersons","personCollection","outdoorActivities","userActivites","residualScore","scoreArray","element","outdoor","score","activity","indexOf","scoreMatch","sort","MatchSortList","ConversationListManager","conversationRequest","conversationListenerId","userListenerId","groupListenerId","callListenerId","ConversationsRequestBuilder","fetchNext","addUserListener","UserListener","onUserOnline","onlineUser","onUserOffline","offlineUser","addGroupListener","GroupListener","onGroupMemberScopeChanged","changedUser","newScope","oldScope","changedGroup","onGroupMemberKicked","kickedUser","kickedBy","kickedFrom","onGroupMemberBanned","bannedUser","bannedBy","bannedFrom","onGroupMemberUnbanned","unbannedUser","unbannedBy","unbannedFrom","onMemberAddedToGroup","userAdded","userAddedBy","userAddedIn","onGroupMemberLeft","leavingUser","onGroupMemberJoined","joinedUser","joinedGroup","onTextMessageReceived","onCustomMessageReceived","customMessage","onMessageEdited","editedMessage","addCallListener","CallListener","onIncomingCallReceived","call","onIncomingCallCancelled","removeUserListener","removeGroupListener","removeCallListener","chatsHeaderStyle","alignItems","borderBottom","chatsHeaderCloseStyle","mq","chatsHeaderTitleStyle","alignment","enableCloseMenu","CometChatConversationList","updateLastMessage","lastMessage","conversationList","conversationlist","conversationKey","findIndex","conversationId","conversationObj","newConversationObj","splice","unshift","removeGroupFromListOnDeleting","conversationType","GROUP","conversationWith","conversationUpdated","options","updateUser","updateConversation","conversationEditedDeleted","updateGroupMemberAdded","updateGroupMemberRemoved","updateGroupMemberScopeChanged","updateGroupMemberChanged","conversationWithObj","getStatus","playAudio","category","audio","currentTime","play","makeConversation","Promise","reject","CometChatHelper","getConversationFromMessage","conversation","makeUnreadMessageCount","listenerEvent","unreadMessageCount","parseInt","selectedConversation","selectedConversationUnreadMessages","unreadMessage","CATEGORY_MESSAGE","makeLastMessage","newMessage","assign","response","lastMessageObj","newLastMessageObj","membersCount","actionFor","newConversationWithObj","scope","GROUP_MEMBER_SCOPE","PARTICIPANT","hasJoined","clientHeight","getConversations","handleClick","onItemClick","handleMenuClose","actionGenerated","fetchNextConversation","decoratorMessage","undefined","chatListRef","Audio","incomingOtherMessageAlert","find","blockedByMe","convKey","k","groupToDelete","groupToUpdate","convObj","convWithObj","newConvWithObj","newConvObj","unreadMessages","config","justifyContent","closeBtn","boxSizing","dir","getDirection","listItem","selectedState","itemLastMsgStyle","textOverflow","CometChatConversationListItem","getLastMessage","sender","getMessage","CATEGORY_CALL","getCallMessage","getActionMessage","getCustomMessage","getLastMessageTimestamp","_composedAt","sentAt","pollMessage","stickerMessage","docMessage","whiteboardMessage","meetingMessage","getTextMessage","xssData","sanitized_text","maskedData","sensitive_data","message_masked","profaneData","profanity","message_clean","MESSAGE_TYPE","TEXT","MEDIA","IMAGE","imageMessage","FILE","fileMessage","VIDEO","videoMessage","AUDIO","audioMessage","CUSTOM","actionMessage","ACTION_TYPE","MEMBER_JOINED","MEMBER_LEFT","actionBy","actionOn","MEMBER_SCOPE_CHANGED","extras","byEntity","onEntity","byString","forString","MEMBER_ADDED","MEMBER_KICKED","MEMBER_BANNED","MEMBER_UNBANNED","toggleTooltip","event","flag","elem","scrollWidth","clientWidth","removeAttribute","lastMessageTimestamp","presence","lastMessageTimeStamp","flexShrink","flexGrow","paddingRight","onMouseEnter","onMouseLeave","userDetailStyle","headerStyle","headerCloseStyle","sectionHeaderStyle","itemLinkStyle","deleteLink","deleteCss","CometChatUserDetails","blockUserText","blockUserView","sharedmediaView","marginBottom","UserListManager","friendsOnly","searchKey","userRequest","usersRequest","UsersRequestBuilder","setSearchKeyword","contactHeaderStyle","contactHeaderCloseStyle","contactHeaderTitleStyle","contactSearchInputStyle","border","outline","CometChatUserList","userUpdated","userlist","userKey","u","userObj","newUserObj","getUsers","searchUsers","timeout","clearTimeout","val","setTimeout","fetchNextUsers","userList","selectedUser","userListRef","sidebar","currentLetter","users","chr","firstChar","Fragment","clickHandler","PureComponent","itemDescStyle","marginTop","CometChatUserListItem","userPresence","userScreenStyle","userScreenSidebarStyle","sidebarView","sidebarview","borderRight","bottom","userScreenMainStyle","secondaryView","threadmessageview","detailview","order","userScreenSecondaryStyle","borderLeft","CometChatUserListWithMessages","changeTheme","darktheme","itemClicked","toggleSideBar","viewdetailscreen","actionHandler","blockUser","unblockUser","toggleDetailView","viewMessageThread","closeThreadMessages","onThreadMessageComposed","acceptedIncomingCall","rejectedIncomingCall","toggleImageView","updateThreadMessage","threadmessageparent","usersList","blockUsers","list","unblockUsers","viewdetail","parentMessage","threaditem","threadmessageitem","threadmessagetype","composedMessage","composedthreadmessage","receiverId","getConversation","incomingCall","incomingCallMessage","rejectedCallMessage","messageScreenRef","imageView","tab","detailScreen","threadMessageView","messageScreen","parentComponent","open","close","modalWrapperStyle","minWidth","minHeight","transform","inputStyle","CometChatCreateGroup","passwordChangeHandler","password","nameChangeHandler","typeChangeHandler","validate","groupName","groupType","createGroup","GROUP_TYPE","PUBLIC","PRIVATE","PASSWORD","Group","passwordInput","tabIndex","title","borderCollapse","tableLayout","GroupDetailManager","groupMemberRequest","bannedGroupMemberRequest","GroupMembersRequestBuilder","BannedMembersRequestBuilder","GroupDetailContext","createContext","memberlist","bannedmemberlist","administratorslist","moderatorslist","CometChatGroupDetails","groupUpdated","groupMemberUpdated","member","updatedMember","addParticipants","removeParticipants","banMembers","unbanMembers","updateParticipants","memberKey","memberObj","newMemberObj","bannedMemberKey","bannedMemberObj","newBannedMemberObj","getGroupMembers","fetchNextGroupMembers","groupMembers","ADMIN","MODERATOR","getBannedGroupMembers","fetchNextBannedGroupMembers","bannedMembers","deleteGroup","leaveGroup","hasLeft","viewMember","addMember","banMember","membersActionHandler","members","unbannedMembers","filteredBannedMembers","bannedmember","found","triggerUpdate","groupmembers","filteredMembers","groupmember","addAdministrator","addModerator","viewMembersBtn","paddingTop","paddingBottom","addMembersBtn","deleteGroupBtn","bannedMembersBtn","leaveGroupBtn","viewMembers","addMembers","Provider","loggedinuser","GroupListManager","groupRequest","GroupsRequestBuilder","groupHeaderStyle","groupHeaderCloseStyle","groupHeaderTitleStyle","groupSearchInputStyle","CometChatGroupList","groupList","grouplist","groupKey","g","updateMemberChanged","updateMemberRemoved","updateMemberAdded","updateMemberJoined","groupObj","newgroupObj","getGroups","prompt","joinGroup","groups","newGroupObj","selectedGroup","searchGroup","markMessagesRead","getReadAt","getReadByMeAt","markAsRead","getId","getSender","getUid","getReceiverId","fetchNextGroups","createGroupHandler","createGroupActionHandler","groupListRef","creategroup","addIcon","CometChatGroupListItem","groupTypeIcon","modalCaptionStyle","textAlignStyle","listStyle","nameColumnStyle","editAccess","x","widthProp","scopeColumnStyle","actionColumnStyle","CometChatViewGroupMemberList","updateMembers","kickMember","changeScope","memberToBan","banGroupMember","memberToKick","kickGroupMember","updateGroupMemberScope","setUserColumnTitle","userColumnTitle","matchMedia","parentnode","parentNode","querySelector","contentWindow","context","addListener","contextType","participantView","avatarStyle","marginProp","nameStyle","displayProp","CometChatViewGroupMemberListItem","toggleChangeScope","showChangeScope","scopeChangeHandler","updateMemberScope","classList","contains","changeScopeDropDown","defaultValue","roles","editClassName","changescope","ban","kick","owner","AddMembersManager","membersRequest","searchInputStyle","modalFootStyle","CometChatAddGroupMemberList","membersToAdd","membersToRemove","filteredlist","filteredUserList","foundbanned","membersUpdated","userState","IndexFound","membersList","newmember","newMember","GroupMember","addMembersToGroup","firstLetter","changed","modalRowStyle","CometChatAddGroupMemberListItem","inactiveStateImg","activeStateImg","checked","setChecked","nameContainer","lastChild","inactiveIcon","activeIcon","userSelect","backgroundSize","modalTableStyle","tableCaptionStyle","CometChatBanGroupMemberList","unbanMember","memberToUnBan","unbanGroupMember","membersToBan","membersToUnBan","tableRowStyle","CometChatBanGroupMemberListItem","unBan","groupScreenStyle","groupScreenSidebarStyle","groupScreenMainStyle","secondaryViewWidth","groupScreenSecondaryStyle","CometChatGroupListWithMessages","otherProps","updateMembersCount","membersAdded","memberUnbanned","memberScopeChanged","acceptDirectCall","joinDirectCall","ongoingDirectCall","incomingMessageRef","ignoreCall","newObj","eachMember","messageObj","groupmessage","incomingMessageView","chatScreenStyle","chatScreenSidebarStyle","chatScreenMainStyle","chatScreenSecondaryStyle","CometChatConversationListWithMessages","lastmessage","userStatusStyle","optionTitleStyle","optionStyle","CometChatUserProfile","getProfile","notificationIcon","privacyIcon","chatIcon","helpIcon","reportIcon","activeStateIcon","isActive","activeStateBg","CometChatNavBar","activeTab","tabs","getDefaultComponent","groupToLeave","chatsTabActive","userTabActive","groupsTabActive","moreTabActive","unifiedStyle","unifiedSidebarStyle","unifiedMainStyle","unifiedSecondaryStyle","CometChatUI","navBarAction","tabChanged","navBarRef","uiConfig","signInFlow","signInSuccessUrl","signInOptions","auth","GoogleAuthProvider","PROVIDER_ID","FacebookAuthProvider","FirebaseSSO","setIsSignedIn","unregisterAuthObserver","onAuthStateChanged","currentUser","displayName","firebaseAuth","email","setError","loginUser","signInWithEmailAndPassword","LogoutPage","signOut","localStoreGet","registerEmailProfile","imageState","nameState","descState","bDay","imageRef","storage","put","getDownloadURL","set","birthdate","gender","ethnicity","eyeColor","hairColor","bodyType","education","religion","ambition","alcoholUse","smoking","childStatus","astrologySign","err","rows","accept","files","fileNamer","createEmailUser","createUserWithEmailAndPassword","confirmPassword","registerGoogleProfile","userid","uname","photoURL","PrivateRoute","children","render","location","pathname","from","App","removeItem","exact","path","appSetting","AppSettingsBuilder","subscribePresenceForAllUsers","setRegion","init","setSource","ReactDOM","StrictMode","getElementById","CometChatActionMessageBubble","getCallActionMessage","CALL_STATUS","INITIATED","CALL_TYPE","callInitiator","REJECTED","ONGOING","UNANSWERED","ENDED","CANCELLED","BUSY","messageContainerStyle","messageOf","alignSelf","messageWrapperStyle","messageTxtWrapperStyle","Width","fontStyle","messageTxtStyle","messageInfoWrapperStyle","messageTimeStampStyle","messageDetailStyle","paddingSpace","nameWrapperStyle","CometChatDeleteMessageBubble","messageDate","CometChatEmojiKeyboard","categories","people","nature","foods","places","objects","symbols","flags","search","emoji","native","emojiClicked","showPreview","exclude","i18n","imageWrapperStyle","CometChatImageViewer","useRef","srcIcon","previewDataStyle","borderTop","previewTitleStyle","wordBreak","previewDescStyle","previewTextStyle","previewLinkStyle","CometChatLinkPreview","linkObject","linkText","messageActionStyle","topPos","messageFrom","direction","listStyleType","groupButtonStyle","CometChatMessageActions","dataset","reactToMessage","reactIcon","threadedChats","replyCount","widgetconfig","parentMessageId","deleteMessage","editMessage","translateMessage","tooltip","MessageHeaderManager","onTypingStarted","typingIndicator","onTypingEnded","chatSideBarBtnStyle","displayValue","chatStatusStyle","CometChatMessageHeader","setStatusForUser","lastActiveAt","lastActive","setStatusForGroup","membersText","updateHeader","groupUser","typingText","chatWithClassName","chatNameClassName","chatStatusClassName","audioCallText","audioCallBtn","audioCallIcon","videoCallText","videoCallBtn","videoCallIcon","viewDetailText","viewDetailBtn","detailPaneIcon","audiocall","videocall","MessageFilter","types","getCategories","widgetSettings","getTypes","MessageListManager","messageRequest","limit","messageFilterManager","setParentMessageId","setCategories","setTypes","hideReplies","onMessagesDelivered","messageReceipt","onMessagesRead","onOutgoingCallAccepted","onOutgoingCallRejected","chatListStyle","messageDateStyle","CometChatMessageList","lastScrollTop","times","messagesEnd","messageHandler","fetchMessages","messageCount","onMessageReadAndDelivered","customMessageReceived","callUpdated","updateEditedMessage","messageKey","newMessageObj","getReceiptType","messageId","deliveredAt","getDeliveredAt","readAt","reInitializeMessageBuilder","markMessageAsRead","messageReceivedHandler","customMessageReceivedHandler","getSenderMessageComponent","component","getReceiverMessageComponent","getSenderCustomMessageComponent","getReceiverCustomMessageComponent","getActionMessageComponent","getComponent","previousMessageStr","currentMessageStr","cDate","dateSeparator","dateField","messageSentDate","chatWrapperStyle","messagePaneUnreadBannerMessageStyle","textShadow","CometChatMessages","updateReplyCount","smartReplyPreview","appendMessage","messageSent","updateMessages","prependMessages","prependMessagesAndScrollBottom","refreshingMessages","messageRefreshed","newMessagesArrived","jumpToMessages","removeMessages","messageEdited","clearEditPreview","appendCallMessage","audioCall","videoCall","toggleReaction","showReaction","updateCallState","startDirectCall","outgoingCall","directCall","getReceiverDetails","Call","initiateCall","toggleDirectCall","liveReaction","reaction","reactionName","messageToBeEdited","replyPreview","_id","messageToReact","markMessagesAsRead","messageListRef","pop","messagelist","receivedMessage","smartReplyData","composerRef","toggleEmojiPicker","outgoingCallRef","incomingMessageAlert","newCallMessage","messageComposer","CometChatMessageComposer","newMessageIndicator","liveReactionView","CometChatLiveReactions","incomingCallView","directCallView","callType","outgoingCallView","messageconfig","parentMessageStyle","messageSeparatorStyle","CometChatMessageThread","parentMessageEdited","newReplyCount","getParentMessageComponent","seperator","replyText","fontWight","scrollbarWidth","msgTimestampStyle","colorValue","verticalAlign","CometChatReadReceipt","ticks","receiptText","errorTick","sendingTick","greyTick","receipt","paddingValue","CometChatReceiverAudioMessageBubble","handleMouseHover","toggleHoverState","isHovering","messageReactions","reactionsData","toolTipView","controls","messageThumbnailStyle","messageTxtTitleStyle","messageBtnStyle","CometChatReceiverDirectCallBubble","messageTitle","messageFileWrapperStyle","textDecoration","CometChatReceiverFileMessageBubble","messageImgWrapperStyle","CometChatReceiverImageMessageBubble","chooseImage","thumbnailGenerationObject","smallUrl","imageToDownload","setImage","thumbnailGenerationData","downloadImage","setMessageImageUrl","imgUrl","xhr","XMLHttpRequest","responseType","readyState","timer","statusText","onerror","ontimeout","send","parsedMessage","emojiMessage","showVariation","emojiProp","zoom","CometChatReceiverTextMessageBubble","getMessageText","hasXSS","formattedText","emojiParsedMessage","twemoji","folder","ext","ReactHtmlParser","decodeEntities","translatedMessage","translateToLanguage","getBrowserLanguage","callExtension","result","translations","messageTranslation","linkPreviewData","CometChatReceiverVideoMessageBubble","CometChatSenderAudioMessageBubble","CometChatSenderDirectCallBubble","CometChatSenderFileMessageBubble","fileName","fileUrl","blueFile","messageImgWrapper","CometChatSenderImageMessageBubble","reader","FileReader","readAsDataURL","file","fullScreenView","CometChatSenderTextMessageBubble","CometChatSenderVideoMessageBubble","replyCountStyle","CometChatThreadedMessageReplyCount","replies","previewWrapperStyle","keyframes","slideAnimation","animation","previewOptionStyle","CometChatSmartReplyPreview","option","stickerWrapperStyle","stickerItemStyle","stickerMsgTxtStyle","CometChatStickerKeyboard","getStickers","stickers","activeStickerSet","customStickers","defaultStickers","stickerSetOrder","stickerList","stickerSet","reduce","sticker","index","stickerSetName","activeStickerList","stickerOrder","warn","sendStickerMessage","stickerItem","onStickerSetClicked","sectionItem","activestickerlist","stickerset","stickerlist","activestickerset","sectionItems","stickerSetThumbnail","stickerUrl","stickerName","messageReactionsStyle","reactionData","hoveredBorderStyle","reactionCountStyle","CometChatMessageReactions","reactToMessages","msgId","colons","triggerEmojiClick","stopPropagation","click","getMessageReactions","replaceAll","reactionCount","reactionTitle","join","reactionClassName","size","addMessageReaction","addReactionEmoji","tableFootStyle","loadingState","textMargin","creatingPoll","disabled","pointerEvents","addOptionIconStyle","CometChatCreatePoll","addPollOption","removePollOption","optionKey","opt","optionChangeHandler","newOption","createPoll","question","questionRef","current","firstOption","optionOneRef","secondOption","optionTwoRef","optionItems","optionRef","pollOptionView","errorContainer","colSpan","createText","autoFocus","ringIcon","CometChatCreatePollOptions","CometChatReceiverDocumentBubble","launchCollaborativeDocument","documentUrl","documentData","document_url","documentTitle","pollAnswerStyle","pollPercentStyle","curvedBorders","answerWrapperStyle","optionData","bgImg","txtPadding","countPadding","voters","CometChatReceiverPollMessageBubble","requestInProgress","answerPollQuestion","selectedOption","vote","pollId","pollOptions","pollExtensionData","total","results","totalText","toLocaleString","checkIcon","CometChatReceiverStickerMessageBubble","stickerData","stickerImg","customData","sticker_name","sticker_url","ReceiverWhiteboardBubble","launchCollaborativeWhiteboard","whiteboardUrl","whiteboardData","board_url","username","split","CometChatSenderDocumentBubble","CometChatSenderPollMessageBubble","CometChatSenderStickerBubble","CometChatSenderWhiteboardBubble","chatComposerStyle","editPreviewContainerStyle","previewHeadingStyle","previewCloseStyle","composerInputStyle","inputInnerStyle","borderRadiusVal","emojiViewer","stickerViewer","messageInputStyle","disabledState","content","inputStickyStyle","stickyAttachmentStyle","attachmentIconStyle","filePickerStyle","active","showFilePicker","fileListStyle","fileItemStyle","stickyAttachButtonStyle","stickyButtonStyle","emojiButtonStyle","sendButtonStyle","reactionBtnStyle","stickerBtnStyle","CallAlertManager","incomingCallWrapperStyle","slideDown","positionValue","leftPos","rightPos","bottomPos","zIndexValue","dockedview","launched","widgetWidth","widgetHeight","ButtonStyle","CometChatIncomingCall","playIncomingAlert","incomingAlert","loop","addEventListener","pauseIncomingAlert","pause","callScreenUpdated","incomingCallReceived","incomingCallCancelled","getActiveCall","rejectCall","sessionId","rejectedCall","acceptCall","callInProgress","incomingCallAlert","callScreen","CallScreenManager","callScreenWrapperStyle","fadeAnimation","iconStyle","callAction","CometChatOutgoingCall","playOutgoingAlert","outgoingAlert","pauseOutgoingAlert","outgoingCallAccepted","outgoingCallRejected","outgoingCallScreen","errorScreen","errorMessage","startCall","getSessionId","callSettings","CallSettingsBuilder","setSessionID","enableDefaultLayout","setMode","CALL_MODE","DEFAULT","setIsAudioOnlyCall","setLocalizedStringObject","callScreenFrame","OngoingCallListener","onUserJoined","callMessage","callReceiver","onUserLeft","onCallEnded","endedCall","showOutgoingScreen","cancelCall","outgoingCallAlert","receiver","callIcon","messageAlertManager","CometChatIncomingDirectCall","messageListenerCallback","incomingMessageReceived","_isMounted","incomingMessage","MessageAlertManager","CometChatOutgoingDirectCall","sendCustomMessage","sessionID","customType","CustomMessage","setSender","setReceiver","setConversationId","onError","setItems","parentElement","offsetWidth","offsetHeight","elements","querySelectorAll","elementWidth","elementHeight","ySpeed","verticalSpeed","omega","PI","horizontalSpeed","time","sin","y","items","requestAnimation","animate","transformString","visibility","add","counter","before","reactionImg","require","emojis","Array","reactionEmojiStyle","reactionContainerStyle","focusOnMessageComposer","messageInputRef","focus","pasteHtmlAtCaret","innerText","changeHandler","startTyping","messageInput","toggleFilePicker","currentState","openFileDialogue","fileType","imageUploaderRef","fileUploaderRef","audioUploaderRef","videoUploaderRef","onImageChange","uploadedFile","newFile","File","sendMediaMessage","readAsArrayBuffer","onFileChange","onAudioChange","onVideoChange","getConversationId","endTyping","MediaMessage","setData","sendMessageOnEnter","keyCode","shiftKey","sendTextMessage","setText","setId","closeEditPreview","typingInterval","isTyping","typingMetadata","typingNotification","TypingIndicator","persist","toggleStickerPicker","toggleCreatePoll","toggleCollaborativeDocument","toggleCollaborativeBoard","closeCreatePoll","sendSticker","sendReplyMessage","clearReplyPreview","sendReaction","shareDocument","shareWhiteboard","outgoingMessageAlert","html","selectPastedContent","sel","range","getSelection","getRangeAt","rangeCount","deleteContents","createElement","node","lastNode","frag","createDocumentFragment","firstChild","firstNode","insertNode","cloneRange","setStartAfter","setStartBefore","collapse","removeAllRanges","addRange","selection","originalRange","createRange","pasteHTML","setEndPoint","select","liveReactionBtn","liveReactionText","imgSrc","docText","docs","docIcon","videoText","audioText","imageText","avp","videoIcon","audioIcon","imageIcon","pollText","createPollBtn","pollIcon","collaborativeDocText","collaborativeDocBtn","documentIcon","collaborativeBoardText","collaborativeBoardBtn","whiteboardIcon","emojiText","emojiBtn","insertEmoticon","StickerText","stickerBtn","stickerIcon","sendMessageText","sendBtn","sendBlue","attachText","attach","roundedPlus","editPreview","closeIcon","contentEditable","onInput","onBlur","onKeyDown","translationAR","translationDE","translationEN","translationES","translationFR","translationHI","translationMS","translationPT","translationRU","translationZH","translationZHTW","language","toLowerCase","setLanguage","rtlLanguages","languageDb","defaultLanguage","getLanguage","navigator","languages","userLanguage","savedLanguage","browserLanguageCode","browserLanguage"],"mappings":"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","file":"static/js/main.7c2bdb9a.chunk.js","sourcesContent":["export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAUCAYAAACEYr13AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEKADAAQAAAABAAAAFAAAAADB1dcyAAABdUlEQVQ4Ee2UsUvDQBTGm/SCi0I2iSJadxEHF0GkQ0U6iIiUlqwi6Ko4OncRnETc04T8BaKdLZTSpZOgqzjXRduQ+IuacAa5dnD04Ljv3vu+747H3dN83y8Mh8MrTdPWoiiazEmDWMC2p+v6frVa7UqpFGqNRuOG3SriSwSPaeYL1IlPAPPMkm3b7Uw+pzmO0+eEi1qtdpZNYv5A7Jq5gdE6vBK8jszT2UyRfJKDGTwQQuxxu/swDG9d112R87HByFGpVAamae5i0uawpud5y4loLIOYXC6X3y3L2sGgy02aFH8pjisNIEdw4gJ+jmKx+GYYxjbhXhAEd5jMiiT528qVO5BPKeZWkkeYI24QnwYfKA0o3gkkG/FcYiCtC+AZpQHFe4F0LolSyK3iQuaVNUjZCvBvMOIhKWqXpv6kiK/YLaaWYwJeYgFqX8TfFHBEX4j476pvnVjnEW8y59G2eK3i8LulHfPLfrS0RJFdET4z67Q5/wMob42oqL23twAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAUCAYAAACXtf2DAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAFAAAAAAnxZisAAAC1ElEQVQ4EZ2TX0jTURTH/f32q/ngTEkwCixmNRQtiL30Xi9i7kXWdAQJUVCJgY9BPkQFPVhPWS/hQ+oQJIY0o4ckgv7QXmp7MImoqIQSctoexsbW52zeH/c3tlpeuL9zzvec8z2/c+69Rl2Na3Z2dkehUOjK5XKHSJHdbRiGD8wyTfNBKBQawc6X0xnlwOLiorWysuJTJBB0b+ptEgtJCpFAJvL5/HtkOzHDFBkaGBiYlBh9WTiN6enpfgJ7cRyGvANsO3qWvcQWsgkhdLlciWAw+AXMsaampjrJ6QOcdDgwrJmZmXHkJfYL9gJENy3LSni93iW/3y9FalnPKDBUKVA6OE17E7R3vlJALZh0R9y+aDTqCQQCG3qOhTMns9TBWCzmTqVSw+BH8Xt0XxW9kR810un0Y8adJmYd+7nP57sjHQj5AT1xbW1NxnYO8qfIT7qvmk7sO83Xjj6+vLy820KR9uSm2IuicmB3w+HwRRv8T4VO7pPSJ3c4yShOluW3gMcVxhtoy2azl/lLk+I3KPxR+f4iJf8EPKZ00AzJHhUMUUHpInlc84izkJ/Bt6D7qunEFjlMkqWAkDjGpBLlwIntUjb6QbBGZf9LmrT7i7/6RqBdABL7hff09GTwP1RE6DGwdWWL5C355+bm9uqY0s1NJQGpXUA5lWxqagozyjDkp3iE/QpnrA284nnO8E0mk/nAwcqDdSy5RXWQJxHHHB7N4Np6eIgRCuQVDPkuDv4R9hHB4BCuWxRpHhwcHBNMVrEDEt+yO3G2luDSNx6Pb+MP75H8kzEkId0vnkgk0gH5K9QieSm69CX2Cjy34SuOufgBaMHxnZCX4HJLriJHwXrZxzWCH4xqjJFcB2vW8ErqVzjq7cOkSBCya4ANRLeiZ5D1lTJrxeBatQvoSYxlFXunjm1R/6xukSOfyq8dwBYN4alW4AKcTwj4vUXuDXJjbrd79A+Otjsh3VBTtQAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFKADAAQAAAABAAAAFAAAAACy3fD9AAACyklEQVQ4EaWVy2tTURDGc28SiCsXWklaVwVD8YEgaXDVkpXS+g55tFm6UKEIdmel2qDWnYIP6j+QpC20UayWrkJ1ZRsKRbpIXEkpSURdSmNe/ia953JtIxE8MJk5c775ztwzZ040W4uRyWQcxWLxUr1ev6xpWi8QjwEroFeQtMfjeR0IBKqG31SaaRlGKpUabDQajxEvZN/Q79Fbsozdhd2HPsg0h4zGYrF3sqaGSQhIg2wCfZfFT3a7fUzX9cVwOFxTYNGzs7P2arU6gDmJHGOD+NDQUFzWZJiEyWQyLmSQTLnd7putPmcnZOc3m806c7ncU2bXiZlQpE1C+UzOa4HFl3zCDWtgOzuRSEyR5TVIB6PR6KImBSgUChsE/vJ6vad8Pl+lHYl1XTLN5/Nr+BwU6oQO2UU+VQpwx0o2Pz9/gGPosQaLPT097eUcO5TfiBmDo6dUKl3QWZCr8YMivFUg0dvb22nUOsH7lR97X61WW6MoS8on2uFwSKW/c2xXhNAP+4fd1cT/Gf9Wd3f3T+zmCIVCZTbfxJ9XPtFG7DJmrxB6ADXvmSyqMTw8fNXpdB6xHgO4Otkcp3BRhVPa4OgUwr+OFlmrbPbEkHVDnEIo7dQpk/8ZZCgcBSGU3uyTDrASzs3NHcbntvrExu/B32X1k5zw9KNXHRhpjJjRTm8sQHulUlnh6nzEt0EGGrij5XLZj3nagrOBOcu8g8ud1uXVYJID/FAuuQIGg8EvLpfLz7yEnONKDIApUhQ/bbapcBLDBpNInpZ9tbv1XlDBEQX+F03bPmOzEe7xeVpvodXj8JydbrV7HIw384mQsfEDEhmXBExCPkejreIAxkl/nfO4HYlElrDr1kzB6TMzM2fAPcI+Ce4+md0D17w2JqEKsj6w+L4iy4DNB5Z5P3IIXx4Z5Tz/aNk9hIBtxue0/Asgq1WpphSg1bH8BqpaZxMCIb3UAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFKADAAQAAAABAAAAFAAAAACy3fD9AAACAUlEQVQ4EZ1VTU9TURA9c3k1IYGtQQwxMYBuXAHuSKgkbhr58D8U9/0BisqanSbKj6gmBTYGWNPiBhd8dOeiISlhU5ImpW8882yhr9xXPm570ztzzpzOnbnvPoFnzGxrUCtjQUMsEp7ifNSiVSDYFSA/MIafO2m56A4nFh8T3zQjglVVjMeRuMXAQzjkSlnZ6ERc21BVmfiuH2kXbhKzGAWekVeYXNMPbQ37vcwwElO87wRvuxaHZWZqyfwXtG1yXUgS4L9eMCN+kfJyBEpOprQkmxI14Ah/bAs+MomnxF4Ta3D+4nzo49F3MDiOF652jPkkMZKqLsDs3jv5zbkfpJBmw04SBJ+flzEXUMyOhm9UA4dZbaLe6nzYDPE3EKS5/y3GDXUHhYq3jpV52Q3Qtu29CvtwRtImi95PO4UmNkKgTjHLtN4dx/JM2bFpH9ornEV2gmltYIfBTwk02D5rzEhTsU07zSND7figbziIu1qW4gHZXxKwJ/R/9WJ0WoaVJPAe/oqzZ/MegUkhRZYK+ST0rn42L+/s1qDoYa9gUTzmzTPckyM4GhjFD2oBNz16kRA7z0/E9wn3Cd7sLkkhum34FKyT+slHvPT1EGPdVkzMuJGgLUpZLPPns63vMiKx7NUtdW0Lt75gWTMe5Fy0u44Mrgka1vMVABStm9YA3yvgH7eCrtZpy5pnAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAUCAYAAACJfM0wAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFqADAAQAAAABAAAAFAAAAABm4WA6AAAC0UlEQVQ4EZ2VTWsTURSGO5NJIAmoFYsiih9ZSAq6cFEoVARdWEMQXEQXTUojYkD9AW6ajUh/gYsgJBiTKsRClAhCBdOlqF2I3xZqFwpuQgjNR5NMxuekSWidibUeODl33nPue9+598yNMtCxZDJ5RFGUs/hpfC9wq5v7WzQMo4y/pSbfbDYXw+FwTeoV+UmlUtcJMxDukOf/tFUWyLZarejk5OSygtIxm82Wh+wnHmXVLyzQUFW1vWh3EbCWruvKnzhEQOpB8pcgHqc+7XA4bmqQ3udBpeBaKBR63iXaZnyFwA9wDUI+Uq1Wd2kQHMULAIv9yBKJxD673S4CngaDwbtWdSgugr/Dx1HsEmIxnS0w1oemXwXS3aBj+Iop2wFkPnVNFlBrtZpN7Ve4EW80GhUmrIHVN+IWY4U3N1BsdBVvqgkEAja/3z+iaZqfhI1aUezCR+mgGaK83Q/8AVtTIprMktjn89k5iAtU35IZqG1PJJ5kIC7CvhNf4h9xk1luhTR5uVy+zb4do8WG6Rg/RCX8Yb1e9/LsBT+F2k8mxg5gqVhykUikQviKK3RFk4NpobjIop8lv5X1FHNA/bpigL02IJW8vgVhj6OtmFd0OZ1OORwrMyqVyorL5bpMctmqQDA47AS5EnS+xIYGEEfNFQ7rKmAUNxnb0gCcNyU6QCwWs9NiXnjOwPerUCiUFMA9brd7AXCYugUS74llnucnJiZeMJb75DAqphhbXVKi9AA+ypw1DvYOV0Os3UfpdPoQwDSTz0M8RJHYo6WlpSmPx3OcCbOdhUkbvX2UInC5XovAbxjfy2azTzKZjL7eoFKBoX4ne+mh4BmeA5J7YY5J+3mepsXm8E3E8pXRlqu5XK4ohMIjtolYgHg8PkTxa4ZyqcirD+I36NlZ4j9br926M6TtUFfHT+Dy5he3SypcJmLUyj/BY3Lf2PdzHEReCrdrvwH3LTvlG+Q2kQAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFKADAAQAAAABAAAAFAAAAACy3fD9AAACxklEQVQ4EZ2US2hTURCGvTcP4yIUk0W7EKOE1IUbKfjYabEiIrgQESFNNKltspCgVTciko24UCoUoS2tpnnhpkVwU1QKdSGopUKXJbqpoG2hxqB508ZvQm64xrRqB4Y5Z+af/8yZ81C2bSCDg4PbW1paOgwGwzEgvejj7u7uuxvA626lPqoNwuGw2el0+hRFuYbuq1QqZazgyuvr60GPxxNrzNHPVf0kFovtdrlcU6qqDsOxSOw81gXpO8YW/OOJROKiPqdxXK9QyNjeCwCtEPSxvQkNnEwmZ/CZaotcYHyJeFSL6221QukXZLKVVvSEnkzAEHzB7CyVSj7GExCPx+Nxr8QapUpos9l8BI4C7nG73XONIAjeou3428rlsgc7yfajzUjVgYGBHYBvAHpFZc8ayWROZVOYislkCvh8vsLy8vKGpKrdbj8A2IkOo00FkhSBURa+SVWn+/v786lUSno50VipajQaTwEuIrNN2WpOqrwFwRtIn3PS9xwOx15y/PieQjqqbV96GMK5lM/n05sRUuX3bDZ7BswQet1sNi9YLJb3LLCHuRk7xm24rUL2g0n1cAhsKoFAIEOfr3Aw+7nkIcBz5BdRqVy4Akac0rs7VqvVhv2J/lVqPZW+PhIwLdiF+QThkFQ2jUrJB7FblSMkmiGcVldWVuYZfKSxwa2ykRcUjrW1tXlVrgCTBzi7aOrZ/yVlu+fY3XH0vtzR6mGk0+lxiF6jYxx/x7+SRqPRQ2BHKWhmdXW1+rYVLVn/OXCCvXxTk1qsmWVh+YlGiH3ljp70+/2fBVcnlAlbdrBaBGAn9iUueR2zhULhm8Tps53ndxjfZaZdYKZZ3O/1ehclLvIboThqH2wPyVeZtpMkH+wSFqO04TMyXkAf5nK5J9zNsuRp8gehFohEIhaeZQcknfj60Ao6wknOZDKZD6FQqKhh9fYXWbRNtH+OHB4AAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFaADAAQAAAABAAAAFQAAAAAIGxIOAAACcElEQVQ4EZ2UPYgTQRiGs3MJhoAHBoNgIQd3vYiVjaV2IhHCZqMcWFgqCqcQ9U4Uf++wsFCw8DfJhuUKUUhhk0KwUlA4sFA4EJSAhAsWggSzPt+6EyZze6dxYJj53vf93vl2ftZJbdLCMFSNRmOP4zhT9Dy9C7bquu475uFGqU4SgdF2kqskeow7bA34V7Aa3I1KpbK2jreBer1eAbtLn7S5hHhNKXWiXC4vm5wyAyqcJ67R/8VQUrdRbUDenAS6DT8fYhbBI02MM8b763qeF0heZOr7/s7BYPCRODeOmaX9nslkZkql0rfo86nwkm3I6s/pvpUYheBP6M8sbrLf718QTLVarS2YupYgBfaaz/HA71jcEvAs2BsLT7HQ0Xa7nVa9Xm8/5NYEwVW5CbRTcJExSYvEc/H+X7ZzKCTf6XT2KYTTNikxggm4x9qY+SEqPBsbPkAycnMMj+k0B1QwgJGpNm42myu8ohcssBdsM0MppiCrrXsRpjMV3sTwfRAEu/j0t8RLJp8wlwehPicQEYTBdV7LeflkTvYTlcpdPAd+a6Mc8VO5XK6N6KctgryHQdXYwwy6mjZGf9/OIf5B3qvo8pO4zF4cMUUY3Cb+Ar7IODwU8F/Ep8FnGE/Shw3OpxAvLQjuFzmwwwgntIL5GT03x1hj312R9OEWZBJVwEF8YJUrAvxvI3+Bg5Sn/ufty4RVHP4BTxnl1zdWw/AhX31cJ5l7FXLSx9gKqXigBX8ZRTdvGop++Oszk7nsu9nja2AH4z00aXnjclgtCqiydSsjJEGiqRZx4QvczwOYTIHlWaDLfDWbzb4sFotdrbPH34IuDwr79+D1AAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFKADAAQAAAABAAAAFAAAAACy3fD9AAACvUlEQVQ4EZ2US2gTYRDHs8kmNFmxPqE5KFjSSxWKJ7GiiIeChYpahIJNPCQ1B6EXD4oPCCKIJ73koqVtXqIXIV6siBURih56kR6EUAQtloCpFpOQmKTxN8vukhfSOjCZb17/b76Z2Sg2g2ZmZnocDkc/qma32+um/V9yY2NDgSr1en0lEAgsSawiP/F4fAyQBzh7RP8PqpLzJJfLXVampqZ2dXV1LQHm5abnOJa3CKgRf94oJqy63e4DGATszfj4+OgWwfTwRCKxAGASjIi9Wq26DJCVVrBIJGJvtXXSadc3scsrGxMaz7ZUKjXp8/kWk8nk6U4gjTaGY+WqjQ7zDNhOzte4cTvyBjwH65OfnZ096HQ6d9dqtUW2oi+TyXziqdZWWMgkWIR/CEVDXoePACLrZKNXIVVVF7Dd45lPkS97e3v34KqJX6gjIPZL8IdCofCIKteo5AK6AshNZJThHcP+mrNU2oTRpBBgm56e3oc4AfdrmiZrpJF8ll3dS0U70N/DNvr2DlGiYn2XxSbUBuhyuUYB8OCT6uYBSSEH0A8hv8Ij0Wh0G/oZzm5kE3UaygAg8zzrrkTK4rOrIzx7P1XJoGLd3d2DuD7DX4rFYsXj8VhVtlVYKpWu0jtrwUOh0Bp9OpzNZp/5/f65SqUyAI+l0+mLXHwqHA7/ANgB66TEYrGjxuQSVBUQq7HQqtfr1ddhdXVVpiiX2/H9kZhGYvonGdhbsbU9Gecgzji3O/HrgCy4ma+w6D/L5fJwMBj8bhobpQVIb/RknrxMz+4DqJo2MwGbrE6ez/WXaROJXc+VswCaSylfhW1iYiKLeCznzRIXy9QFuKBy2woT/I0+xCd3C2Nms0BGZfKHfMXIeaiPm77dxnhns0Cd4gD/SLuGrf0B9DiB5yi/r7V3nQDEBgihyjrHV/l8/gUrtP4Xpzwg0n0yQo8AAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFKADAAQAAAABAAAAFAAAAACy3fD9AAAC00lEQVQ4EZWVSWiTURDH82WtSUAEIVpbsTRCDm6IeBA9SL24EaQHhSweUgw0olA8eKrBU1GMeBANWELboGCLWhEiXlpPLlRFNELBNMWDB0GtaTRLs/ib2C8kNZE4MJl5/5n5v3nL96JokLGxsfWYAUVR+lGzYK1KuVyeJffC5OTkxPj4eFGJRCLrjEbjFKCjVZJGeaVS6arH4xlQotHoNbo6Q9LTYrF4Cf9Xo4JmGPmbiUmdiXqHnsEpSWaGIa/X+1j8/5Rpmuqh5rhWq23Xw9wmBOxF/l9Eo6OjR3U63UkmXsjn84M+n++zmq+uCg6tdFgR2BXVr7XhcHi12Wy+QtwnOFZjMpkWcM+peRDB+adcq4KNLF1ttFqtj4SMog90109eGf3SKF+wpoScvgOiGDl7IXu9tLTUQxfbGX/P5XJRKW4k1SXXBtnkrRTfB+tGZ+jssMFg2A3mly5r96+2Tvy/OhwZGdlG4UNi3dJZNpt10p0cXoRxLJFIhKUwFAqtErtSqoTMXJAvhpN8QNImit+CHZNuOIRbjBVO1x+Px+XuDtpstvfY800J2a8CBJ100kXxOyHjXn5iktNgB8H66PSr0+m8B4kHfYnub0pIoC2ZTM4UCoU9kB2ALDk8PNzORBchu078hcVimYZ8wzLRWvIiKwnrDiUYDJZIeKYm8Y0fwl8DyTfsc/QN5F7sEaw+k8nEuKdm4nKVKlLdQxWotXSXoHARLIDe4EXpdbvdKfw+9BV39DaXvpOcAuOKVAkBiyqoWpfLNQW+k6VtgWhInqfl2F1sB/hlXhh5vnRqjSw5gXbTtjxf02idUPCxDmAA+U2MqIZt0lIr91Ukq/B5neCq3KGTRQJPAH/iN/yuKyXLP+q+kduFvw94Pp1O79DPzc1N2O32XYCyL72Sjy+mJZFcSGdZ/lm/3/+jWskl7YBB/gqq+9EKI2SZVCqVCAQCacn/Df0ARrWi/DDAAAAAAElFTkSuQmCC\"","export const USER_JOINED = 'onUserJoined';\r\nexport const USER_LEFT = 'onUserLeft';\r\n\r\nexport const TEXT_MESSAGE_RECEIVED = 'onTextMessageReceived';\r\nexport const MEDIA_MESSAGE_RECEIVED = 'onMediaMessageReceived';\r\nexport const CUSTOM_MESSAGE_RECEIVED = 'onCustomMessageReceived';\r\nexport const MESSAGE_DELIVERED = 'onMessagesDelivered';\r\nexport const MESSAGE_READ = 'onMessagesRead';\r\nexport const MESSAGE_DELETED = 'onMessageDeleted';\r\nexport const MESSAGE_EDITED = 'onMessageEdited';\r\n\r\nexport const INCOMING_CALL_RECEIVED = 'onIncomingCallReceived';\r\nexport const OUTGOING_CALL_ACCEPTED = 'onOutgoingCallAccepted';\r\nexport const OUTGOING_CALL_REJECTED = 'onOutgoingCallRejected';\r\nexport const INCOMING_CALL_CANCELLED = 'onIncomingCallCancelled';\r\n\r\nexport const CALL_ENDED = 'onCallEnded';\r\n\r\nexport const GROUP_MEMBER_SCOPE_CHANGED = \"onGroupMemberScopeChanged\";\r\nexport const GROUP_MEMBER_KICKED = \"onGroupMemberKicked\";\r\nexport const GROUP_MEMBER_BANNED = \"onGroupMemberBanned\";\r\nexport const GROUP_MEMBER_UNBANNED = \"onGroupMemberUnbanned\";\r\nexport const GROUP_MEMBER_ADDED = \"onMemberAddedToGroup\";\r\nexport const GROUP_MEMBER_LEFT = \"onGroupMemberLeft\";\r\nexport const GROUP_MEMBER_JOINED = \"onGroupMemberJoined\";\r\n\r\nexport const USER_ONLINE = \"onUserOnline\";\r\nexport const USER_OFFLINE = \"onUserOffline\";\r\n\r\nexport const TYPING_STARTED = \"onTypingStarted\";\r\nexport const TYPING_ENDED = \"onTypingEnded\";\r\n\r\nexport const CATEGORY_MESSAGE = \"message\";\r\nexport const MESSAGE_TYPE_TEXT = \"text\";\r\nexport const MESSAGE_TYPE_IMAGE = \"image\";\r\nexport const MESSAGE_TYPE_VIDEO = \"video\";\r\nexport const MESSAGE_TYPE_AUDIO = \"audio\";\r\nexport const MESSAGE_TYPE_FILE = \"file\";\r\n\r\nexport const CATEGORY_CUSTOM = \"custom\";\r\nexport const CUSTOM_TYPE_POLL = \"extension_poll\";\r\nexport const CUSTOM_TYPE_STICKER = \"extension_sticker\";\r\nexport const CUSTOM_TYPE_DOCUMENT = \"extension_document\";\r\nexport const CUSTOM_TYPE_WHITEBOARD = \"extension_whiteboard\";\r\nexport const CUSTOM_TYPE_MEETING = \"meeting\";\r\n\r\nexport const CATEGORY_ACTION = \"action\";\r\nexport const ACTION_TYPE_GROUPMEMBER = \"groupMember\";\r\nexport const ACTION_TYPE_MESSAGE = \"message\";\r\n\r\nexport const CATEGORY_CALL = \"call\";\r\nexport const CALL_TYPE_AUDIO = \"audio\";\r\nexport const CALL_TYPE_VIDEO = \"video\";\r\n\r\nexport const LIVE_REACTION_KEY = \"live_reaction\";\r\nexport const LIVE_REACTIONS = { \"heart\": \"./resources/heart.png\", \"thumbsup\": \"\", \"clap\": \"\", \"wink\": \"\" };\r\nexport const MAX_MESSAGE_COUNT = 100;\r\nexport const LOCALE_KEY = \"cometchat:locale\";\r\n\r\n\r\n\r\nexport const CHAT_WITH_USER = \"user\";\r\nexport const CHAT_WITH_GROUP = \"group\";\r\n\r\nexport const ACTIONS = {\r\n    MESSAGE_SENT: \"messageSent\",\r\n    MESSAGE_COMPOSED: \"messageComposed\",\r\n    ERROR_IN_SENDING_MESSAGE: \"errorInSendingMessage\",\r\n    ACCEPT_DIRECT_CALL: \"acceptDirectCall\",\r\n    JOIN_DIRECT_CALL: \"joinDirectCall\",\r\n    START_DIRECT_CALL: \"startDirectCall\",\r\n    END_DIRECT_CALL: \"endDirectCall\",\r\n    POLL_CREATED: \"pollCreated\",\r\n    GROUP_DELETED: \"groupDeleted\",\r\n    GROUP_LEFT: \"leftGroup\",\r\n    GROUP_CREATED: \"groupCreated\"\r\n}","/* eslint-disable no-useless-concat */\r\n/* eslint-disable no-extend-native */\r\nimport dateFormat from \"dateformat\";\r\nimport Translator from \"../resources/localization/translator\";\r\n\r\nconst emailPattern = new RegExp(\"[A-Z0-9a-z._%+-]+@[A-Za-z0-9.-]+\\\\.[A-Za-z]{2,6}\", \"gi\");///([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\\.[a-zA-Z0-9._-]+)/gi;\r\nconst urlPattern = new RegExp(\"(^|[\\\\s.:;?\\\\-\\\\]<\\\\(])\"+\"((https?://|www\\\\.|pic\\\\.)[-\\\\w;/?:@&=+$\\\\|\\\\_.!~*\\\\|'()\\\\[\\\\]%#,]+[\\\\w/#](\\\\(\\\\))?)\"+\"(?=$|[\\\\s',\\\\|\\\\(\\\\).:;?\\\\-\\\\[\\\\]>\\\\)])\", \"gi\");\r\nconst phoneNumPattern = new RegExp(\"^\\\\s*(?:\\\\+?(\\\\d{1,3}))?([-. (]*(\\\\d{3})[-. )]*)?((\\\\d{3})[-. ]*(\\\\d{2,4})(?:[-.x ]*(\\\\d+))?)\\\\s*\", \"gi\");\r\nconst milliseconds = 1000;\r\nconst seconds = 1 * milliseconds;\r\nconst minute = 60 * seconds;\r\nconst hour = 60 * minute;\r\nconst day = 24 * hour;\r\n\r\nexport const linkify = (message) => {\r\n\r\n    let outputStr = message.replace(phoneNumPattern, \"<a target='blank' rel='noopener noreferrer' href='tel:$&'>$&</a>\");\r\n    outputStr = outputStr.replace(emailPattern, \"<a target='blank' rel='noopener noreferrer' href='mailto:$&'>$&</a>\");\r\n    outputStr = outputStr.replace(urlPattern, \"<a target='blank' rel='noopener noreferrer' href='$&'>$&</a>\");\r\n\r\n    return outputStr;\r\n}\r\n\r\nexport const validateWidgetSettings = (wSettings, checkAgainst) => {\r\n\r\n    let output = null;\r\n\r\n    if (wSettings && wSettings.hasOwnProperty(\"main\")) {\r\n\r\n        if (wSettings.main.hasOwnProperty(checkAgainst)) {\r\n            output = wSettings.main[checkAgainst];\r\n        } else {\r\n            output = false;\r\n        }\r\n    } \r\n    \r\n    return output;\r\n}\r\n\r\nexport const checkMessageForExtensionsData = (message, extensionKey) => {\r\n\r\n    let output = null;\r\n    \r\n    if (message.hasOwnProperty(\"metadata\")) {\r\n\r\n        const metadata = message.metadata;\r\n        const injectedObject = metadata[\"@injected\"];\r\n        if (injectedObject && injectedObject.hasOwnProperty(\"extensions\")) {\r\n\r\n            const extensionsObject = injectedObject[\"extensions\"];\r\n            if (extensionsObject && extensionsObject.hasOwnProperty(extensionKey)) {\r\n\r\n                output = extensionsObject[extensionKey];\r\n            }\r\n        }\r\n    }\r\n\r\n    return output;\r\n}\r\n\r\nexport const ID = () => {\r\n    // Math.random should be unique because of its seeding algorithm.\r\n    // Convert it to base 36 (numbers + letters), and grab the first 9 characters\r\n    // after the decimal.\r\n    return '_' + Math.random().toString(36).substr(2, 9);\r\n};\r\n\r\nexport const getUnixTimestamp = () => {\r\n\r\n    return Math.round(+new Date() / 1000);\r\n}\r\n\r\nconst dateDiffInDays = (a, b) => {\r\n\r\n    const milliSecondsPerDay = day;\r\n\r\n    // Discard the time and time-zone information.\r\n    const utc1 = Date.UTC(a.getFullYear(), a.getMonth(), a.getDate());\r\n    const utc2 = Date.UTC(b.getFullYear(), b.getMonth(), b.getDate());\r\n\r\n    return Math.floor((utc2 - utc1) / milliSecondsPerDay);\r\n}\r\n\r\n\r\nexport const getTimeStampForLastMessage = (timestamp, lang) => {\r\n\r\n    const timeStampInMilliSeconds = timestamp * 1000;\r\n\r\n    const messageTimestamp = new Date(timeStampInMilliSeconds);\r\n    const currentTimestamp = new Date(Date.now());\r\n\r\n    const dateDifferenceInDays = dateDiffInDays(messageTimestamp, currentTimestamp);\r\n\r\n    if (dateDifferenceInDays < 1) {\r\n\r\n        timestamp = dateFormat(messageTimestamp, \"shortTime\");\r\n\r\n    } else if (dateDifferenceInDays < 2) {\r\n\r\n        timestamp = Translator.translate(\"YESTERDAY\", lang);\r\n\r\n    } else if (dateDifferenceInDays < 7) {\r\n\r\n        timestamp = dateFormat(messageTimestamp, \"dddd\");\r\n        timestamp = Translator.translate(timestamp, lang);\r\n\r\n    } else {\r\n\r\n        timestamp = dateFormat(messageTimestamp, \"dS mmm, yyyy\");\r\n    }\r\n\r\n    return timestamp;\r\n}\r\n\r\nexport const getMessageSentTime = (timestamp, lang) => {\r\n\r\n    let oTimestamp = null;\r\n\r\n    const messageTimestamp = new Date(timestamp) * 1000;\r\n    //const currentTimestamp = Date.now();\r\n\r\n    //const diffTimestamp = Math.floor((currentTimestamp - messageTimestamp) / seconds); \r\n\r\n    // if (diffTimestamp < 2) {\r\n    //     oTimestamp = Translator.translate(\"JUST_NOW\", lang);\r\n    // } else {\r\n    //     oTimestamp = dateFormat(messageTimestamp, \"shortTime\");\r\n    // }\r\n\r\n    oTimestamp = dateFormat(messageTimestamp, \"shortTime\");\r\n\r\n    return oTimestamp;\r\n}\r\n\r\nexport const getMessageDate = (timestamp, lang) => {\r\n\r\n    const timeStampInMilliSeconds = timestamp * 1000;\r\n\r\n    const messageTimestamp = new Date(timeStampInMilliSeconds);\r\n    const currentTimestamp = new Date(Date.now());\r\n\r\n    const dateDifferenceInDays = dateDiffInDays(messageTimestamp, currentTimestamp);\r\n\r\n    if (dateDifferenceInDays < 1) {\r\n\r\n        timestamp = Translator.translate(\"TODAY\", lang);\r\n\r\n    } else if (dateDifferenceInDays < 2) {\r\n\r\n        timestamp = Translator.translate(\"YESTERDAY\", lang);\r\n\r\n    } else if (dateDifferenceInDays < 7) {\r\n\r\n        timestamp = dateFormat(messageTimestamp, \"dddd\");\r\n        timestamp = Translator.translate(timestamp, lang);\r\n\r\n    } else {\r\n\r\n        timestamp = dateFormat(timeStampInMilliSeconds, \"dS mmm, yyyy\");\r\n    }\r\n\r\n    return timestamp;\r\n}","export const theme = {\r\n    fontFamily: \"Inter, sans-serif\",\r\n    fontSize: \"14px\",\r\n    primaryColor: \"#39f\",\r\n    color: {\r\n        primary: \"#141414\",\r\n        secondary: \"#cccccc\",\r\n        darkSecondary: \"#eaeaea\",\r\n        grey: \"rgba(20,20,20,0.04)\",\r\n        helpText: \"rgba(20, 20, 20, 0.6)\",\r\n        blue: \"#39f\",\r\n        white: \"#fff\",\r\n        red: \"#ff3b30\"\r\n    },\r\n    borderColor: {\r\n        primary: \"#eaeaea\",\r\n        secondary: \"#cccccc\",\r\n        darkSecondary: \"#eaeaea\",\r\n        white: \"#fff\",\r\n        blue: \"#39f\",\r\n    },\r\n    backgroundColor: {\r\n        white: \"#fff\",\r\n        primary: \"#E6E6E6\",\r\n        secondary: \"#f6f6f6\",\r\n        blue: \"#39f\",\r\n        red: \"#ff3b30\",\r\n        grey: \"rgba(20,20,20,0.04)\",\r\n        lightGrey: \"rgba(20, 20, 20, 0.08)\",\r\n        darkGrey: \"rgba(20,20,20,0.9)\",\r\n        callScreenGrey: \"#444444\",\r\n        silver: \"#c4c4c4\"\r\n    },\r\n    breakPoints: [\r\n        \"(min-width: 320px) and (max-width: 767px)\",\r\n        \"(min-width: 320px) and (max-width: 480px)\",\r\n        \"(min-width: 481px) and (max-width: 768px)\",\r\n        \"(min-width: 769px) and (max-width: 1024px)\",\r\n        \"(min-width: 1025px) and (max-width: 1200px)\",\r\n    ]\r\n};\r\n","var map = {\n\t\".\": 64,\n\t\"./\": 64,\n\t\"./index\": 64,\n\t\"./index.js\": 64,\n\t\"./resources/heart.png\": 212,\n\t\"./style\": 73,\n\t\"./style.js\": 73\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 211;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAUCAYAAACXtf2DAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAFAAAAAAnxZisAAACpElEQVQ4Ea1VzUsVURQ/5868UrEg/AMy0NTMRQRBJfIQszKxgh5ByzbVIooiiDbZBwUtXAWJtGgRJW0MQsxnxfhRIbgpsqcQtajoA8uITGfu3Hs6Z+zJU3pq+n4wc+fee87vd+bcM2cQ5mB0Z+0WMuERQNiNgO+UgtYAgs7K7uffM01fVlevyc9391iAo5bsOkT1gPdvlvd4Q5l2mJ68bahdG2rTwvMmB9HV1gKP0WWA3oSWzlc86rsj9qm6mkOuwgsKsMQSgeErxpEYS5oQOpSLp0u7vA9iGwmkdsWLlaGuPKXKJw3TyU4GYizEYG+OFglXAt7gOWomzoRY5TsO+Na+8pEaqpJ97/FeIuFUjX++X+C4jb+ZPBsUi3C0Wvb5OSaRZ0MBi0xY01GxvfYApuprtjkE/ZZAZXeZpkrnczF2Ek9oaKtCi2c4ogXJRUKIFyJP2zmolHLUSZeAGjWXQq4RcpHwMTVxIeCwVEuuIWfGSPGIl/9OcqohnA7QVWUCeMg1PyJ1nCsIl7ZmVIcqqSo97xen6aK8UC4SleZB5VwS7ijs8p7e9sDQLflIlos8R4FPdLs9Gb8rXJEAq5K7YurEpLHeckTEd8rYp77G483QHNXmTOJLuwZ/ukof9I0dWIqI+PjWDFqHEps870c6EzMCslCSfPYVQtzvG9MpDos5E7GZJrc9gfX3buju/5Qml3GWgCyUed7YtwmdYJHrLqqom8r6vyDfT0whsG3bqrzV+6oeD36ZazdvkCN1NYe5nq8xSRHndpYvd14Igca5dZxdn+xtm7WZMZlXQOxe18c3ukQtLLJDc0cUSPsOiJ6AMqfKugdeRItZbgsKiN/Q5s2xwqLCYw7hOWl3/FO5oj+OtVYODwdZeJe2LD+mVDxe/D/efwCuAQs2cnkFkQAAAABJRU5ErkJggg==\"","var map = {\n\t\".\": 65,\n\t\"./\": 65,\n\t\"./index\": 65,\n\t\"./index.js\": 65,\n\t\"./resources/attach.png\": 97,\n\t\"./resources/attachaudio.png\": 99,\n\t\"./resources/attachfile.png\": 100,\n\t\"./resources/attachimage.png\": 101,\n\t\"./resources/attachvideo.png\": 98,\n\t\"./resources/close.png\": 106,\n\t\"./resources/createpoll.png\": 104,\n\t\"./resources/heart.png\": 215,\n\t\"./resources/insertemoji.png\": 102,\n\t\"./resources/insertsticker.png\": 105,\n\t\"./resources/launchcollaborativedocument.png\": 107,\n\t\"./resources/launchcollaborativewhiteboard.png\": 108,\n\t\"./resources/sendmessage.png\": 103,\n\t\"./style\": 34,\n\t\"./style.js\": 34\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 214;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAUCAYAAACXtf2DAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAFAAAAAAnxZisAAACpElEQVQ4Ea1VzUsVURQ/5868UrEg/AMy0NTMRQRBJfIQszKxgh5ByzbVIooiiDbZBwUtXAWJtGgRJW0MQsxnxfhRIbgpsqcQtajoA8uITGfu3Hs6Z+zJU3pq+n4wc+fee87vd+bcM2cQ5mB0Z+0WMuERQNiNgO+UgtYAgs7K7uffM01fVlevyc9391iAo5bsOkT1gPdvlvd4Q5l2mJ68bahdG2rTwvMmB9HV1gKP0WWA3oSWzlc86rsj9qm6mkOuwgsKsMQSgeErxpEYS5oQOpSLp0u7vA9iGwmkdsWLlaGuPKXKJw3TyU4GYizEYG+OFglXAt7gOWomzoRY5TsO+Na+8pEaqpJ97/FeIuFUjX++X+C4jb+ZPBsUi3C0Wvb5OSaRZ0MBi0xY01GxvfYApuprtjkE/ZZAZXeZpkrnczF2Ek9oaKtCi2c4ogXJRUKIFyJP2zmolHLUSZeAGjWXQq4RcpHwMTVxIeCwVEuuIWfGSPGIl/9OcqohnA7QVWUCeMg1PyJ1nCsIl7ZmVIcqqSo97xen6aK8UC4SleZB5VwS7ijs8p7e9sDQLflIlos8R4FPdLs9Gb8rXJEAq5K7YurEpLHeckTEd8rYp77G483QHNXmTOJLuwZ/ukof9I0dWIqI+PjWDFqHEps870c6EzMCslCSfPYVQtzvG9MpDos5E7GZJrc9gfX3buju/5Qml3GWgCyUed7YtwmdYJHrLqqom8r6vyDfT0whsG3bqrzV+6oeD36ZazdvkCN1NYe5nq8xSRHndpYvd14Igca5dZxdn+xtm7WZMZlXQOxe18c3ukQtLLJDc0cUSPsOiJ6AMqfKugdeRItZbgsKiN/Q5s2xwqLCYw7hOWl3/FO5oj+OtVYODwdZeJe2LD+mVDxe/D/efwCuAQs2cnkFkQAAAABJRU5ErkJggg==\"","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\nimport { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport { theme } from \"../../../resources/theme\";\r\n\r\nimport { imgStyle } from \"./style\";\r\n\r\nimport srcIcon from \"./resources/1px.png\";\r\n\r\nclass CometChatAvatar extends React.Component {\r\n\r\n  constructor(props) {\r\n    \r\n    super(props);\r\n    this.imgRef = React.createRef();\r\n\r\n    this.state = {\r\n      avatarImage: srcIcon\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setAvatarImage();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n\r\n    if(prevProps !== this.props) {\r\n\r\n      this.setAvatarImage();\r\n    }\r\n  }\r\n\r\n  setAvatarImage = () => {\r\n\r\n    if ((this.props.image).trim().length) {\r\n\r\n      this.getImage(this.props.image);\r\n\r\n    } else if (Object.keys(this.props.user).length) {\r\n\r\n      if (this.props.user.hasOwnProperty(\"avatar\")) {\r\n\r\n        const avatarImage = this.props.user.avatar;\r\n        this.getImage(avatarImage);\r\n\r\n      } else {\r\n\r\n        const uid = this.props.user.uid;\r\n        const char = this.props.user.name.charAt(0).toUpperCase();\r\n\r\n        const avatarImage = this.setAvatar(uid, char);\r\n        this.getImage(avatarImage);\r\n      }\r\n\r\n    } else if (Object.keys(this.props.group).length) {\r\n\r\n      if (this.props.group.hasOwnProperty(\"icon\")) {\r\n\r\n        const avatarImage = this.props.group.icon;\r\n        this.getImage(avatarImage);\r\n\r\n      } else {\r\n\r\n        const guid = this.props.group.guid;\r\n        const char = this.props.group.name.charAt(0).toUpperCase();\r\n\r\n        const avatarImage = this.setAvatar(guid, char);\r\n        this.getImage(avatarImage);\r\n\r\n      }\r\n    }\r\n  }\r\n\r\n  getImage = (image) => {\r\n\r\n    let img = new Image();\r\n    img.src = image;\r\n    img.onload = () => {\r\n      this.setState({ avatarImage: image });\r\n    }\r\n  }\r\n\r\n  setAvatar = (generator, data) => {\r\n\r\n    const stringToColour = function (str) {\r\n\r\n      let hash = 0;\r\n      for (let i = 0; i < str.length; i++) {\r\n        hash = str.charCodeAt(i) + ((hash << 5) - hash);\r\n      }\r\n\r\n      let colour = '#';\r\n      for (let i = 0; i < 3; i++) {\r\n        let value = (hash >> (i * 8)) & 0xFF;\r\n        colour += ('00' + value.toString(16)).substr(-2);\r\n      }\r\n      return colour;\r\n    }\r\n\r\n    const svg1 = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\r\n    svg1.setAttribute(\"width\", \"200\");\r\n    svg1.setAttribute(\"height\", \"200\");\r\n\r\n    const rect = document.createElementNS(\"http://www.w3.org/2000/svg\", \"rect\");\r\n    rect.setAttribute('x', '0');\r\n    rect.setAttribute('y', '0');\r\n    rect.setAttribute('width', '200');\r\n    rect.setAttribute('height', '200');\r\n    rect.setAttribute('fill', stringToColour(generator));\r\n    const text = document.createElementNS(\"http://www.w3.org/2000/svg\", \"text\");\r\n    text.setAttribute('x', '50%');\r\n    text.setAttribute('y', '54%');\r\n    text.setAttribute('dominant-baseline', 'middle');\r\n    text.setAttribute('text-anchor', 'middle');\r\n    text.setAttribute('fill', 'white');\r\n    text.setAttribute('font-size', '120');\r\n    text.setAttribute('font-family', \"'Inter', sans-serif\");\r\n    text.setAttribute('font-wight', \"600\");\r\n    text.textContent = data;\r\n    svg1.appendChild(rect);\r\n    svg1.appendChild(text);\r\n    let svgString = new XMLSerializer().serializeToString(svg1);\r\n\r\n    let decoded = unescape(encodeURIComponent(svgString));\r\n    let base64 = btoa(decoded);\r\n\r\n    let imgSource = `data:image/svg+xml;base64,${base64}`;\r\n    return imgSource;\r\n  }\r\n\r\n  render() {\r\n\r\n    const borderWidth = this.props.borderWidth;\r\n    const borderStyle = this.props.borderStyle;\r\n    const borderColor = this.props.borderColor;\r\n    const cornerRadius = this.props.cornerRadius;\r\n\r\n    const getStyle = () => ({ borderWidth: borderWidth, borderStyle: borderStyle, borderColor: borderColor, borderRadius: cornerRadius });\r\n\r\n    return (\r\n      <img src={this.state.avatarImage} css={imgStyle()} alt={this.state.avatarImage} style={getStyle()} ref={el => { this.imgRef = el;}} />\r\n    );\r\n  }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatAvatar.defaultProps = {\r\n  borderWidth: \"1px\",\r\n  borderStyle: \"solid\",\r\n  borderColor: theme.borderColor.primary,\r\n  cornerRadius: \"50%\",\r\n  theme: theme,\r\n  image: \"\",\r\n  user: {},\r\n  group: {},\r\n};\r\n\r\nCometChatAvatar.propTypes = {\r\n  borderWidth: PropTypes.string,\r\n  borderStyle: PropTypes.string,\r\n  borderColor: PropTypes.string,\r\n  cornerRadius: PropTypes.string,\r\n  image: PropTypes.string,\r\n  theme: PropTypes.object,\r\n  user: PropTypes.oneOfType([PropTypes.object, PropTypes.shape(CometChat.User)]),\r\n  group: PropTypes.oneOfType([PropTypes.object, PropTypes.shape(CometChat.Group)])\r\n}\r\n\r\nexport default CometChatAvatar;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEXx7OqhaJO7AAAAAXRSTlPM0jRW/QAAAApJREFUeJxjYgAAAAYAAzY3fKgAAAAASUVORK5CYII=\"","export const imgStyle = () => {\r\n\r\n    return {\r\n        overflow: \"hidden\",\r\n        display: \"inherit\",\r\n        width: \"100%\",\r\n        height: \"100%\"\r\n    }\r\n}","/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport {\r\n    backdropStyle\r\n} from \"./style\";\r\n\r\nconst CometChatBackdrop = (props) => (\r\n    props.show ? <div css={backdropStyle()} className=\"modal__backdrop\" onClick={props.clicked}></div> : null\r\n);\r\n\r\n// Specifies the default values for props:\r\nCometChatBackdrop.defaultProps = {\r\n    count: 0,\r\n    clicked: () => {}\r\n};\r\n\r\nCometChatBackdrop.propTypes = {\r\n    show: PropTypes.bool,\r\n    clicked: PropTypes.func,\r\n}\r\n\r\nexport default CometChatBackdrop;","export const backdropStyle = () => {\r\n\r\n    return {\r\n        zIndex: \"1000\",\r\n        backgroundColor: \"#000\",\r\n        opacity: \".3\",\r\n        position: \"fixed\",\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        top: \"0\",\r\n        left: \"0\",\r\n        cursor: \"pointer\",\r\n        transition: \"background .3s ease-out 0\",\r\n    }\r\n}","export const badgeStyle = (props) => {\r\n\r\n    return {\r\n        display: \"block\",\r\n        fontSize: \"12px\",\r\n        width: \"auto\",\r\n        height: \"18px\",\r\n        borderRadius: \"16px\",\r\n        backgroundColor: `${props.theme.backgroundColor.blue}`,\r\n        color: `${props.theme.color.white}`,\r\n        textAlign: \"center\",\r\n        fontWeight: \"700\",\r\n        lineHeight: \"18px\",\r\n        marginLeft: \"4px\",\r\n        padding: \"0 9px\",\r\n        marginRight: \"2px\",\r\n        opacity: \"1\",\r\n        transition: \"opacity .1s\",\r\n    }\r\n}","/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { theme } from \"../../../resources/theme\";\r\nimport { badgeStyle } from \"./style\";\r\n\r\nconst CometChatBadgeCount = (props) => {\r\n\r\n  let count = \"\";\r\n\r\n  if(props.count) {\r\n    count = (\r\n      <span css={badgeStyle(props)} className=\"unread-count\">{props.count}</span>\r\n    );\r\n  }\r\n  \r\n  return count;\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatBadgeCount.defaultProps = {\r\n  count: 0,\r\n  theme: theme\r\n};\r\n\r\nCometChatBadgeCount.propTypes = {\r\n  count: PropTypes.number,\r\n  theme: PropTypes.object\r\n}\r\n\r\nexport default CometChatBadgeCount;","import { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport * as enums from \"../../../util/enums.js\";\r\n\r\nexport class SharedMediaManager {\r\n\r\n    mediaMessageListenerId = new Date().getTime();\r\n    mediaMessageRequest = null;\r\n\r\n    constructor(item, type, messagetype) {\r\n\r\n        if(type === \"user\") {\r\n\r\n            this.mediaMessageRequest = new CometChat.MessagesRequestBuilder()\r\n            .setUID(item.uid)\r\n            .setLimit(10).setCategory(\"message\").setType(messagetype).build();\r\n\r\n        } else {\r\n\r\n            this.mediaMessageRequest = new CometChat.MessagesRequestBuilder()\r\n            .setGUID(item.guid)\r\n            .setLimit(10).setCategory(\"message\").setType(messagetype).build();\r\n        }\r\n    }\r\n\r\n    fetchPreviousMessages() {\r\n        return this.mediaMessageRequest.fetchPrevious();\r\n    }\r\n    \r\n    attachListeners(callback) {\r\n\r\n        CometChat.addMessageListener(\r\n            this.msgListenerId,\r\n            new CometChat.MessageListener({\r\n                onMediaMessageReceived: mediaMessage => {\r\n                    callback(enums.MEDIA_MESSAGE_RECEIVED, mediaMessage);\r\n                },\r\n                onMessageDeleted: deletedMessage => {\r\n                    callback(enums.MESSAGE_DELETED, deletedMessage);\r\n                }\r\n            })\r\n        );\r\n    }\r\n\r\n    removeListeners() {\r\n        CometChat.removeMessageListener(this.mediaMessageListenerId);\r\n    }\r\n\r\n}","export const sectionStyle = (props) => {\r\n\r\n    const containerHeightProp = (props.containerHeight) ? {\r\n        height: `calc(100% - ${props.containerHeight})`\r\n    } : {\r\n        height: \"calc(100% - 20px)\"\r\n    };\r\n\r\n    \r\n    return {\r\n        width: \"100%\",\r\n        ...containerHeightProp\r\n    }\r\n}\r\n\r\nexport const sectionHeaderStyle = (props) => {\r\n\r\n    return {\r\n        margin: \"0\",\r\n        width: \"100%\",\r\n        fontSize: \"12px\",\r\n        fontWeight: \"500!important\",\r\n        lineHeight: \"20px\",\r\n        color: `${props.theme.color.secondary}`,\r\n        textTransform: \"uppercase\",\r\n    }\r\n}\r\n\r\nexport const sectionContentStyle = () => {\r\n\r\n    return {\r\n        width: \"100%\",\r\n        margin: \"6px 0\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        height: \"calc(100% - 20px)\"\r\n    }\r\n}\r\n\r\nexport const mediaBtnStyle = () => {\r\n\r\n    return {\r\n        borderRadius: \"8px\",\r\n        backgroundColor: \"rgba(20, 20, 20, 0.08)\",\r\n        width: \"100%\",\r\n        padding: \"2px\",\r\n        margin: \"6px 0\",\r\n        clear: \"both\",\r\n    }\r\n}\r\n\r\nexport const buttonStyle = (state, type) => {\r\n\r\n    const activeBtn = (state.messagetype === type) ? {\r\n        backgroundColor : \"#fff\",\r\n        boxShadow: \"rgba(20, 20, 20, 0.04) 0 3px 1px, rgba(20, 20, 20, 0.12) 0 3px 8px\",\r\n        borderRadius: \"7px\",\r\n        \"&::before\": {\r\n            display: \"none\",\r\n        }\r\n    } : {};\r\n\r\n    return {\r\n        display: \"inline-block\",\r\n        width: \"33.33%\",\r\n        float: \"left\",\r\n        fontSize: \"13px\",\r\n        fontWeight: \"500\",\r\n        lineHeight: \"18px\",\r\n        padding: \"5px\",\r\n        position: \"relative\",\r\n        textAlign: \"center\",\r\n        cursor: \"pointer\",\r\n        ...activeBtn,\r\n        \"&:before\": {\r\n            \"`content`\": \"\",\r\n            position: \"absolute\",\r\n            display: \"block\",\r\n            width: \"2px\",\r\n            height: \"16px\",\r\n            backgroundColor: \"rgba(20, 20, 20, 0.12)\",\r\n            right: \"-2px\",\r\n            top: \"6px\",\r\n        },\r\n        \"&:last-of-type::before\": {\r\n            display: \"none\",\r\n        }\r\n    }\r\n}\r\n\r\nexport const mediaItemStyle = () => {\r\n\r\n    return {\r\n        height: \"calc(100% - 45px)\",\r\n        overflowY: \"auto\",\r\n        overflowX: \"hidden\",\r\n        display: \"flex\",\r\n        flexWrap: \"wrap\",\r\n        fontSize: \"14px\",\r\n    }\r\n}\r\n\r\nexport const itemStyle = (state, props, img) => {\r\n\r\n    let itemTypeStyle = {};\r\n    let bgColor = `${props.theme.backgroundColor.lightGrey}`;\r\n\r\n    if (state.messagetype === \"image\") {\r\n\r\n        itemTypeStyle = {\r\n            height: \"120px\",\r\n            width: \"120px\",\r\n            backgroundColor: bgColor,\r\n            \"> img\": {\r\n                display: \"block\",\r\n                width: \"100%\",\r\n                height: \"100%\",\r\n                objectFit: \"contain\",\r\n            }\r\n        }\r\n        \r\n    } else if (state.messagetype === \"video\") {\r\n\r\n        itemTypeStyle = {\r\n            \"> video\": {\r\n                height: \"120px\",\r\n                width: \"120px\",\r\n                margin: \"auto\",\r\n            }\r\n        }\r\n\r\n    } else if (state.messagetype === \"file\") {\r\n\r\n        itemTypeStyle = {\r\n            backgroundColor: bgColor,\r\n            \"> a\": {\r\n                maxWidth: \"100%\",\r\n                maxHeight: \"100%\",\r\n                margin: \"auto\",\r\n                backgroundColor: bgColor,\r\n                display: \"inline-block\",\r\n                padding: \"10px\",\r\n                paddingLeft: \"40px\",\r\n                fontSize: \"13px\",\r\n                color: `${props.theme.color.primary}`,\r\n                background: `url(${img}) no-repeat 10px center`,\r\n                whiteSpace: \"pre-wrap\",\r\n                wordWrap: \"break-word\",\r\n                textAlign: \"left\",\r\n                \"&:hover, &:visited\": {\r\n                    color: `${props.theme.color.primary}`,\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    return {\r\n        margin: \"0.5rem\",\r\n        textAlign: \"center\",\r\n        flex: \"1 0 auto\",\r\n        ...itemTypeStyle,\r\n        \"@for $i from 1 through 36\": {\r\n            \"&:nth-of-type(#{$i})\": {\r\n            maxWidth: \"100%\",\r\n            }\r\n        }\r\n    }\r\n}","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAgCAYAAADnnNMGAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGaADAAQAAAABAAAAIAAAAAD0wk2pAAACf0lEQVRIDe2Wv2sTYRjHn/dyUQelVBEXHVpBweog5hqHLg4KQkEotWCRgsXW3b8gLTq6dGtaSiVYqrUiCIqDIC5WY9xcXIrURUGH4mJ6udfPE3LQXO4CSTNJnvL2fX7d93mf73uX9zWCeEv2hPXlPmrWWuljTqu/QYxY/rbFSMlxZKZ427xryIlxmFqBL4AfioknuoyIT7HJT9OmkJhUC7h0cK9W4A++nGPkPeNv3IN+IHfxj1PglxU5QlfLXt4GxWnzKC4/9LkkZmtGrnTHPAgDcXMmb3+wIDFG5oifRJ/AfIi/Qkercc+ozyGpv6rQQVJS1A94ZXhKbuFfQU+x0MKFeXs9mhfaDkp1k5MoChOjc86YoL9XJqDuMQt1mVe8BTsSzVNbi7Qta2OmcvCU3IS+dS0UBLKaWbDXooB7KqJgby8ZH8puoD5npNGfDObtsMZC2XMRBeKF2WEag7IX7M++ipWnvAxXO1okLNTXK6NQ9xJ7P+MZL8MVjbXVCUApfTgq7FH56HEZ4SN9DW0HiK9nl+wZN5rYzGZzf2s8sDLKKr+hKk118nOL78iRNZwehQ77fOwtFeE9feWLzML7OUCW69B3GTbYZYgMtVTkw5QpeYv2MiDjrPJYHVSj0YNriNHTUhHF4Zf3DZOOppJZtOdtRT7TtdvWxjdFjwl2i8SQkuzq0pXMTUykS1cMKcmu/4kuI2VtlDNCT7OOCbcfPbT0jlZ2jJXNGrLXsQoA8Qs8qHgcdJsu/zbQT9PJTGaeUEo+tnoHU7BQlBFQLnLezKqPJjbavnCHoM1mbi/bKUcGnOKk2TKuDMBdgfGVhxrO7WZAMbEdxanipeUsp+n3fzx9zTKZd9H5AAAAAElFTkSuQmCC\"","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\nimport { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport { SharedMediaManager } from \"./controller\";\r\n\r\nimport * as enums from \"../../../util/enums.js\";\r\n\r\nimport { theme } from \"../../../resources/theme\";\r\nimport Translator from \"../../../resources/localization/translator\";\r\n\r\nimport {\r\n    sectionStyle,\r\n    sectionHeaderStyle,\r\n    sectionContentStyle,\r\n    mediaBtnStyle,\r\n    buttonStyle,\r\n    mediaItemStyle,\r\n    itemStyle,\r\n\r\n} from \"./style\";\r\n\r\nimport fileIcon from \"./resources/file.png\";\r\n\r\nclass CometChatSharedMediaView extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            messagetype: \"image\",\r\n            messageList: []\r\n        }\r\n\r\n        this.messageContainer = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        this.SharedMediaManager = new SharedMediaManager(this.props.item, this.props.type, this.state.messagetype);\r\n        this.getMessages(true);\r\n        this.SharedMediaManager.attachListeners(this.messageUpdated);\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n\r\n        if(prevState.messagetype !== this.state.messagetype) {\r\n\r\n            this.SharedMediaManager = null;\r\n            this.SharedMediaManager = new SharedMediaManager(this.props.item, this.props.type, this.state.messagetype);\r\n            this.getMessages(true);\r\n            this.SharedMediaManager.attachListeners(this.messageUpdated);\r\n        }\r\n    }\r\n\r\n    //callback for listener functions\r\n    messageUpdated = (key, message) => {\r\n\r\n        switch(key) {\r\n\r\n            case enums.MESSAGE_DELETED:\r\n              this.messageDeleted(message);\r\n              break;\r\n            case enums.MEDIA_MESSAGE_RECEIVED:\r\n              this.messageReceived(message);\r\n              break;\r\n            default:\r\n              break;\r\n        }\r\n    }\r\n\r\n    messageDeleted = (deletedMessage) => {\r\n  \r\n        const messageType = deletedMessage.data.type;\r\n        if (this.props.type === 'group' \r\n        && deletedMessage.getReceiverType() === 'group'\r\n        && deletedMessage.getReceiver().guid === this.props.item.guid\r\n        && messageType === this.state.messagetype) {\r\n\r\n            const messageList = [...this.state.messageList];\r\n            const filteredMessages = messageList.filter(message => message.id !== deletedMessage.id);\r\n            this.setState({ messageList: filteredMessages, scrollToBottom: false });\r\n        }\r\n    }\r\n    \r\n    //message is received or composed & sent\r\n    messageReceived = (message) => {\r\n\r\n        const messageType = message.data.type;\r\n        if (this.props.type === 'group' \r\n        && message.getReceiverType() === 'group'\r\n        && message.getReceiver().guid === this.props.item.guid\r\n        && messageType === this.state.messagetype) {\r\n\r\n            let messages = [...this.state.messageList];\r\n            messages = messages.concat(message);\r\n            this.setState({ messageList: messages, scrollToBottom: true });\r\n        }\r\n    }\r\n\r\n    getMessages = (scrollToBottom = false) => {\r\n        \r\n        CometChat.getLoggedinUser().then((user) => {\r\n          \r\n          this.loggedInUser = user;\r\n          \r\n          this.SharedMediaManager.fetchPreviousMessages().then((messages) => {\r\n    \r\n            const messageList = [...messages, ...this.state.messageList];\r\n            this.setState({ messageList: messageList });\r\n\r\n            if(scrollToBottom) {\r\n                this.scrollToBottom();\r\n            }\r\n    \r\n        }).catch((error) => {\r\n            //TODO Handle the erros in contact list.\r\n            console.error(\"[SharedMediaView] getMessages fetchPrevious error\", error);\r\n          });\r\n    \r\n        }).catch((error) => {\r\n            console.log(\"[SharedMediaView] getMessages getLoggedinUser error\", error);\r\n        });\r\n    \r\n    }\r\n\r\n    scrollToBottom = () => {\r\n      \r\n        if (this.messageContainer) {\r\n            this.messageContainer.scrollTop = this.messageContainer.scrollHeight;\r\n        }\r\n    }\r\n\r\n    handleScroll = (e) => {\r\n\r\n        const top = Math.round(e.currentTarget.scrollTop) === 0;\r\n        if (top && this.state.messageList.length) {\r\n            this.getMessages();\r\n        }\r\n    }\r\n\r\n    mediaClickHandler = (type) => {\r\n        this.setState({messagetype: type, messageList: []});\r\n    }\r\n\r\n    render() {\r\n\r\n        const template = (message, key) => {\r\n\r\n            if(this.state.messagetype === \"image\" && message.data.url) {\r\n\r\n                return (\r\n                    <div id={message.id} key={key} css={itemStyle(this.state, this.props, fileIcon)} className=\"item item__image\">\r\n                        <img src={message.data.url} alt={Translator.translate(\"SHARED_MEDIA\", this.props.lang)} />\r\n                    </div>\r\n                );\r\n\r\n            } else if (this.state.messagetype === \"video\" && message.data.url) {\r\n\r\n                return (\r\n                    <div id={message.id} key={key} css={itemStyle(this.state, this.props, fileIcon)} className=\"item item__video\">\r\n                        <video src={message.data.url} />\r\n                    </div>\r\n                );\r\n\r\n            } else if (this.state.messagetype === \"file\" && message.data.attachments) {\r\n\r\n                return (\r\n                    <div id={message.id} key={key} css={itemStyle(this.state, this.props, fileIcon)} className=\"item item__file\">\r\n                    <a href={message.data.attachments[0].url} \r\n                    target=\"_blank\" \r\n                    rel=\"noopener noreferrer\">{message.data.attachments[0].name}</a>\r\n                    </div>\r\n                );\r\n            }\r\n        }\r\n\r\n        const messages = [...this.state.messageList];\r\n        const messageList = messages.map((message, key) => {\r\n            return (template(message, key));\r\n        });\r\n\r\n        return (\r\n            <div css={sectionStyle(this.props)} className=\"section section__sharedmedia\">\r\n                <h6 css={sectionHeaderStyle(this.props)} className=\"section__header\">{Translator.translate(\"SHARED_MEDIA\", this.props.lang)}</h6>\r\n                <div css={sectionContentStyle(this.props)} data-id=\"sharedmedia\" className=\"section__content\">\r\n                    <div css={mediaBtnStyle()} className=\"media__button\">\r\n                        <span css={buttonStyle(this.state, \"image\")} onClick={() => this.mediaClickHandler(\"image\")}>{Translator.translate(\"PHOTOS\", this.props.lang)}</span>\r\n                        <span css={buttonStyle(this.state, \"video\")} onClick={() => this.mediaClickHandler(\"video\")}>{Translator.translate(\"VIDEOS\", this.props.lang)}</span>\r\n                        <span css={buttonStyle(this.state, \"file\")} onClick={() => this.mediaClickHandler(\"file\")}>{Translator.translate(\"DOCS\", this.props.lang)}</span>\r\n                    </div>\r\n                    <div css={mediaItemStyle()} className=\"media_items\" \r\n                    ref={el => this.messageContainer = el}\r\n                    onScroll={this.handleScroll}>{(messageList.length) ? messageList : Translator.translate(\"NO_RECORDS_FOUND\", this.props.lang)}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    componentWillUnmount() {\r\n      this.SharedMediaManager.removeListeners();\r\n      this.SharedMediaManager = null;\r\n    }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatSharedMediaView.defaultProps = {\r\n    lang: Translator.getDefaultLanguage(),\r\n    theme: theme\r\n};\r\n\r\nCometChatSharedMediaView.propTypes = {\r\n    lang: PropTypes.string,\r\n    theme: PropTypes.object\r\n}\r\n\r\nexport default CometChatSharedMediaView;\r\n","export const presenceStyle = (props) => {\r\n\r\n    let presenceStatus = {\r\n        backgroundColor: \"rgb(85, 85, 85)\"\r\n    }\r\n\r\n    if (props.status === \"online\" || props.status === \"available\") {\r\n        presenceStatus = {\r\n            backgroundColor: \"rgb(0, 255, 0)\"\r\n        }\r\n    }\r\n\r\n    return {\r\n        width: \"9px\",\r\n        height: \"9px\",\r\n        top: \"-12px\",\r\n        float: \"right\",\r\n        position: \"relative\",\r\n        ...presenceStatus\r\n    }\r\n}","/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { validateWidgetSettings } from \"../../../util/common\";\r\n\r\nimport { presenceStyle } from \"./style\";\r\n\r\nconst CometChatUserPresence = (props) => {\r\n\r\n    //if user presence is disabled in chat widget\r\n    if (validateWidgetSettings(props.widgetsettings, \"show_user_presence\") === false) {\r\n        return null;\r\n    }\r\n\r\n    const borderWidth = props.borderWidth;\r\n    const borderColor = props.borderColor;\r\n    const cornerRadius = props.cornerRadius;\r\n  \r\n    const getStyle = () => ({borderWidth:borderWidth, borderStyle:'solid', borderColor:borderColor , 'borderRadius': cornerRadius})\r\n\r\n    return (\r\n        <span css={presenceStyle(props)} className=\"presence\" style={getStyle()}></span>\r\n    );\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatUserPresence.defaultProps = {\r\n    borderWidth: \"1px\",\r\n    borderColor: \"#AAA\",\r\n    cornerRadius: \"50%\",\r\n};\r\n\r\nCometChatUserPresence.propTypes = {\r\n    borderWidth: PropTypes.string,\r\n    borderColor: PropTypes.string,\r\n    cornerRadius: PropTypes.string,\r\n}\r\n\r\nexport default CometChatUserPresence;","// Description: Firebase/cometchat configuration\r\nconst firebaseConfig = {\r\n  apiKey: 'AIzaSyAmsxHiejgAOvmLXkvs1Vlpmfc__ZKdSbU',\r\n  authDomain: 'webappcometchatdating.firebaseapp.com',\r\n  databaseURL: 'https://webappcometchatdating-default-rtdb.firebaseio.com',\r\n  projectId: 'webappcometchatdating',\r\n  storageBucket: 'webappcometchatdating.appspot.com',\r\n  messagingSenderId: '899780685402',\r\n  appId: '1:899780685402:web:e81eceb178bf2484a37263',\r\n  measurementId: 'G-1JKVWR2XNZ',\r\n};\r\n\r\nconst cometConfig = {\r\n  appId: '2039006cd8fea42f',\r\n  region: 'us',\r\n  authKey: '5ba93b125c840b04a61a8b528f517eb418ed6cbc',\r\n};\r\n\r\nexport {\r\n  firebaseConfig,\r\n  cometConfig,\r\n};\r\n","// Description: a navigation bar component which appears at the top of the page\nimport { FirebaseAuthConsumer } from '@react-firebase/auth';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\n\n// Component main function\nexport default function Navbar() {\n  return (\n    <nav className=\"w-full px-1 absolute bg-gradient-to-b from-black to-transparent z-10\">\n      <div className=\"w-full flex justify-between items-center mx-auto p-6 pb-24\">\n        {/* <!-- logo --> */}\n        <div className=\"inline-flex\">\n          <a className=\"_o6689fn\" href=\"/\">\n            <svg className=\"w-36\" viewBox=\"0 0 519 123\">\n              <g fill=\"none\" fillRule=\"evenodd\">\n                <title>Tinder</title>\n                <path\n                  d=\"M31.5 49.6C55 41.5 59 20.4 56 1c0-.7.6-1.2 1.2-1C79.7 11 105 35 105 71c0 27.6-21.4 52-52.5 52a50 50 0 0 1-28.2-92.7c.6-.4 1.4 0 1.4.7.3 3.7 1.3 13 5.4 18.6h.4z\"\n                  fill=\"#fff\"\n                />\n                <path\n                  d=\"M171.2 101.1l1.7-2 5.3 16.8-.7.7c-4 3.7-10 5.6-17.7 5.6h-.3c-7 0-12.5-2-16.3-5.7-3.8-3.8-5.8-9.5-5.8-16.7V54h-13.5V35.5h13.5V13.2h20.8v22.3h16.5V54h-16.6v41.3c0 1.9.5 8 6.3 8 3 0 5.8-1.1 6.8-2.3zm11 19.2V35.6H203v84.7h-20.8zM192.5 1A12.5 12.5 0 1 1 180 13.6C180 6.8 185.7 1 192.5 1zm66.4 32.5c18 0 27.9 9.8 27.9 27.7v59H266V66.2c-.4-9.6-5-14-14.8-14-8.8 0-15.9 5.4-19.5 10v58h-20.8V35.7h20.8v9c6-5.8 15.6-11 27.2-11zM356 44.4V4.6h20.8v115.8H356v-8.8a34.3 34.3 0 0 1-24.7 10.7c-22.7 0-37.9-17.8-37.9-44.3 0-26.6 15.2-44.4 37.9-44.4A34 34 0 0 1 356 44.4zm0 17.9a25.6 25.6 0 0 0-19.6-10c-12.9 0-21.5 10.3-21.5 25.7 0 15.3 8.6 25.6 21.5 25.6 7.5 0 15.7-4 19.6-9.8V62.3zm69.4-28.7c24.6 0 41.7 19 41.7 46v5.7h-62.9c2.1 11.9 11.5 19.5 24.3 19.5 8.1 0 17-3.5 22.1-8.6L452 95l9.9 14.2-1 .9a48.6 48.6 0 0 1-34.1 12.2c-26 0-44.3-18.3-44.3-44.4a42.8 42.8 0 0 1 43-44.3zm-21.3 36h42.7c-1.2-12.7-11.7-18.5-21.4-18.5-14.6 0-20.1 11-21.3 18.6zm113.3-36h1.5v21l-1.8-.3c-1.5-.3-3.4-.5-5.3-.5-6.7 0-16 4.7-19.5 9.7v56.7h-20.8V35.6h20.9V45c6.9-7.2 16-11.4 25-11.4z\"\n                  fill=\"#fff\"\n                />\n              </g>\n            </svg>\n          </a>\n        </div>\n\n        {/* <!-- end logo --> */}\n\n        {/* <!-- login --> */}\n        <div className=\"md:block flex mx-1\">\n          <div className=\"text-md uppercase leading-none text-left group inline-block relative\">\n            <FirebaseAuthConsumer>\n              {({ isSignedIn }) => (\n                <Link\n                  className=\"bg-white rounded hover:bg-gray-200 py-3 px-6 block whitespace-no-wrap text-pink-400 font-bold\"\n                  to={isSignedIn ? '/logout' : '/login'}\n                >\n                  {isSignedIn ? 'Log Out' : 'Log In'}\n                </Link>\n              )}\n            </FirebaseAuthConsumer>\n          </div>\n        </div>\n        {/* <!-- end login --> */}\n      </div>\n    </nav>\n  );\n}\n","/* eslint-disable import/prefer-default-export */\r\nimport React from 'react';\r\nimport Navbar from '../components/Navbar';\r\n\r\nconst withLayout = (\r\n  BaseComponent,\r\n  { hideNavbar = false, bgImage = false } = {},\r\n) => (props) => (\r\n  <>\r\n    {!hideNavbar && <Navbar />}\r\n    <main className=\"bg-gray-100\">\r\n      <div\r\n        style={{\r\n          backgroundImage: bgImage ? 'url(\"/bg.webp\")' : 'none',\r\n        }}\r\n        className=\"w-full min-h-screen bg-no-repeat bg-cover bg-center flex justify-center items-center\"\r\n      >\r\n        {bgImage && (\r\n          <div className=\"absolute inset-0 bg-black opacity-25 h-full flex flex-col z-0\" />\r\n        )}\r\n        <div className=\"z-10\">\r\n          <BaseComponent {...props} />\r\n        </div>\r\n      </div>\r\n    </main>\r\n  </>\r\n);\r\n\r\nexport { withLayout };\r\n","// Description: A dynamic landing page for the site, which uses firebase sign-in state\nimport { FirebaseAuthConsumer } from '@react-firebase/auth';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { withLayout } from '../wrappers/layout';\n\n// Main func/page content\nconst IndexPage = () => (\n  <section className=\"flex flex-col items-center w-full\">\n    <h1 className=\"text-4xl mb-6 md:text-9xl text-white font-bold tracking-thin\">\n      Swipe Right\n      <span className=\"font-light\">&reg;</span>\n    </h1>\n    <FirebaseAuthConsumer>\n      {({ isSignedIn }) => (\n        <Link\n          className=\"bg-gradient-to-r from-pink-600 to-yellow-500 rounded-full hover:bg-gray-200 py-4 px-16 block whitespace-no-wrap text-white font-bold uppercase\"\n          to={isSignedIn ? '/discover' : '/age'}\n        >\n          {isSignedIn ? 'Discover' : 'Create Account'}\n        </Link>\n      )}\n    </FirebaseAuthConsumer>\n    <br />\n  </section>\n);\n\nexport default withLayout(IndexPage, { bgImage: true });\n","// Description: A function to store a value at a specified localStored key\nexport default function localStorePut(storageKey, dataValue) {\n  window.localStorage.setItem(`${storageKey}`, JSON.stringify(dataValue));\n}\n","import React, { useReducer } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport 'firebase/compat/auth';\nimport 'firebase/compat/storage';\nimport 'firebase/compat/firestore';\nimport localStorePut from '../methods/localStorePut';\nimport { withLayout } from '../wrappers/layout';\n\n// Interface state initialization\nconst initialState = {\n  month: '',\n  day: '',\n  year: '',\n};\n\n// Management of document state\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'day':\n      return { ...state, day: action.payload };\n    case 'month':\n      return { ...state, month: action.payload };\n    case 'year':\n      return { ...state, year: action.payload };\n    default:\n      throw new Error();\n  }\n};\n\n// Page main function\nconst AgePage = () => {\n  // Initialize history routing and reducer\n  const history = useHistory();\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  // Call in reducer to handle inputs\n  const handleOnChange = (evt) => {\n    const { target } = evt;\n    dispatch({\n      type: target.name,\n      payload: target.value,\n    });\n  };\n\n  // Get an age value returned from an ISO formatted date string\n  function getAge(dateString) {\n    const today = new Date();\n    const birthDate = new Date(dateString);\n    let age = today.getFullYear() - birthDate.getFullYear();\n    const m = today.getMonth() - birthDate.getMonth();\n    if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {\n      // eslint-disable-next-line no-plusplus\n      age--;\n    }\n    return age;\n  }\n\n  // Return true if age is 18 or higher\n  function isOfAge(dateString) {\n    return (getAge(dateString) >= 18);\n  }\n\n  // Convert a MM-DD-YYYY (US) string to YYYY-MM-DD (ISO)\n  function buildIsoDateString(a, b, c) {\n    return `${c}-${a}-${b}`;\n  }\n\n  // Check if entered MM-DD-YYYY meets age requirements\n  const checkDoB = (evt) => {\n    evt.preventDefault();\n    const bday = buildIsoDateString(state.month, state.day, state.year);\n    localStorePut('localBirthdate', bday);\n    const t = (isOfAge(bday) === true) ? history.push('/signup') : history.push('/sorry');\n  };\n\n  // Page content\n  return (\n    <div className=\"my-10 bg-white rounded-2xl border-2 border-gray-200 flex flex-col justify-center items-center mx-auto p-10 w-9/12 lg:w-1/2 md:w-6/12 sm:w-7/12\">\n      <div className=\"flex flex-col justify-center items-center\">\n        <Link to=\"/\">\n          <svg\n            className=\"w-10\"\n            viewBox=\"0 0 24 24\"\n            focusable=\"false\"\n            aria-hidden=\"true\"\n            role=\"presentation\"\n          >\n            <defs>\n              <radialGradient\n                id=\"svg-fill-radial__tinder\"\n                cx=\"0.5\"\n                cy=\"1\"\n                fr=\"0\"\n                fx=\"0.5\"\n                fy=\"1\"\n                r=\"1\"\n                spreadMethod=\"pad\"\n              >\n                <stop offset=\"0%\" stopColor=\"#ff7854\" />\n                <stop offset=\"100%\" stopColor=\"#fd267d\" />\n              </radialGradient>\n            </defs>\n            <path\n              d=\"M8.21 10.08c-.02 0-.04 0-.06-.02-.67-.9-.84-2.44-.89-3.03 0-.11-.13-.18-.23-.12C4.93 8.08 3 10.86 3 13.54 3 18.14 6.2 22 11.7 22c5.15 0 8.7-3.98 8.7-8.46 0-5.87-4.2-9.77-7.93-11.53a.13.13 0 0 0-.19.14c.48 3.16-.18 6.6-4.07 7.93z\"\n              fill=\"url(#svg-fill-radial__tinder)\"\n              fillRule=\"nonzero\"\n            />\n          </svg>\n        </Link>\n        <h3 className=\"text-2xl font-extrabold italic uppercase my-4\">\n          Before we begin...\n        </h3>\n        <div\n          className=\"text-sm text-gray-800 text-center\"\n          data-nosnippet=\"true\"\n        >\n          Please enter your date of birth to start the sign-up process.\n        </div>\n      </div>\n      <div className=\"text-center w-full divide-y-2 divide-gray-100 divide-solid\">\n        <form className=\"my-5 w-full\" onSubmit={checkDoB}>\n          <div className=\"grid grid-cols-2\">\n            <div className=\"grid grid-cols-2\">\n              <div>\n                <label htmlFor=\"month\" className=\"sr-only font-bold text-base md:ml-1\">\n                  Month\n                </label>\n                <input\n                  id=\"month\"\n                  name=\"month\"\n                  type=\"months\"\n                  autoComplete=\"month\"\n                  required\n                  onChange={handleOnChange}\n                  value={state.month}\n                  className=\"my-5 appearance-none rounded-full relative block w-full py-3 px-4 font-bold border-2 border-gray-400 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-yellow-500 focus:border-yellow-500 text-center\"\n                  placeholder=\"MM\"\n                  minLength={1}\n                  maxLength={2}\n                />\n              </div>\n              <div>\n                <label htmlFor=\"name\" className=\"sr-only font-bold text-base md:ml-1\">\n                  Day\n                </label>\n                <input\n                  id=\"day\"\n                  name=\"day\"\n                  type=\"day\"\n                  autoComplete=\"day\"\n                  required\n                  onChange={handleOnChange}\n                  value={state.day}\n                  className=\"my-5 appearance-none rounded-full relative block w-full py-3 px-4 font-bold border-2 border-gray-400 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-yellow-500 focus:border-yellow-500 text-center\"\n                  placeholder=\"DD\"\n                  minLength={1}\n                  maxLength={2}\n                />\n              </div>\n            </div>\n            <div>\n              <label htmlFor=\"year\" className=\"sr-only font-bold text-base md:ml-1\">\n                Year\n              </label>\n              <input\n                id=\"year\"\n                name=\"year\"\n                type=\"year\"\n                autoComplete=\"year\"\n                required\n                onChange={handleOnChange}\n                value={state.year}\n                className=\"my-5 appearance-none rounded-full relative block w-full py-3 px-4 font-bold border-2 border-gray-400 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-yellow-500 focus:border-yellow-500 text-center\"\n                placeholder=\"YYYY\"\n                minLength={4}\n                maxLength={4}\n              />\n            </div>\n          </div>\n          <button\n            type=\"submit\"\n            className=\"w-full bg-gradient-to-r from-pink-600 to-yellow-500 rounded-full hover:bg-gray-200 py-4 px-16 block whitespace-no-wrap text-white font-bold uppercase\"\n          >\n            Continue\n          </button>\n        </form>\n        <div className=\"py-4\">\n          <h3 className=\"text-2xl font-extrabold italic uppercase my-4\">\n            Get the app!\n          </h3>\n          <div className=\"flex justify-between items-center\">\n            <img width=\"130\" src=\"/appStore.webp\" alt=\"AppStore Download\" />\n            <img\n              width=\"170\"\n              src=\"/playStore.webp\"\n              alt=\"PlayStore Download\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default withLayout(AgePage, { bgImage: true });\n","import { CometChat } from '@cometchat-pro/chat';\r\nimport { cometConfig } from './environment';\r\n\r\nconst loginCometChatUser = async (uid) => {\r\n  try {\r\n    const user = await CometChat.login(\r\n      uid,\r\n      cometConfig.authKey,\r\n    );\r\n    console.log('Login Successful:', { user });\r\n  } catch (error) {\r\n    console.log('Login failed with exception:', { error });\r\n  }\r\n};\r\n\r\nconst logoutCometChatUser = async () => {\r\n  try {\r\n    await CometChat.logout();\r\n    console.log('Logout Successful:');\r\n  } catch (error) {\r\n    console.log('Login failed with exception:', { error });\r\n  }\r\n};\r\n\r\nconst registerCometChatUser = async (name, uid) => {\r\n  const user = new CometChat.User(uid);\r\n\r\n  user.setName(name);\r\n\r\n  try {\r\n    const createdUser = await CometChat.createUser(\r\n      user,\r\n      cometConfig.authKey,\r\n    );\r\n    console.log('user created', createdUser);\r\n  } catch (error) {\r\n    console.log('Register failed with exception:', { error });\r\n  }\r\n};\r\n\r\nconst sendCometChatMessage = async (ratedPersonId, messageText) => {\r\n  const receiverType = CometChat.RECEIVER_TYPE.USER;\r\n  const textMessage = new CometChat.TextMessage(\r\n    ratedPersonId,\r\n    messageText,\r\n    receiverType,\r\n  );\r\n\r\n  CometChat.sendMessage(textMessage).then(\r\n    (message) => {\r\n      console.log('Message sent successfully:', message);\r\n    },\r\n    (error) => {\r\n      console.log('Message sending failed with error:', error);\r\n    },\r\n  );\r\n};\r\n\r\nexport {\r\n  CometChat,\r\n  loginCometChatUser,\r\n  registerCometChatUser,\r\n  sendCometChatMessage,\r\n  logoutCometChatUser,\r\n};\r\n","// Description: a component which builds and displays a stack of persons\n/* eslint-disable jsx-a11y/control-has-associated-label */\nimport React, { useState } from 'react';\nimport firebase from 'firebase/compat/app';\nimport 'firebase/compat/firestore';\nimport { sendCometChatMessage } from '../cometchat';\n\n// Component main function\nexport default function PersonSlider({ persons, userId }) {\n  const [personsArray, setPersonsArray] = useState(persons);\n\n  const BUTTON_ICONS = {\n    dislike: (<svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path d=\"M24 20.188l-8.315-8.209 8.2-8.282-3.697-3.697-8.212 8.318-8.31-8.203-3.666 3.666 8.321 8.24-8.206 8.313 3.666 3.666 8.237-8.318 8.285 8.203z\" fill=\"#E72570\" /></svg>),\n    like: (<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M12 4.248c-3.148-5.402-12-3.825-12 2.944 0 4.661 5.571 9.427 12 15.808 6.43-6.381 12-11.147 12-15.808 0-6.792-8.875-8.306-12-2.944z\" fill=\"#3BF9B3\" /></svg>),\n    favorite: (<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M12 .587l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z\" fill=\"#28CDF3\" /></svg>),\n  };\n\n  const takeAction = async (action) => {\n    try {\n      const [ratedPerson, ...rest] = personsArray;\n      await firebase.firestore().collection('/users').doc(userId).update({\n        [`${action}s`]: firebase.firestore.FieldValue.arrayUnion(ratedPerson.id),\n      });\n      setPersonsArray(rest);\n\n      if (action === 'like' || action === 'favorite') {\n        try {\n          const ratedPersonDocument = await (await firebase.firestore().collection('/users').doc(ratedPerson.id).get()).data();\n          if (ratedPersonDocument.likes.includes(userId)\n          || ratedPersonDocument.favorites.includes(userId)) {\n            await firebase.firestore().collection('/users').doc(userId).update({\n              matches: firebase.firestore.FieldValue.arrayUnion(ratedPerson.id),\n            });\n            await firebase.firestore().collection('/users').doc(ratedPerson.id).update({\n              matches: firebase.firestore.FieldValue.arrayUnion(userId),\n            });\n          }\n\n          await sendCometChatMessage(ratedPerson.id, \"We're a match!\");\n        } catch (error) {\n          console.error(JSON.stringify(error));\n        }\n      }\n    } catch (error) {\n      console.error(`Could not perform action ${action}`);\n    }\n  };\n\n  const currentPerson = personsArray[0];\n\n  const ActionButton = ({ action }) => (\n    <button className=\"bg-white transform transition duration-500 hover:scale-110 rounded-full shadow-md p-4\" type=\"button\" onClick={() => takeAction(action)}>\n      {BUTTON_ICONS[action]}\n    </button>\n  );\n\n  return (\n    <>\n      {personsArray.length === 0 && <p>No more people to match with.</p>}\n      {personsArray.length > 0\n      && (\n      <div className=\"flex flex-col items-center\">\n        <div\n          className=\"group relative rounded-lg overflow-hidden shadow-xl w-72 h-96 bg-cover bg-center bg-no-repeat\"\n          style={{\n            backgroundImage: `url(${currentPerson.imageUrl})`,\n          }}\n        >\n          <div className=\"absolute inset-0 top-auto bg-gradient-to-t from-black opacity-75 h-1/4 group-hover:h-full group-hover:bg-gradient-to-b transition-all duration-500\" />\n          <p className=\"absolute bottom-0 group-hover:top-0 m-4 pb-0 md:pb-5 text-white text-lg font-bold transition-all\">{currentPerson.name}</p>\n          <p className=\"hidden md:block absolute bottom-0 group-hover:top-0 m-4 pt-6 pr-8 text-white text-md truncate group-hover:whitespace-normal transition-all w-full\">{currentPerson.description}</p>\n        </div>\n        <p className=\"block md:hidden text-gray-500 my-2 text-center\">{currentPerson.description}</p>\n        <div className=\"flex justify-around my-4 w-4/5\">\n          <ActionButton action=\"dislike\" />\n          <ActionButton action=\"favorite\" />\n          <ActionButton action=\"like\" />\n        </div>\n      </div>\n      )}\n    </>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport firebase from 'firebase/compat/app';\nimport 'firebase/firestore';\nimport { Link } from 'react-router-dom';\n\nexport default function SideMatchList({ person }) {\n  const [matches, setMatches] = useState([]);\n  const { id, name, imageUrl } = person;\n\n  useEffect(() => {\n    const matchListener = firebase.firestore().collection('/users').doc(id).onSnapshot((doc) => {\n      const currentMatchIds = doc.data().matches || [];\n      firebase\n        .firestore()\n        .collection('users')\n        .where('id', 'in', [...currentMatchIds, id]) // non-empty array required\n        .get()\n        .then((querySnapshot) => {\n          const newMatches = [];\n          querySnapshot.forEach((match) => {\n            if (match.id !== id) {\n              newMatches.push(match.data());\n            }\n          });\n          setMatches(newMatches);\n        });\n    });\n    return () => {\n      matchListener();\n    };\n  }, []);\n\n  return (\n    <aside className=\"flex flex-col w-full h-full\">\n      <div className=\"flex items-center justify-start p-4 h-12 bg-gradient-to-r from-pink-600 via-pink-600 to-yellow-500\">\n        <img src={imageUrl} className=\"h-8 w-8 border-2 border-white rounded-full shadow-md object-cover\" alt=\"User Avatar\" />\n        <p className=\"ml-4 text-white font-bold text-md\">{name}</p>\n      </div>\n      <div className=\"p-2 lg:p-4 bg-gray-200 flex items-center justify-around\">\n        <div className=\"rounded-full border-2 mr-4 border-pink-600 bg-white h-20 w-20\" />\n        <div className=\"flex flex-col flex-1\">\n          <p className=\"font-bold text-gray-600\">Discover New Matches</p>\n          <p className=\"text-gray-500 text-md\">Start rating to connect with new people!</p>\n        </div>\n      </div>\n      <Link className=\"relative bg-white flex-1 group hover:cursor-pointer\" to=\"/inbox\">\n        <div className=\"hidden inset-0 bg-black opacity-25 absolute group-hover:block transition-all duration-500\" />\n        <div to=\"/inbox\" className=\"hidden bottom-0 w-full pb-4 text-center absolute group-hover:block transition-all duration-500 shadow-3xl inset-0 top-auto font-bold text-white flex items-center justify-center uppercase p-4 h-12 bg-gradient-to-r from-pink-600 via-pink-600 to-yellow-500\">Inbox</div>\n\n        <div className=\" p-4\">\n          {matches.length === 0 && <p className=\"text-gray-400\">Still no matches were found :/</p>}\n          {matches.length > 0\n        && (\n        <>\n          <h3 className=\"font-bold text-pink-500 mr-auto\">Matches</h3>\n          <div className=\"flex flex-col justify-center items-center\">\n            {React.Children.toArray(matches.map((match) => (\n              <div className=\"w-full my-2 flex justify-start items-center\">\n                <img src={match.imageUrl} className=\"rounded-full h-20 w-20 shadow\" alt=\"Match Person\" />\n                <div className=\"\">\n                  <p className=\"ml-4 font-bold text-gray-600\">{match.name}</p>\n                  <p className=\"ml-4 text-gray-400 text-sm tracking-tight leading-tight\">\n                    You have connected with\n                    {' '}\n                    {match.name}\n                  </p>\n                </div>\n              </div>\n            )))}\n          </div>\n        </>\n        )}\n        </div>\n      </Link>\n    </aside>\n  );\n}\n","// Description: A page which allows the user to browse potential matches\nimport React, { useEffect, useState } from 'react';\nimport firebase from 'firebase/compat/app';\nimport 'firebase/compat/firestore';\nimport { Link } from 'react-router-dom';\nimport PersonSlider from '../components/PersonSlider';\nimport SideMatchList from '../components/SideMatchList';\nimport MatchSortList from '../methods/MatchSort';\nimport { withLayout } from '../wrappers/layout';\n\n// Page main function\nconst DiscoverPage = () => {\n  const [persons, setPersons] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const {\n    likes = [], dislikes = [], favorites = [], id, name, imageUrl,\n  } = JSON.parse(\n    localStorage.getItem('user'),\n  );\n\n  // Iterates through users to generate potential matches\n  // TODO: address bug which causes page loads to fail once you have 10+ likes or dislikes\n  useEffect(() => {\n    firebase\n      .firestore()\n      .collection('users')\n      .where('id', 'not-in', [id, ...likes, ...dislikes, ...favorites])\n      .get()\n      .then((querySnapshot) => {\n        const newPersons = [];\n        querySnapshot.forEach((person) => newPersons.push(person.data()));\n        // had to add a user object to send to compare against activities\n        // the previous above area removes already liked people\n        const user = JSON.parse(localStorage.getItem('user'));\n        const show = MatchSortList(newPersons, user);\n        // need to set people to compare - unsure what the function does for sure\n        setPersons(newPersons);\n        console.log('CALL', show, newPersons);\n        // i am able to get the people then swap the persons\n        setPersons(show);\n        setLoading(false);\n      });\n  }, []);\n\n  // Page content\n  return (\n    <div className=\"grid grid-cols-3 md:grid-cols-9 h-screen w-screen overflow-hidden\">\n      <div className=\"hidden md:block col-span-2 bg-pink-500 shadow-lg\">\n        <SideMatchList person={{ id, name, imageUrl }} />\n      </div>\n      <div className=\"flex flex-col items-center flex-grow w-full md:ml-4 col-span-3 md:col-span-7\">\n        <div className=\"pt-4 flex-none\">\n          <Link to=\"/\">\n            <svg\n              className=\"w-10\"\n              viewBox=\"0 0 24 24\"\n              focusable=\"false\"\n              aria-hidden=\"true\"\n              role=\"presentation\"\n            >\n              <path\n                d=\"M8.21 10.08c-.02 0-.04 0-.06-.02-.67-.9-.84-2.44-.89-3.03 0-.11-.13-.18-.23-.12C4.93 8.08 3 10.86 3 13.54 3 18.14 6.2 22 11.7 22c5.15 0 8.7-3.98 8.7-8.46 0-5.87-4.2-9.77-7.93-11.53a.13.13 0 0 0-.19.14c.48 3.16-.18 6.6-4.07 7.93z\"\n                fill=\"#D3D3D3\"\n                fillRule=\"nonzero\"\n              />\n            </svg>\n          </Link>\n\n        </div>\n        <section className=\"flex my-auto\">\n          {loading && <h3>Loading</h3>}\n          {!loading\n            && <PersonSlider persons={persons} userId={id} />}\n          <Link to=\"/inbox\" className=\"block md:hidden absolute shadow-3xl inset-0 top-auto font-bold text-white flex items-center justify-center uppercase p-4 h-12 bg-gradient-to-r from-pink-600 via-pink-600 to-yellow-500\">Inbox</Link>\n        </section>\n      </div>\n    </div>\n  );\n};\n\nexport default withLayout(DiscoverPage, { hideNavbar: true });\n","// Description: A function to match users based on shared interests\nexport default function MatchSortList(personCollection, user) {\n  console.log('USER', user.outdoorActivities);\n  const userActivites = user.outdoorActivities;\n  const residualScore = Math.random();\n  if (Object.keys(user).length > 0) {\n    const scoreArray = [];\n    const person = [];\n    personCollection.forEach((element) => {\n      // console.log(element.outdoorActivities);\n      const outdoor = element.outdoorActivities;\n      let score = 0;\n      if (typeof outdoor !== 'undefined') {\n        outdoor.forEach((activity) => {\n          if (userActivites.indexOf(activity) > 0) {\n            score += 1;\n          }\n        });\n      }\n      scoreArray.push({\n        person: element,\n        scoreMatch: score + residualScore,\n      });\n    });\n    scoreArray.sort((a, b) => {\n      const result = b.scoreMatch - a.scoreMatch;\n      return result;\n    });\n    console.log(scoreArray);\n    scoreArray.forEach((item) => {\n      person.push(item.person);\n    });\n    return person;\n  }\n}\n","import { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport * as enums from \"../../../util/enums.js\";\r\n\r\nexport class ConversationListManager {\r\n\r\n    conversationRequest = null;\r\n\r\n    conversationListenerId = \"chatlist_\" + new Date().getTime();\r\n    userListenerId = \"chatlist_user_\" + new Date().getTime();\r\n    groupListenerId = \"chatlist_group_\" + new Date().getTime();\r\n    callListenerId = \"chatlist_call_\" + new Date().getTime();\r\n\r\n    constructor() {\r\n        this.conversationRequest = new CometChat.ConversationsRequestBuilder().setLimit(30).build();\r\n    }\r\n\r\n    fetchNextConversation() {\r\n        return this.conversationRequest.fetchNext();\r\n    }\r\n\r\n    attachListeners(callback) {\r\n\r\n        CometChat.addUserListener(\r\n            this.userListenerId,\r\n            new CometChat.UserListener({\r\n                onUserOnline: onlineUser => {\r\n                    /* when someuser/friend comes online, user will be received here */\r\n                    callback(enums.USER_ONLINE, onlineUser);\r\n                },\r\n                onUserOffline: offlineUser => {\r\n                    /* when someuser/friend went offline, user will be received here */\r\n                    callback(enums.USER_OFFLINE, offlineUser);\r\n                }\r\n            })\r\n        );\r\n\r\n        CometChat.addGroupListener(\r\n            this.groupListenerId,\r\n            new CometChat.GroupListener({\r\n                onGroupMemberScopeChanged: (message, changedUser, newScope, oldScope, changedGroup) => {\r\n                    callback(enums.GROUP_MEMBER_SCOPE_CHANGED, changedGroup, message, {\"user\": changedUser, \"scope\": newScope});\r\n                }, \r\n                onGroupMemberKicked: (message, kickedUser, kickedBy, kickedFrom) => {\r\n                    callback(enums.GROUP_MEMBER_KICKED, kickedFrom, message, {\"user\": kickedUser, \"hasJoined\": false});\r\n                }, \r\n                onGroupMemberBanned: (message, bannedUser, bannedBy, bannedFrom) => {\r\n                    callback(enums.GROUP_MEMBER_BANNED, bannedFrom, message, {\"user\": bannedUser});\r\n                }, \r\n                onGroupMemberUnbanned: (message, unbannedUser, unbannedBy, unbannedFrom) => {\r\n                    callback(enums.GROUP_MEMBER_UNBANNED, unbannedFrom, message, {\"user\": unbannedUser});\r\n                }, \r\n                onMemberAddedToGroup: (message, userAdded, userAddedBy, userAddedIn) => {\r\n                    callback(enums.GROUP_MEMBER_ADDED, userAddedIn, message, {\"user\": userAdded, \"hasJoined\": true});\r\n                }, \r\n                onGroupMemberLeft: (message, leavingUser, group) => {\r\n                    callback(enums.GROUP_MEMBER_LEFT, group, message, {\"user\": leavingUser});\r\n                }, \r\n                onGroupMemberJoined: (message, joinedUser, joinedGroup) => {\r\n                    callback(enums.GROUP_MEMBER_JOINED, joinedGroup, message, {\"user\": joinedUser});\r\n                }\r\n            })\r\n        );\r\n\r\n        CometChat.addMessageListener(\r\n            this.conversationListenerId,\r\n            new CometChat.MessageListener({\r\n                onTextMessageReceived: textMessage => {\r\n                    callback(enums.TEXT_MESSAGE_RECEIVED, null, textMessage);\r\n                },\r\n                onMediaMessageReceived: mediaMessage => {\r\n                    callback(enums.MEDIA_MESSAGE_RECEIVED, null, mediaMessage);\r\n                },\r\n                onCustomMessageReceived: customMessage => {\r\n                    callback(enums.CUSTOM_MESSAGE_RECEIVED, null, customMessage);\r\n                },\r\n                onMessageDeleted: deletedMessage => {\r\n                    callback(enums.MESSAGE_DELETED, null, deletedMessage);\r\n                },\r\n                onMessageEdited: editedMessage => {\r\n                    callback(enums.MESSAGE_EDITED, null, editedMessage);\r\n                }\r\n            })\r\n        );\r\n\r\n        CometChat.addCallListener(\r\n            this.callListenerId,\r\n            new CometChat.CallListener({\r\n                onIncomingCallReceived: call => {\r\n                  callback(enums.INCOMING_CALL_RECEIVED, null, call);\r\n                },\r\n                onIncomingCallCancelled: call => {\r\n                    callback(enums.INCOMING_CALL_CANCELLED, null, call);\r\n                }\r\n            })\r\n        );\r\n    }\r\n\r\n    removeListeners() {\r\n        CometChat.removeMessageListener(this.conversationListenerId);\r\n        CometChat.removeUserListener(this.userListenerId);\r\n        CometChat.removeGroupListener(this.groupListenerId);\r\n        CometChat.removeCallListener(this.callListenerId);\r\n    }\r\n\r\n}\r\n","export const chatsWrapperStyle = () => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        height: \"100%\",\r\n        boxSizing: \"border-box\",\r\n        \"*\": {\r\n            boxSizing: \"border-box\",\r\n            \"::-webkit-scrollbar\": {\r\n                width: \"8px\",\r\n                height: \"4px\",\r\n            },\r\n            \"::-webkit-scrollbar-track\": {\r\n                background: \"#ffffff00\"\r\n            },\r\n            \"::-webkit-scrollbar-thumb\": {\r\n                background: \"#ccc\",\r\n                \"&:hover\": {\r\n                    background: \"#aaa\"\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const chatsHeaderStyle = (props) => {\r\n\r\n    return {\r\n        padding: \"16px\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        borderBottom: `1px solid ${props.theme.borderColor.primary}`,\r\n        height: \"69px\",\r\n    }\r\n}\r\n\r\nexport const chatsHeaderCloseStyle = (img, props) => {\r\n\r\n    const mq = [...props.theme.breakPoints];\r\n\r\n    return {\r\n        cursor: \"pointer\",\r\n        display: \"none\",\r\n        background: `url(${img}) left center no-repeat`,\r\n        height: \"24px\",\r\n        width: \"33%\",\r\n        [`@media ${mq[0]}`]: {\r\n            display: \"block!important\"\r\n        }\r\n    }\r\n}\r\n\r\nexport const chatsHeaderTitleStyle = (props) => {\r\n\r\n    const alignment = (props.hasOwnProperty(\"enableCloseMenu\") && props.enableCloseMenu.length > 0) ? {\r\n        width: \"33%\",\r\n        textAlign: \"center\"\r\n    } : {};\r\n    \r\n    return {\r\n        margin: \"0\",\r\n        display: \"inline-block\",\r\n        width: \"100%\",\r\n        textAlign: \"left\",\r\n        fontSize: \"20px\",\r\n        ...alignment,\r\n        \"&[dir=rtl]\": {\r\n            textAlign: \"right\",\r\n        }\r\n    }\r\n}\r\n\r\nexport const chatsMsgStyle = () =>{\r\n\r\n    return {\r\n        overflow: \"hidden\",\r\n        width: \"100%\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        position: \"absolute\",\r\n        top: \"50%\",\r\n    }\r\n}\r\n\r\nexport const chatsMsgTxtStyle = (props) => {\r\n\r\n    return {\r\n        margin: \"0\",\r\n        height: \"36px\",\r\n        color: `${props.theme.color.secondary}`,\r\n        fontSize: \"24px!important\",\r\n        fontWeight: \"600\",\r\n        lineHeight: \"30px\",\r\n    }\r\n}\r\n\r\nexport const chatsListStyle = () => {\r\n\r\n    return {\r\n        height: \"calc(100% - 75px)\",\r\n        width: \"100%\",\r\n        overflowY: \"auto\",\r\n        margin: \"0\",\r\n        padding: \"0\",\r\n    }\r\n}","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\nimport { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport { ConversationListManager } from \"./controller\";\r\n\r\nimport { CometChatConversationListItem } from \"../\";\r\n\r\nimport * as enums from \"../../../util/enums.js\";\r\nimport { validateWidgetSettings } from \"../../../util/common\";\r\n\r\nimport Translator from \"../../../resources/localization/translator\";\r\nimport { theme } from \"../../../resources/theme\";\r\nimport { incomingOtherMessageAlert } from \"../../../resources/audio/\";\r\n\r\nimport {\r\n  chatsWrapperStyle,\r\n  chatsHeaderStyle,\r\n  chatsHeaderCloseStyle,\r\n  chatsHeaderTitleStyle,\r\n  chatsMsgStyle,\r\n  chatsMsgTxtStyle,\r\n  chatsListStyle\r\n} from \"./style\";\r\n\r\nimport navigateIcon from \"./resources/navigate.png\";\r\n\r\nclass CometChatConversationList extends React.Component {\r\n\r\n  loggedInUser = null;\r\n\r\n  constructor(props) {\r\n\r\n    super(props);\r\n\r\n    this.state = {\r\n      conversationlist: props.conversationlist,\r\n      onItemClick: null,\r\n      selectedConversation: undefined,\r\n      lang: props.lang,\r\n      selectedConversationUnreadMessages: []\r\n    }\r\n\r\n    this.decoratorMessage = Translator.translate(\"LOADING\", props.lang);\r\n    this.chatListRef = React.createRef();\r\n    this.audio = new Audio(incomingOtherMessageAlert);\r\n\r\n    CometChat.getLoggedinUser().then((user) => {\r\n\r\n      this.loggedInUser = user;\r\n\r\n    }).catch((error) => {\r\n\r\n      this.decoratorMessage = Translator.translate(\"ERROR\", this.state.lang);\r\n      console.log(\"[CometChatConversationList] getConversations getLoggedinUser error\", error);\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n    this.ConversationListManager = new ConversationListManager();\r\n    this.getConversations();\r\n    this.ConversationListManager.attachListeners(this.conversationUpdated);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    \r\n    const previousItem = JSON.stringify(prevProps.item);\r\n    const currentItem = JSON.stringify(this.props.item);\r\n\r\n    //if different conversation is selected\r\n    if (previousItem !== currentItem) {\r\n      \r\n      if (Object.keys(this.props.item).length === 0) {\r\n\r\n        this.chatListRef.scrollTop = 0;\r\n        this.setState({ selectedConversation: {}, selectedConversationUnreadMessages: [] });\r\n\r\n      } else {\r\n\r\n        const conversationlist = [...this.state.conversationlist];\r\n        const conversationObj = conversationlist.find(c => {\r\n\r\n          if ((c.conversationType === this.props.type && this.props.type === CometChat.RECEIVER_TYPE.USER && c.conversationWith.uid === this.props.item.uid)\r\n            || (c.conversationType === this.props.type && this.props.type === CometChat.RECEIVER_TYPE.GROUP && c.conversationWith.guid === this.props.item.guid)) {\r\n\r\n            return c;\r\n          }\r\n\r\n          return false;\r\n        });\r\n        \r\n        if (conversationObj) {\r\n\r\n          let conversationKey = conversationlist.indexOf(conversationObj);\r\n          let newConversationObj = { ...conversationObj, unreadMessageCount: 0 };\r\n\r\n          conversationlist.splice(conversationKey, 1, newConversationObj);\r\n          this.setState({ conversationlist: conversationlist, selectedConversation: newConversationObj, selectedConversationUnreadMessages: [] });\r\n        }\r\n      }\r\n    }\r\n\r\n    //if user is blocked/unblocked, update conversationlist in state\r\n    if(prevProps.item \r\n    && Object.keys(prevProps.item).length \r\n    && prevProps.item.uid === this.props.item.uid \r\n    && prevProps.item.blockedByMe !== this.props.item.blockedByMe) {\r\n\r\n      let conversationlist = [...this.state.conversationlist];\r\n\r\n      //search for user\r\n      let convKey = conversationlist.findIndex((c, k) => c.conversationType === \"user\" && c.conversationWith.uid === this.props.item.uid);\r\n      if(convKey > -1) {\r\n\r\n        conversationlist.splice(convKey, 1);\r\n\r\n        this.setState({ conversationlist: conversationlist });\r\n      }\r\n    }\r\n\r\n    //if user deletes a group, remove it from chatslist\r\n    if (prevProps.groupToDelete !== this.props.groupToDelete) {\r\n\r\n      const conversationlist = [...this.state.conversationlist];\r\n      const groupToDelete = this.props.groupToDelete;\r\n\r\n      const convKey = conversationlist.findIndex(c => c.conversationType === CometChat.RECEIVER_TYPE.GROUP && c.conversationWith.guid === groupToDelete.guid);\r\n      if (convKey > -1) {\r\n        \r\n        conversationlist.splice(convKey, 1);\r\n        this.setState({ conversationlist: conversationlist });\r\n      }\r\n    }\r\n\r\n    if (prevProps.groupToUpdate\r\n      && (prevProps.groupToUpdate.guid !== this.props.groupToUpdate.guid\r\n        || (prevProps.groupToUpdate.guid === this.props.groupToUpdate.guid && (prevProps.groupToUpdate.membersCount !== this.props.groupToUpdate.membersCount || prevProps.groupToUpdate.scope !== this.props.groupToUpdate.scope)))) {\r\n\r\n      const conversationlist = [...this.state.conversationlist];\r\n      const groupToUpdate = this.props.groupToUpdate;\r\n\r\n      const convKey = conversationlist.findIndex(c => c.conversationType === \"group\" && c.conversationWith.guid === groupToUpdate.guid);\r\n      if (convKey > -1) {\r\n\r\n        const convObj = conversationlist[convKey];\r\n\r\n        let convWithObj = { ...convObj.conversationWith };\r\n\r\n        let newConvWithObj = { ...convWithObj, scope: groupToUpdate[\"scope\"], membersCount: groupToUpdate[\"membersCount\"] };\r\n        let newConvObj = { ...convObj, conversationWith: newConvWithObj };\r\n\r\n        conversationlist.splice(convKey, 1, newConvObj);\r\n        this.setState({ conversationlist: conversationlist });\r\n      }\r\n    }\r\n\r\n    if (prevProps.lastMessage !== this.props.lastMessage) {\r\n\r\n      const lastMessage = this.props.lastMessage;\r\n      const conversationList = [...this.state.conversationlist];\r\n      const conversationKey = conversationList.findIndex(c => c.conversationId === lastMessage.conversationId);\r\n\r\n      if (conversationKey > -1) {\r\n\r\n        const conversationObj = conversationList[conversationKey];\r\n        let newConversationObj = { ...conversationObj, lastMessage: lastMessage };\r\n\r\n        conversationList.splice(conversationKey, 1);\r\n        conversationList.unshift(newConversationObj);\r\n        this.setState({ conversationlist: conversationList });\r\n      }\r\n    }\r\n\r\n    if (prevProps.lang !== this.props.lang) {\r\n      this.setState({ lang: this.props.lang });\r\n    }\r\n\r\n    if (prevProps.unreadMessages.length !== this.props.unreadMessages.length) {\r\n\r\n      this.setState({ selectedConversationUnreadMessages: [ ...this.props.unreadMessages ] });\r\n      \r\n      if (this.props.unreadMessages.length === 0) {\r\n\r\n        const unreadMessage = prevProps.unreadMessages[0];\r\n        this.makeConversation(unreadMessage).then(response => {\r\n\r\n          const { conversationKey, conversationObj, conversationList } = response;\r\n\r\n          let unreadMessageCount = this.props.unreadMessages.length;\r\n          let newConversationObj = { ...conversationObj, unreadMessageCount: unreadMessageCount };\r\n\r\n          conversationList.splice(conversationKey, 1);\r\n          conversationList.unshift(newConversationObj);\r\n          this.setState({ conversationlist: conversationList });\r\n\r\n        }).catch(error => {\r\n          console.log('This is an error in converting message to conversation', error);\r\n        });\r\n\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.ConversationListManager.removeListeners();\r\n    this.ConversationListManager = null;\r\n  }\r\n\r\n  updateLastMessage = (lastMessage) => {\r\n\r\n    const conversationList = [...this.state.conversationlist];\r\n    const conversationKey = conversationList.findIndex(c => c.conversationId === lastMessage.conversationId);\r\n\r\n    if (conversationKey > -1) {\r\n\r\n      const conversationObj = conversationList[conversationKey];\r\n      let newConversationObj = { ...conversationObj, lastMessage: lastMessage };\r\n\r\n      conversationList.splice(conversationKey, 1);\r\n      conversationList.unshift(newConversationObj);\r\n      this.setState({ conversationlist: conversationList });\r\n    }\r\n\r\n  }\r\n\r\n  removeGroupFromListOnDeleting = (group) => {\r\n\r\n    const conversationList = [...this.state.conversationlist];\r\n    const conversationKey = conversationList.findIndex(c => c.conversationType === CometChat.RECEIVER_TYPE.GROUP && c.conversationWith.guid === group.guid);\r\n    \r\n    if (conversationKey > -1) {\r\n\r\n      conversationList.splice(conversationKey, 1);\r\n      this.setState({ conversationlist: conversationList });\r\n    }\r\n  }\r\n\r\n  conversationUpdated = (key, item, message, options) => {\r\n\r\n    switch(key) {\r\n      case enums.USER_ONLINE:\r\n      case enums.USER_OFFLINE:\r\n        this.updateUser(item);\r\n        break;\r\n      case enums.TEXT_MESSAGE_RECEIVED:\r\n      case enums.MEDIA_MESSAGE_RECEIVED:\r\n      case enums.CUSTOM_MESSAGE_RECEIVED:\r\n      case enums.INCOMING_CALL_RECEIVED:\r\n      case enums.INCOMING_CALL_CANCELLED:\r\n        this.updateConversation(key, message);\r\n        break;\r\n      case enums.MESSAGE_EDITED:\r\n      case enums.MESSAGE_DELETED:\r\n        this.conversationEditedDeleted(message);\r\n        break;\r\n      case enums.GROUP_MEMBER_ADDED:\r\n        this.updateGroupMemberAdded(message, options);\r\n        break;\r\n      case enums.GROUP_MEMBER_KICKED:\r\n      case enums.GROUP_MEMBER_BANNED:\r\n      case enums.GROUP_MEMBER_LEFT:\r\n        this.updateGroupMemberRemoved(message, options);\r\n        break;\r\n      case enums.GROUP_MEMBER_SCOPE_CHANGED:\r\n        this.updateGroupMemberScopeChanged(message, options);\r\n        break;\r\n      case enums.GROUP_MEMBER_JOINED:\r\n      case enums.GROUP_MEMBER_UNBANNED:\r\n        this.updateGroupMemberChanged(message, options);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n  }\r\n\r\n  updateUser = (user) => {\r\n\r\n    const conversationlist = [...this.state.conversationlist];\r\n    const conversationKey = conversationlist.findIndex(conversationObj => conversationObj.conversationType === \"user\" && conversationObj.conversationWith.uid === user.uid);\r\n\r\n    if(conversationKey > -1) {\r\n\r\n      let conversationObj = {...conversationlist[conversationKey]};\r\n      let conversationWithObj = {...conversationObj.conversationWith, status: user.getStatus()};\r\n      \r\n      let newConversationObj = {...conversationObj, conversationWith: conversationWithObj};\r\n      conversationlist.splice(conversationKey, 1, newConversationObj);\r\n      this.setState({conversationlist: conversationlist});\r\n    }\r\n  }\r\n\r\n  playAudio = (message) => {\r\n\r\n    //if audio sound is disabled in chat widget\r\n    if (validateWidgetSettings(this.props.widgetsettings, \"enable_sound_for_messages\") === false) {\r\n      return false;\r\n    }\r\n\r\n    if (message.category === enums.CATEGORY_ACTION \r\n    && message.type === enums.ACTION_TYPE_GROUPMEMBER \r\n    && validateWidgetSettings(this.props.widgetsettings, \"hide_join_leave_notifications\") === true) {\r\n      return false;\r\n    }\r\n\r\n    this.audio.currentTime = 0;\r\n    this.audio.play();\r\n  }\r\n\r\n  makeConversation = (message) => {\r\n\r\n    const promise = new Promise((resolve, reject) => {\r\n\r\n      CometChat.CometChatHelper.getConversationFromMessage(message).then(conversation => {\r\n\r\n        let conversationList = [...this.state.conversationlist];\r\n        let conversationKey = conversationList.findIndex(c => c.conversationId === conversation.conversationId);\r\n        \r\n        let conversationObj = { ...conversation };\r\n        if (conversationKey > -1) {\r\n          conversationObj = { ...conversationList[conversationKey] };\r\n        }\r\n\r\n        resolve({ \"conversationKey\": conversationKey, \"conversationObj\": conversationObj, \"conversationList\": conversationList });\r\n      \r\n      }).catch(error => reject(error));\r\n\r\n    });\r\n    \r\n    return promise;\r\n  }\r\n\r\n  makeUnreadMessageCount = (conversation = {}, listenerEvent = null) => {\r\n\r\n    if (Object.keys(conversation).length === 0) {\r\n      return 1;\r\n    }\r\n\r\n    let unreadMessageCount = parseInt(conversation.unreadMessageCount)\r\n    if (this.state.selectedConversation && this.state.selectedConversation.conversationId === conversation.conversationId) {\r\n\r\n      if(this.state.selectedConversationUnreadMessages.length) {\r\n\r\n        const unreadMessage = this.state.selectedConversationUnreadMessages[0];\r\n        const selectedConversation = this.state.selectedConversation;\r\n\r\n        if (unreadMessage.hasOwnProperty(\"conversationId\") && unreadMessage.conversationId === selectedConversation.conversationId) {\r\n\r\n          unreadMessageCount = 0;\r\n          this.state.selectedConversationUnreadMessages.forEach(message => {\r\n\r\n            if (message.category === CometChat.CATEGORY_MESSAGE) {\r\n              ++unreadMessageCount;\r\n            }\r\n\r\n          });\r\n\r\n        }\r\n\r\n      } else {\r\n        unreadMessageCount = 0;\r\n      }\r\n\r\n    } else if ((this.props.item.hasOwnProperty(\"guid\") && conversation.conversationWith.hasOwnProperty(\"guid\") && this.props.item.guid === conversation.conversationWith.guid)\r\n      || (this.props.item.hasOwnProperty(\"uid\") && conversation.conversationWith.hasOwnProperty(\"uid\") && this.props.item.uid === conversation.conversationWith.uid)) {\r\n\r\n      unreadMessageCount = 0;\r\n\r\n    } else {\r\n\r\n      if (listenerEvent && (listenerEvent === enums.TEXT_MESSAGE_RECEIVED || listenerEvent === enums.MEDIA_MESSAGE_RECEIVED)) {\r\n        unreadMessageCount = unreadMessageCount + 1;\r\n      } \r\n\r\n    }\r\n\r\n    return unreadMessageCount;\r\n  }\r\n\r\n  makeLastMessage = (message, conversation = {}) => {\r\n\r\n    const newMessage = Object.assign({}, message);\r\n    return newMessage;\r\n  }\r\n\r\n  updateConversation = (key, message) => {\r\n\r\n    this.makeConversation(message).then(response => {\r\n\r\n      const { conversationKey, conversationObj, conversationList } = response;\r\n      \r\n      if (conversationKey > -1) {\r\n\r\n        let unreadMessageCount = this.makeUnreadMessageCount(conversationObj, key);\r\n        let lastMessageObj = this.makeLastMessage(message, conversationObj);\r\n\r\n        let newConversationObj = { ...conversationObj, lastMessage: lastMessageObj, unreadMessageCount: unreadMessageCount };\r\n        conversationList.splice(conversationKey, 1);\r\n        conversationList.unshift(newConversationObj);\r\n        this.setState({ conversationlist: conversationList });\r\n\r\n        if (key !== enums.INCOMING_CALL_RECEIVED && key !== enums.INCOMING_CALL_CANCELLED) {\r\n          this.playAudio(message);\r\n        }\r\n\r\n      } else {\r\n\r\n        let unreadMessageCount = this.makeUnreadMessageCount({}, key);\r\n        let lastMessageObj = this.makeLastMessage(message);\r\n\r\n        let newConversationObj = { ...conversationObj, lastMessage: lastMessageObj, unreadMessageCount: unreadMessageCount };\r\n        conversationList.unshift(newConversationObj);\r\n        this.setState({ conversationlist: conversationList });\r\n\r\n        if (key !== enums.INCOMING_CALL_RECEIVED && key !== enums.INCOMING_CALL_CANCELLED) {\r\n          this.playAudio(message);\r\n        }\r\n      }\r\n\r\n    }).catch(error => {\r\n      console.log('This is an error in converting message to conversation', error);\r\n    });\r\n\r\n  }\r\n\r\n  conversationEditedDeleted = (message) => {\r\n\r\n    this.makeConversation(message).then(response => {\r\n\r\n      const { conversationKey, conversationObj, conversationList } = response;\r\n      \r\n      if (conversationKey > -1) {\r\n\r\n        let lastMessageObj = conversationObj.lastMessage;\r\n\r\n        if (lastMessageObj.id === message.id) {\r\n\r\n          const newLastMessageObj = Object.assign({}, lastMessageObj, message);\r\n          let newConversationObj = Object.assign({}, conversationObj, { lastMessage: newLastMessageObj }); \r\n          conversationList.splice(conversationKey, 1, newConversationObj);\r\n          this.setState({ conversationlist: conversationList });\r\n        }\r\n      }\r\n\r\n    }).catch(error => {\r\n      console.log('This is an error in converting message to conversation', error);\r\n    });\r\n\r\n  }\r\n\r\n  updateGroupMemberAdded = (message, options) => {\r\n\r\n    this.makeConversation(message).then(response => {\r\n\r\n      const { conversationKey, conversationObj, conversationList } = response;\r\n\r\n      if (conversationKey > -1) {\r\n\r\n        let lastMessageObj = this.makeLastMessage(message, conversationObj);\r\n        let conversationWithObj = { ...conversationObj.conversationWith };\r\n\r\n        let membersCount = parseInt(conversationWithObj.membersCount);\r\n        if (message.hasOwnProperty(\"actionFor\") && message.actionFor.hasOwnProperty(\"membersCount\")) {\r\n          membersCount = message.actionFor.membersCount;\r\n        }\r\n\r\n        let newConversationWithObj = { ...conversationWithObj, membersCount: membersCount };\r\n\r\n        let newConversationObj = { ...conversationObj, conversationWith: newConversationWithObj, lastMessage: lastMessageObj };\r\n        conversationList.splice(conversationKey, 1);\r\n        conversationList.unshift(newConversationObj);\r\n        this.setState({ conversationlist: conversationList });\r\n        this.playAudio(message);\r\n\r\n      } else {\r\n\r\n        if (options && this.loggedInUser.uid === options.user.uid) {\r\n          \r\n          let lastMessageObj = this.makeLastMessage(message);\r\n          let conversationWithObj = { ...conversationObj.conversationWith };\r\n\r\n          let membersCount = parseInt(conversationWithObj.membersCount);\r\n          if (message.hasOwnProperty(\"actionFor\") && message.actionFor.hasOwnProperty(\"membersCount\")) {\r\n            membersCount = message.actionFor.membersCount;\r\n          }\r\n          let scope = CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT;\r\n          let hasJoined = options.hasJoined;\r\n\r\n          let newConversationWithObj = { ...conversationWithObj, membersCount: membersCount, scope: scope, hasJoined: hasJoined };\r\n          let newConversationObj = { ...conversationObj, conversationWith: newConversationWithObj, lastMessage: lastMessageObj };\r\n\r\n          conversationList.unshift(newConversationObj);\r\n          this.setState({ conversationlist: conversationList });\r\n          this.playAudio(message);\r\n        }\r\n\r\n      }\r\n\r\n    }).catch(error => {\r\n      console.log('This is an error in converting message to conversation', error);\r\n    });\r\n  }\r\n\r\n  updateGroupMemberRemoved = (message, options) => {\r\n\r\n    this.makeConversation(message).then(response => {\r\n\r\n      const { conversationKey, conversationObj, conversationList } = response;\r\n\r\n      if (conversationKey > -1) {\r\n\r\n        if (options && this.loggedInUser.uid === options.user.uid) {\r\n\r\n          conversationList.splice(conversationKey, 1);\r\n          this.setState({ conversationlist: conversationList });\r\n\r\n        } else {\r\n\r\n          let lastMessageObj = this.makeLastMessage(message, conversationObj);\r\n          let conversationWithObj = { ...conversationObj.conversationWith };\r\n\r\n          let membersCount = parseInt(conversationWithObj.membersCount);\r\n          if (message.hasOwnProperty(\"actionFor\") && message.actionFor.hasOwnProperty(\"membersCount\")) {\r\n            membersCount = message.actionFor.membersCount;\r\n          }\r\n\r\n          let newConversationWithObj = { ...conversationWithObj, membersCount: membersCount };\r\n\r\n          let newConversationObj = { ...conversationObj, conversationWith: newConversationWithObj, lastMessage: lastMessageObj };\r\n          conversationList.splice(conversationKey, 1);\r\n          conversationList.unshift(newConversationObj);\r\n          this.setState({ conversationlist: conversationList });\r\n          this.playAudio(message);\r\n        }\r\n      }\r\n\r\n    }).catch(error => {\r\n      console.log('This is an error in converting message to conversation', error);\r\n    });\r\n    \r\n  }\r\n\r\n  updateGroupMemberScopeChanged = (message, options) => {\r\n\r\n    this.makeConversation(message).then(response => {\r\n\r\n      const { conversationKey, conversationObj, conversationList } = response;\r\n\r\n      if (conversationKey > -1) {\r\n\r\n        let lastMessageObj = this.makeLastMessage(message, conversationObj);\r\n\r\n        let conversationWithObj = { ...conversationObj.conversationWith };\r\n        let membersCount = parseInt(conversationWithObj.membersCount);\r\n\r\n        let scope = conversationWithObj.scope;\r\n        if (options && this.loggedInUser.uid === options.user.uid) {\r\n          scope = options.scope;\r\n        }\r\n\r\n        let newConversationWithObj = { ...conversationWithObj, membersCount: membersCount, scope: scope };\r\n        let newConversationObj = { ...conversationObj, conversationWith: newConversationWithObj, lastMessage: lastMessageObj };\r\n        conversationList.splice(conversationKey, 1);\r\n        conversationList.unshift(newConversationObj);\r\n        this.setState({ conversationlist: conversationList });\r\n        this.playAudio(message);\r\n\r\n      } \r\n\r\n    }).catch(error => {\r\n      console.log('This is an error in converting message to conversation', error);\r\n    });\r\n  }\r\n\r\n  updateGroupMemberChanged = (message, options) => {\r\n\r\n    this.makeConversation(message).then(response => {\r\n\r\n      const { conversationKey, conversationObj, conversationList } = response;\r\n      if (conversationKey > -1) {\r\n\r\n        if (options && this.loggedInUser.uid !== options.user.uid) {\r\n\r\n          let lastMessageObj = this.makeLastMessage(message, conversationObj);\r\n          let conversationWithObj = { ...conversationObj.conversationWith };\r\n          \r\n          let membersCount = parseInt(conversationWithObj.membersCount);\r\n          if (message.hasOwnProperty(\"actionFor\") && message.actionFor.hasOwnProperty(\"membersCount\")) {\r\n            membersCount = message.actionFor.membersCount;\r\n          }\r\n          \r\n          let newConversationWithObj = { ...conversationWithObj, membersCount: membersCount };\r\n          let newConversationObj = { ...conversationObj, conversationWith: newConversationWithObj, lastMessage: lastMessageObj };\r\n          conversationList.splice(conversationKey, 1);\r\n          conversationList.unshift(newConversationObj);\r\n          this.setState({ conversationlist: conversationList });\r\n          this.playAudio(message);\r\n        }\r\n      }\r\n\r\n    }).catch(error => {\r\n      console.log('This is an error in converting message to conversation', error);\r\n    });\r\n\r\n  }\r\n  \r\n  handleScroll = (e) => {\r\n\r\n    const bottom =\r\n      Math.round(e.currentTarget.scrollHeight - e.currentTarget.scrollTop) === Math.round(e.currentTarget.clientHeight);\r\n    if (bottom) this.getConversations();\r\n  }\r\n\r\n  //updating unread message count to zero\r\n  handleClick = (conversation, conversationKey) => {\r\n    \r\n    if(!this.props.onItemClick)\r\n      return;\r\n\r\n    this.props.onItemClick(conversation.conversationWith, conversation.conversationType);\r\n  }\r\n\r\n  handleMenuClose = () => {\r\n\r\n    if(!this.props.actionGenerated) {\r\n      return false;\r\n    }\r\n\r\n    this.props.actionGenerated(\"closeMenuClicked\")\r\n  }\r\n\r\n  getConversations = () => {\r\n\r\n    this.ConversationListManager.fetchNextConversation().then(conversationList => {\r\n\r\n      if(conversationList.length === 0) {\r\n        this.decoratorMessage = Translator.translate(\"NO_CHATS_FOUND\", this.state.lang);\r\n      }\r\n\r\n      conversationList.forEach(conversation => {\r\n\r\n        if (this.props.hasOwnProperty(\"type\") && this.props.hasOwnProperty(\"item\") && this.props.type === conversation.conversationType) {\r\n\r\n          if ((conversation.conversationType === CometChat.RECEIVER_TYPE.USER && this.props.item.uid === conversation.conversationWith.uid) ||\r\n            (conversation.conversationType === CometChat.RECEIVER_TYPE.GROUP && this.props.item.guid === conversation.conversationWith.guid)) {\r\n            conversation.unreadMessageCount = 0;\r\n          }\r\n        }\r\n        \r\n      });\r\n\r\n      this.setState({ conversationlist: [...this.state.conversationlist, ...conversationList] });\r\n\r\n    }).catch(error => {\r\n\r\n      this.decoratorMessage = Translator.translate(\"ERROR\", this.state.lang);\r\n      console.error(\"[CometChatConversationList] getConversations fetchNext error\", error);\r\n    });\r\n  }\r\n\r\n  render() {\r\n\r\n    const conversationList = this.state.conversationlist.map((conversation, key) => {\r\n\r\n      return (\r\n        <CometChatConversationListItem \r\n        key={key}\r\n        theme={this.props.theme}\r\n        config={this.props.config}\r\n        lang={this.state.lang}\r\n        conversationKey={key} \r\n        conversation={conversation}\r\n        selectedConversation={this.state.selectedConversation}\r\n        widgetsettings={this.props.widgetsettings}\r\n        loggedInUser={this.loggedInUser}\r\n        handleClick={this.handleClick} />\r\n      );\r\n    });\r\n\r\n    let messageContainer = null;\r\n    if(this.state.conversationlist.length === 0) {\r\n      messageContainer = (\r\n        <div css={chatsMsgStyle()} className=\"chats__decorator-message\">\r\n          <p css={chatsMsgTxtStyle(this.props)} className=\"decorator-message\">{this.decoratorMessage}</p>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    let closeBtn = (<div css={chatsHeaderCloseStyle(navigateIcon, this.props)} className=\"header__close\" onClick={this.handleMenuClose}></div>);\r\n    if (!this.props.hasOwnProperty(\"enableCloseMenu\") || (this.props.hasOwnProperty(\"enableCloseMenu\") && this.props.enableCloseMenu === 0)) {\r\n      closeBtn = null;\r\n    }    \r\n\r\n    return (\r\n      <div css={chatsWrapperStyle()} className=\"chats\">\r\n        <div css={chatsHeaderStyle(this.props)} className=\"chats__header\">\r\n          {closeBtn}\r\n          <h4 css={chatsHeaderTitleStyle(this.props)} className=\"header__title\" dir={Translator.getDirection(this.state.lang)}>{Translator.translate(\"CHATS\", this.state.lang)}</h4>\r\n        </div>\r\n        {messageContainer}\r\n        <div css={chatsListStyle()} className=\"chats__list\" onScroll={this.handleScroll} ref={el => this.chatListRef = el}>{conversationList}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatConversationList.defaultProps = {\r\n  lang: Translator.getDefaultLanguage(),\r\n  theme: theme,\r\n  unreadMessages: [],\r\n  item: {},\r\n  conversationlist: []\r\n};\r\n\r\nCometChatConversationList.propTypes = {\r\n  lang: PropTypes.string,\r\n  theme: PropTypes.object,\r\n  unreadMessages: PropTypes.array,\r\n  item: PropTypes.object,\r\n  conversationlist: PropTypes.arrayOf(PropTypes.shape(CometChat.Conversation))\r\n}\r\n\r\nexport default CometChatConversationList;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAlElEQVRIS+3TQQ6AIAwEwPZl+g56kZeJB/5pmmBCjEIXIfEAV5Mdu1CmwYcH59MEqg3/s6IY40ZEi4j42gjwBCl8T8FeREIJgYA8nJkP55xOUjxmoCVcZRPQGm4CvoTDABEFy8vJLwWuCEVMgP7R7XmaJzEDrQgEPCB9F+26PK2Lmdeui1bb2LfvcEUoNIFqY8MrOgHJVToZIc83egAAAABJRU5ErkJggg==\"","export const listItem = (props) => {\r\n\r\n    const selectedState = (props.selectedConversation && props.selectedConversation.conversationId === props.conversation.conversationId) ? {\r\n        backgroundColor: `${props.theme.backgroundColor.primary}`\r\n    } : {};\r\n\r\n    return {\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        justifyContent: \"left\",\r\n        alignItems: \"center\",\r\n        cursor: \"pointer\",\r\n        width: \"100%\",\r\n        padding: \"8px 16px\",\r\n        ...selectedState,\r\n        '&:hover': {\r\n            backgroundColor: `${props.theme.backgroundColor.primary}`\r\n        },\r\n    }\r\n}\r\n\r\nexport const itemThumbnailStyle = () => {\r\n\r\n    return {\r\n        display: \"inline-block\",\r\n        width: \"36px\",\r\n        height: \"36px\",\r\n        flexShrink: \"0\",\r\n    }\r\n}\r\n\r\nexport const itemDetailStyle = () => {\r\n\r\n    return {\r\n        width: \"calc(100% - 45px)\",\r\n        flexGrow: \"1\",\r\n        paddingLeft: \"16px\",\r\n        \"&[dir=rtl]\": {\r\n            paddingRight: \"16px\",\r\n            paddingLeft: \"0\",\r\n        }\r\n    }\r\n}\r\n\r\nexport const itemRowStyle = () => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        justifyContent: \"space-between\",\r\n        alignItems: \"baseline\",\r\n    }\r\n}\r\n\r\nexport const itemNameStyle = () => {\r\n\r\n    return {\r\n        fontSize: \"15px\",\r\n        fontWeight: \"600\",\r\n        display: \"block\",\r\n        width: \"calc(100% - 72px)\",\r\n        overflow: \"hidden\",\r\n        textOverflow: \"ellipsis\",\r\n        whiteSpace: \"nowrap\",\r\n    }\r\n}\r\n\r\nexport const itemLastMsgStyle = (props) => {\r\n\r\n    return {\r\n        margin: \"0\",\r\n        fontSize: \"13px\",\r\n        width: \"calc(100% - 50px)\",\r\n        overflow: \"hidden\",\r\n        textOverflow: \"ellipsis\",\r\n        whiteSpace: \"nowrap\",\r\n        lineHeight: \"20px\",\r\n        color: `${props.theme.color.helpText}`,\r\n    }\r\n}\r\n\r\nexport const itemLastMsgTimeStyle = (props) => {\r\n\r\n    return {\r\n        fontSize: \"11px\",\r\n        width: \"72px\",\r\n        textAlign: \"right\",\r\n        color: `${props.theme.color.helpText}`,\r\n    }\r\n}","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\nimport { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport { CometChatAvatar, CometChatBadgeCount, CometChatUserPresence } from \"../../Shared\";\r\n\r\nimport * as enums from \"../../../util/enums.js\";\r\nimport { checkMessageForExtensionsData, getTimeStampForLastMessage } from \"../../../util/common\";\r\n\r\nimport { theme } from \"../../../resources/theme\";\r\nimport Translator from \"../../../resources/localization/translator\";\r\n\r\nimport {\r\n  listItem,\r\n  itemThumbnailStyle,\r\n  itemDetailStyle,\r\n  itemRowStyle,\r\n  itemNameStyle,\r\n  itemLastMsgStyle,\r\n  itemLastMsgTimeStyle\r\n} from \"./style\";\r\n\r\nclass CometChatConversationListItem extends React.Component {\r\n\r\n  constructor(props) {\r\n\r\n    super(props);\r\n\r\n    this.state = {\r\n      lastMessage: \"\",\r\n      lastMessageTimestamp: \"\",\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n    const message = this.getLastMessage();\r\n    const timestamp = this.getLastMessageTimestamp();\r\n\r\n    this.setState({ lastMessage: message, lastMessageTimestamp: timestamp });\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n\r\n    const previousItem = JSON.stringify(prevProps.conversation);\r\n    const currentItem = JSON.stringify(this.props.conversation);\r\n\r\n    if (previousItem !== currentItem || prevProps.lang !== this.props.lang) {\r\n\r\n      const message = this.getLastMessage();\r\n      const timestamp = this.getLastMessageTimestamp();\r\n\r\n      this.setState({ lastMessage: message, lastMessageTimestamp: timestamp });\r\n    }\r\n  }\r\n\r\n  getLastMessage = () => {\r\n\r\n    if (this.props.hasOwnProperty(\"conversation\") === false) {\r\n      return false;\r\n    }\r\n\r\n    if (this.props.conversation.hasOwnProperty(\"lastMessage\") === false) {\r\n      return false;\r\n    }\r\n\r\n    let message = null;\r\n    const lastMessage = this.props.conversation.lastMessage;\r\n\r\n    if (lastMessage.hasOwnProperty(\"deletedAt\")) {\r\n\r\n      message = (this.props.loggedInUser.uid === lastMessage.sender.uid) ? `${Translator.translate(\"YOU_DELETED_THIS_MESSAGE\", this.props.lang)}` : `${Translator.translate(\"THIS_MESSAGE_DELETED\", this.props.lang)}`;\r\n\r\n    } else {\r\n\r\n      switch (lastMessage.category) {\r\n        case CometChat.CATEGORY_MESSAGE:\r\n          message = this.getMessage(lastMessage);\r\n          break;\r\n        case CometChat.CATEGORY_CALL:\r\n          message = this.getCallMessage(lastMessage);\r\n          break;\r\n        case CometChat.CATEGORY_ACTION:\r\n          message = this.getActionMessage(lastMessage);\r\n          break;\r\n        case enums.CATEGORY_CUSTOM:\r\n          message = this.getCustomMessage(lastMessage);\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n    return message;\r\n  }\r\n\r\n  getLastMessageTimestamp = () => {\r\n\r\n    if (this.props.hasOwnProperty(\"conversation\") === false) {\r\n      return false;\r\n    }\r\n\r\n    if (this.props.conversation.hasOwnProperty(\"lastMessage\") === false) {\r\n      return false;\r\n    }\r\n\r\n    if (this.props.conversation.lastMessage.hasOwnProperty(\"sentAt\") === false \r\n    && this.props.conversation.lastMessage.hasOwnProperty(\"_composedAt\") === false) {\r\n      return false;\r\n    }\r\n\r\n    let timestamp = this.props.conversation.lastMessage._composedAt || this.props.conversation.lastMessage.sentAt;\r\n    timestamp = getTimeStampForLastMessage(timestamp, this.props.lang);\r\n\r\n    return timestamp;\r\n  }\r\n\r\n  getCustomMessage = (lastMessage) => {\r\n\r\n    let message = null;\r\n    const sender = (this.props.loggedInUser.uid !== lastMessage.sender.uid) ? `${lastMessage.sender.name}: ` : ``;\r\n\r\n    switch(lastMessage.type) {\r\n      case enums.CUSTOM_TYPE_POLL: {\r\n        \r\n        const pollMessage = Translator.translate(\"CUSTOM_MESSAGE_POLL\", this.props.lang);\r\n        message = (lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP) ? `${sender} ${pollMessage}` : `${pollMessage}`;\r\n      }\r\n      break;\r\n      case enums.CUSTOM_TYPE_STICKER: {\r\n\r\n        const stickerMessage = Translator.translate(\"CUSTOM_MESSAGE_STICKER\", this.props.lang);\r\n        message = (lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP) ? `${sender} ${stickerMessage}` : `${stickerMessage}`;\r\n      }\r\n      break;\r\n      case enums.CUSTOM_TYPE_DOCUMENT: {\r\n\r\n        const docMessage = Translator.translate(\"CUSTOM_MESSAGE_DOCUMENT\", this.props.lang);\r\n        message = (lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP) ? `${sender} ${docMessage}` : `${docMessage}`;\r\n      }\r\n      break;\r\n      case enums.CUSTOM_TYPE_WHITEBOARD: {\r\n\r\n        const whiteboardMessage = Translator.translate(\"CUSTOM_MESSAGE_WHITEBOARD\", this.props.lang);\r\n        message = (lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP) ? `${sender} ${whiteboardMessage}` : `${whiteboardMessage}`;\r\n      }\r\n      break;\r\n      case enums.CUSTOM_TYPE_MEETING: {\r\n\r\n        const meetingMessage = Translator.translate(\"VIDEO_CALL\", this.props.lang);\r\n        message = `${sender} ${meetingMessage}`;\r\n      }\r\n        break;\r\n      default:\r\n      break;\r\n    }\r\n    return message;\r\n  }\r\n\r\n  getTextMessage = (message) => {\r\n\r\n    let messageText = message.text;\r\n\r\n    //xss extensions data\r\n    const xssData = checkMessageForExtensionsData(message, \"xss-filter\");\r\n    if (xssData && xssData.hasOwnProperty(\"sanitized_text\")) {\r\n      messageText = xssData.sanitized_text;\r\n    }\r\n\r\n    //datamasking extensions data\r\n    const maskedData = checkMessageForExtensionsData(message, \"data-masking\");\r\n    if (maskedData\r\n      && maskedData.hasOwnProperty(\"data\")\r\n      && maskedData.data.hasOwnProperty(\"sensitive_data\")\r\n      && maskedData.data.hasOwnProperty(\"message_masked\")\r\n      && maskedData.data.sensitive_data === \"yes\") {\r\n      messageText = maskedData.data.message_masked;\r\n    }\r\n\r\n    //profanity extensions data\r\n    const profaneData = checkMessageForExtensionsData(message, \"profanity-filter\");\r\n    if (profaneData\r\n      && profaneData.hasOwnProperty(\"profanity\")\r\n      && profaneData.hasOwnProperty(\"message_clean\")\r\n      && profaneData.profanity === \"yes\") {\r\n      messageText = profaneData.message_clean;\r\n    }\r\n\r\n    return messageText;\r\n  }\r\n\r\n  getMessage = (lastMessage) => {\r\n\r\n    let message = null;\r\n    const sender = (this.props.loggedInUser.uid !== lastMessage.sender.uid) ? `${lastMessage.sender.name}: ` : ``;\r\n\r\n    switch (lastMessage.type) {\r\n\r\n      case CometChat.MESSAGE_TYPE.TEXT: {\r\n\r\n        const textMessage = this.getTextMessage(lastMessage);\r\n        message = (lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP) ? `${sender} ${textMessage}` : `${textMessage}`;\r\n      }\r\n      break;\r\n      case CometChat.MESSAGE_TYPE.MEDIA: {\r\n\r\n        const mediaMessage = Translator.translate(\"MEDIA_MESSAGE\", this.props.lang);\r\n        message = (lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP) ? `${sender} ${mediaMessage}` : `${mediaMessage}`; \r\n      }\r\n      break;\r\n      case CometChat.MESSAGE_TYPE.IMAGE: {\r\n\r\n        const imageMessage = Translator.translate(\"MESSAGE_IMAGE\", this.props.lang);\r\n        message = (lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP) ? `${sender} ${imageMessage}` : `${imageMessage}`; \r\n      }\r\n      break\r\n      case CometChat.MESSAGE_TYPE.FILE: {\r\n\r\n        const fileMessage = Translator.translate(\"MESSAGE_FILE\", this.props.lang);\r\n        message = (lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP) ? `${sender} ${fileMessage}` : `${fileMessage}`; \r\n      }\r\n      break;\r\n      case CometChat.MESSAGE_TYPE.VIDEO: {\r\n\r\n        const videoMessage = Translator.translate(\"MESSAGE_VIDEO\", this.props.lang);\r\n        message = (lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP) ? `${sender} ${videoMessage}` : `${videoMessage}`; \r\n      }\r\n      break;\r\n      case CometChat.MESSAGE_TYPE.AUDIO: {\r\n\r\n        const audioMessage = Translator.translate(\"MESSAGE_AUDIO\", this.props.lang);\r\n        message = (lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP) ? `${sender} ${audioMessage}` : `${audioMessage}`; \r\n      }\r\n      break;\r\n      case CometChat.MESSAGE_TYPE.CUSTOM: {\r\n\r\n        const customMessage = Translator.translate(\"CUSTOM_MESSAGE\", this.props.lang);\r\n        message = (lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP) ? `${sender} ${customMessage}` : `${customMessage}`; \r\n      }\r\n      break;\r\n      default:\r\n      break;\r\n    }\r\n\r\n    return message;\r\n  }\r\n\r\n  getCallMessage = (lastMessage) => {\r\n\r\n    let message = null;\r\n    const sender = (this.props.loggedInUser.uid !== lastMessage.sender.uid) ? `${lastMessage.sender.name}: ` : ``;\r\n\r\n    switch (lastMessage.type) {\r\n      case CometChat.MESSAGE_TYPE.VIDEO: {\r\n\r\n        const videoMessage = Translator.translate(\"VIDEO_CALL\", this.props.lang);\r\n        message = (lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP) ? `${sender} ${videoMessage}` : `${videoMessage}`;\r\n      }\r\n      break;\r\n      case CometChat.MESSAGE_TYPE.AUDIO: {\r\n\r\n        const audioMessage = Translator.translate(\"AUDIO_CALL\", this.props.lang);\r\n        message = (lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP) ? `${sender} ${audioMessage}` : `${audioMessage}`;\r\n      }\r\n      break;\r\n      default:\r\n      break;\r\n    }\r\n\r\n    return message;\r\n  }\r\n\r\n  getActionMessage = (message) => {\r\n\r\n    let actionMessage = null;\r\n\r\n    if (message.hasOwnProperty(\"actionBy\") === false || message.hasOwnProperty(\"actionOn\") === false) {\r\n      return actionMessage;\r\n    }\r\n\r\n    if (message.action !== CometChat.ACTION_TYPE.MEMBER_JOINED\r\n      && message.action !== CometChat.ACTION_TYPE.MEMBER_LEFT\r\n      && (message.actionBy.hasOwnProperty(\"name\") === false || message.actionOn.hasOwnProperty(\"name\") === false)) {\r\n      return actionMessage;\r\n    }\r\n\r\n    if (message.action === CometChat.ACTION_TYPE.MEMBER_SCOPE_CHANGED) {\r\n\r\n      if (message.hasOwnProperty(\"data\") && message.data.hasOwnProperty(\"extras\")) {\r\n\r\n        if (message.data.extras.hasOwnProperty(\"scope\")) {\r\n\r\n          if (message.data.extras.scope.hasOwnProperty(\"new\") === false) { return actionMessage; }\r\n\r\n        } else { return actionMessage; }\r\n\r\n      } else { return actionMessage; }\r\n    }\r\n\r\n    if (message.action === CometChat.ACTION_TYPE.MEMBER_SCOPE_CHANGED && message.data.extras.hasOwnProperty(\"scope\") === false) {\r\n      return actionMessage;\r\n    }\r\n\r\n    if (message.action === CometChat.ACTION_TYPE.MEMBER_SCOPE_CHANGED && message.data.extras.scope.hasOwnProperty(\"new\") === false) {\r\n      return actionMessage;\r\n    }\r\n\r\n    const byEntity = message.actionBy;\r\n    const onEntity = message.actionOn;\r\n\r\n    const byString = byEntity.name;\r\n    const forString = (message.action !== CometChat.ACTION_TYPE.MEMBER_JOINED && message.action !== CometChat.ACTION_TYPE.MEMBER_LEFT) ? onEntity.name : \"\";\r\n\r\n    switch (message.action) {\r\n\r\n      case CometChat.ACTION_TYPE.MEMBER_ADDED:\r\n        actionMessage = `${byString} ${Translator.translate(\"ADDED\", this.props.lang)} ${forString}`;\r\n        break;\r\n      case CometChat.ACTION_TYPE.MEMBER_JOINED:\r\n        actionMessage = `${byString} ${Translator.translate(\"JOINED\", this.props.lang)}`;\r\n        break;\r\n      case CometChat.ACTION_TYPE.MEMBER_LEFT:\r\n        actionMessage = `${byString} ${Translator.translate(\"LEFT\", this.props.lang)}`;\r\n        break;\r\n      case CometChat.ACTION_TYPE.MEMBER_KICKED:\r\n        actionMessage = `${byString} ${Translator.translate(\"KICKED\", this.props.lang)} ${forString}`;\r\n        break;\r\n      case CometChat.ACTION_TYPE.MEMBER_BANNED:\r\n        actionMessage = `${byString} ${Translator.translate(\"BANNED\", this.props.lang)} ${forString}`;\r\n        break;\r\n      case CometChat.ACTION_TYPE.MEMBER_UNBANNED:\r\n        actionMessage = `${byString} ${Translator.translate(\"UNBANNED\", this.props.lang)} ${forString}`;\r\n        break;\r\n      case CometChat.ACTION_TYPE.MEMBER_SCOPE_CHANGED: {\r\n        const newScope = message[\"data\"][\"extras\"][\"scope\"][\"new\"];\r\n        actionMessage = `${byString} ${Translator.translate(\"MADE\", this.props.lang)} ${forString} ${Translator.translate(newScope, this.props.lang)}`;\r\n        break;\r\n      }\r\n      default:\r\n        break;\r\n    }\r\n\r\n    return actionMessage;\r\n  }\r\n\r\n  toggleTooltip = (event, flag) => {\r\n\r\n    const elem = event.target;\r\n\r\n    const scrollWidth = elem.scrollWidth;\r\n    const clientWidth = elem.clientWidth;\r\n\r\n    if (scrollWidth <= clientWidth) {\r\n      return false;\r\n    }\r\n\r\n    if (flag) {\r\n      elem.setAttribute(\"title\", elem.textContent);\r\n    } else {\r\n      elem.removeAttribute(\"title\");\r\n    }\r\n  }\r\n  \r\n  render() {\r\n\r\n    let lastMessageTimeStamp = null;\r\n    if (this.state.lastMessage) {\r\n      lastMessageTimeStamp = (\r\n        <span css={itemLastMsgTimeStyle(this.props)} className=\"item__details__timestamp\">{this.state.lastMessageTimestamp}</span>\r\n      );\r\n    }\r\n\r\n    let presence;\r\n    if (this.props.conversation.conversationType === CometChat.RECEIVER_TYPE.USER) {\r\n\r\n      const status = this.props.conversation.conversationWith.status;\r\n      presence = (\r\n        <CometChatUserPresence\r\n        widgetsettings={this.props.widgetsettings}\r\n        status={status}\r\n        borderColor={this.props.theme.borderColor.primary} />\r\n      );\r\n    }\r\n\r\n    let avatar = null;\r\n    if (this.props.conversation.conversationType === CometChat.RECEIVER_TYPE.USER) {\r\n      avatar = (<CometChatAvatar user={this.props.conversation.conversationWith}  />);\r\n    } else if (this.props.conversation.conversationType === CometChat.RECEIVER_TYPE.GROUP) {\r\n      avatar = (<CometChatAvatar group={this.props.conversation.conversationWith} />);\r\n    }\r\n\r\n    return (\r\n      <div css={listItem(this.props)} className=\"list__item\" onClick={() => this.props.handleClick(this.props.conversation, this.props.conversationKey)}>\r\n        <div css={itemThumbnailStyle()} className=\"list__item__thumbnail\">\r\n          {avatar}\r\n          {presence}\r\n        </div>\r\n        <div css={itemDetailStyle()} className=\"list__item__details\" dir={Translator.getDirection(this.props.lang)}>\r\n          <div css={itemRowStyle()} className=\"item__details_block_one\">\r\n            <div css={itemNameStyle()} className=\"item__details__name\"\r\n            onMouseEnter={event => this.toggleTooltip(event, true)}\r\n            onMouseLeave={event => this.toggleTooltip(event, false)}>{this.props.conversation.conversationWith.name}</div>\r\n            {lastMessageTimeStamp}\r\n          </div>\r\n          <div css={itemRowStyle()} className=\"item__details_block_two\">\r\n            <div css={itemLastMsgStyle(this.props)} className=\"item__details__last-message\"\r\n            onMouseEnter={event => this.toggleTooltip(event, true)}\r\n            onMouseLeave={event => this.toggleTooltip(event, false)}>{this.state.lastMessage}</div>\r\n            <CometChatBadgeCount theme={this.props.theme} count={this.props.conversation.unreadMessageCount} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatConversationListItem.defaultProps = {\r\n  lang: Translator.getDefaultLanguage(),\r\n  theme: theme,\r\n  conversation: {}\r\n};\r\n\r\nCometChatConversationListItem.propTypes = {\r\n  lang: PropTypes.string,\r\n  theme: PropTypes.object,\r\n  conversation: PropTypes.shape(CometChat.Conversation)\r\n}\r\n\r\nexport default CometChatConversationListItem;","export const userDetailStyle = (props) => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        height: \"100%\",\r\n        boxSizing: \"border-box\",\r\n        fontFamily: `${props.theme.fontFamily}`,\r\n        \"*\": {\r\n            boxSizing: \"border-box\",\r\n            fontFamily: `${props.theme.fontFamily}`,\r\n        }\r\n    }\r\n}\r\n\r\nexport const headerStyle = (props) => {\r\n\r\n    return {\r\n        padding: \"19px 16px\",\r\n        position: \"relative\",\r\n        borderBottom: `1px solid ${props.theme.borderColor.primary}`,\r\n        display: \"flex\",\r\n        justifyContent: \"flex-start\",\r\n        alignItems: \"center\",\r\n    }\r\n}\r\n\r\nexport const headerCloseStyle = (img, props) => {\r\n\r\n    const mq = [...props.theme.breakPoints];\r\n\r\n    return {\r\n        cursor: \"pointer\",\r\n        display: \"none\",\r\n        background: `url(${img}) center center no-repeat`,\r\n        width: \"24px\",\r\n        height: \"24px\",\r\n        [`@media ${mq[1]}, ${mq[2]}, ${mq[3]}, ${mq[4]}`]: {\r\n            display: \"block\"\r\n        },\r\n    }\r\n}\r\n\r\nexport const headerTitleStyle = () => {\r\n\r\n    return {\r\n        margin: \"0\",\r\n        fontWeight: \"700\",\r\n        fontSize: \"20px\"\r\n    }\r\n}\r\n\r\nexport const sectionStyle = () => {\r\n\r\n    return {\r\n        margin: \"0\",\r\n        padding: \"16px\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        justifyContent: \"space-between\",\r\n        alignItems: \"flex-start\",\r\n        height: \"calc(100% - 70px)\",\r\n        '&:not(:last-of-type)': {\r\n            marginBottom: \"16px\",\r\n        }\r\n    }\r\n}\r\n\r\nexport const privacySectionStyle = (props) => {\r\n\r\n    return {\r\n        width: \"100%\",\r\n        \"> div\": {\r\n            color: `${props.theme.color.red}`,\r\n            fontWeight: \"600\",\r\n            cursor: \"pointer\",\r\n            fontSize: \"12px\"\r\n        }\r\n    }\r\n}\r\n\r\nexport const sectionHeaderStyle = (props) => {\r\n\r\n    return {\r\n        margin: \"0\",\r\n        width: \"100%\",\r\n        fontSize: \"12px\",\r\n        fontWeight: \"500!important\",\r\n        lineHeight: \"20px\",\r\n        color: `${props.theme.color.secondary}`,\r\n        textTransform: \"uppercase\",\r\n    }\r\n}\r\n\r\nexport const sectionContentStyle = () => {\r\n\r\n    return {\r\n        width: \"100%\",\r\n        margin: \"6px 0\",\r\n    }\r\n}\r\n\r\nexport const contentItemStyle = () => {\r\n\r\n    return {\r\n        width: 100%\"\",\r\n        '&:not(:first-of-type):not(:last-of-type)': {\r\n            padding: \"6px 0\",\r\n        }\r\n    }\r\n}\r\n\r\nexport const itemLinkStyle = (deleteLink, props) => {\r\n\r\n    const deleteCss = (deleteLink) ? {\r\n        color: `${props.theme.color.red}`,\r\n    } : {};\r\n\r\n    return {\r\n        fontSize: \"15px\",\r\n        lineHeight: \"20px\",\r\n        fontWeight: \"600\",\r\n        display: \"inline-block\",\r\n        ...deleteCss\r\n    }\r\n}\r\n","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { CometChatSharedMediaView } from \"../../Shared\";\r\n\r\nimport { validateWidgetSettings } from \"../../../util/common\";\r\nimport Translator from \"../../../resources/localization/translator\";\r\n\r\nimport {\r\n    userDetailStyle,\r\n    headerStyle,\r\n    headerCloseStyle,\r\n    headerTitleStyle,\r\n    sectionStyle,\r\n    privacySectionStyle,\r\n    sectionHeaderStyle,\r\n    sectionContentStyle,\r\n    contentItemStyle,\r\n    itemLinkStyle\r\n} from \"./style\";\r\n\r\nimport navigateIcon from \"./resources/navigate.png\";\r\n\r\nclass CometChatUserDetails extends React.Component {\r\n\r\n    render () {\r\n\r\n        let blockUserText;\r\n        if(this.props.item.blockedByMe) {\r\n            blockUserText = (\r\n                <div css={itemLinkStyle(1, this.props)} className=\"item__link\" onClick={() => this.props.actionGenerated(\"unblockUser\")}>{Translator.translate(\"UNBLOCK_USER\", this.props.lang)}</div>\r\n            );\r\n        } else {\r\n            blockUserText = (\r\n                <div css={itemLinkStyle(1, this.props)} className=\"item__link\" onClick={() => this.props.actionGenerated(\"blockUser\")}>{Translator.translate(\"BLOCK_USER\", this.props.lang)}</div>\r\n            );\r\n        }\r\n\r\n        let blockUserView = (\r\n            <div css={privacySectionStyle(this.props)} className=\"section section__privacy\">\r\n                <h6 css={sectionHeaderStyle(this.props)} className=\"section__header\">{Translator.translate(\"OPTIONS\", this.props.lang)}</h6>\r\n                <div css={sectionContentStyle()} className=\"section__content\">\r\n                    <div css={contentItemStyle()} className=\"content__item\">{blockUserText}</div>\r\n                </div>\r\n            </div>\r\n        );\r\n        \r\n        let sharedmediaView = (\r\n            <CometChatSharedMediaView \r\n            theme={this.props.theme} \r\n            containerHeight=\"50px\" \r\n            item={this.props.item} \r\n            type={this.props.type} \r\n            lang={this.props.lang}\r\n            widgetsettings={this.props.widgetsettings} />\r\n        );\r\n\r\n        //if block/unblock user is disabled in chat widget\r\n        if (validateWidgetSettings(this.props.widgetsettings, \"block_user\") === false) {\r\n            blockUserView = null;\r\n        }\r\n\r\n        //if shared media is disabled in chat widget\r\n        if (validateWidgetSettings(this.props.widgetsettings, \"view_shared_media\") === false) {\r\n            sharedmediaView = null;\r\n        }\r\n\r\n        return (\r\n            <div css={userDetailStyle(this.props)} className=\"detailpane detailpane--user\">\r\n                <div css={headerStyle(this.props)} className=\"detailpane__header\">\r\n                    <div css={headerCloseStyle(navigateIcon, this.props)} className=\"header__close\" onClick={() => this.props.actionGenerated(\"closeDetailClicked\")}></div>\r\n                    <h4 css={headerTitleStyle()} className=\"header__title\">{Translator.translate(\"DETAILS\", this.props.lang)}</h4>\r\n                </div>\r\n                <div css={sectionStyle()} className=\"detailpane__section\">\r\n                    {blockUserView}\r\n                    {sharedmediaView}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatUserDetails.defaultProps = {\r\n    lang: Translator.getDefaultLanguage(),\r\n};\r\n\r\nCometChatUserDetails.propTypes = {\r\n    lang: PropTypes.string\r\n}\r\n\r\nexport default CometChatUserDetails;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAlElEQVRIS+3TQQ6AIAwEwPZl+g56kZeJB/5pmmBCjEIXIfEAV5Mdu1CmwYcH59MEqg3/s6IY40ZEi4j42gjwBCl8T8FeREIJgYA8nJkP55xOUjxmoCVcZRPQGm4CvoTDABEFy8vJLwWuCEVMgP7R7XmaJzEDrQgEPCB9F+26PK2Lmdeui1bb2LfvcEUoNIFqY8MrOgHJVToZIc83egAAAABJRU5ErkJggg==\"","import { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nexport class UserListManager {\r\n\r\n    userRequest = null;\r\n    userListenerId = \"userlist_\" + new Date().getTime();\r\n\r\n    constructor(friendsOnly, searchKey) {\r\n\r\n        if (searchKey) {\r\n            this.usersRequest = new CometChat.UsersRequestBuilder().setLimit(30).friendsOnly(friendsOnly).setSearchKeyword(searchKey).build();\r\n        } else {\r\n            this.usersRequest = new CometChat.UsersRequestBuilder().setLimit(30).friendsOnly(friendsOnly).build();\r\n        }\r\n    }\r\n\r\n    fetchNextUsers() {\r\n        return this.usersRequest.fetchNext();\r\n    }\r\n\r\n    attachListeners(callback) {\r\n        \r\n        CometChat.addUserListener(\r\n            this.userListenerId,\r\n            new CometChat.UserListener({\r\n                onUserOnline: onlineUser => {\r\n                    /* when someuser/friend comes online, user will be received here */\r\n                    callback(onlineUser);\r\n                },\r\n                onUserOffline: offlineUser => {\r\n                    /* when someuser/friend went offline, user will be received here */\r\n                    callback(offlineUser);\r\n                }\r\n            })\r\n        );\r\n    }\r\n\r\n    removeListeners() {\r\n\r\n        CometChat.removeUserListener(this.userListenerId);\r\n    }\r\n}","export const contactWrapperStyle = () => {\r\n    return {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        height: \"100%\",\r\n        boxSizing: \"border-box\",\r\n        \"*\": {\r\n            boxSizing: \"border-box\",\r\n            \"::-webkit-scrollbar\": {\r\n                width: \"8px\",\r\n                height: \"4px\",\r\n            },\r\n            \"::-webkit-scrollbar-track\": {\r\n                background: \"#ffffff00\"\r\n            },\r\n            \"::-webkit-scrollbar-thumb\": {\r\n                background: \"#ccc\",\r\n                \"&:hover\": {\r\n                    background: \"#aaa\"\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const contactHeaderStyle = (theme) => {\r\n\r\n    return {\r\n        padding: \"16px\",\r\n        position: \"relative\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        borderBottom: `1px solid ${theme.borderColor.primary}`,\r\n        height: \"70px\",\r\n    }\r\n}\r\n\r\nexport const contactHeaderCloseStyle = (img, props) => {\r\n\r\n    const mq = [...props.theme.breakPoints];\r\n\r\n    return {\r\n        cursor: \"pointer\",\r\n        display: \"none\",\r\n        background: `url(${img}) left center no-repeat`,\r\n        height: \"24px\",\r\n        width: \"33%\",\r\n        [`@media ${mq[0]}`]: {\r\n            display: \"block!important\"\r\n        }\r\n    }\r\n}\r\n\r\nexport const contactHeaderTitleStyle = (props) => {\r\n\r\n    const alignment = (props.hasOwnProperty(\"enableCloseMenu\") && props.enableCloseMenu.length > 0) ? {\r\n        width: \"33%\",\r\n        textAlign: \"center\"\r\n    } : {};\r\n\r\n    return {\r\n        margin: \"0\",\r\n        fontWeight: \"700\",\r\n        display: \"inline-block\",\r\n        width: \"100%\",\r\n        textAlign: \"left\",\r\n        fontSize: \"20px\",\r\n        ...alignment,\r\n        \"&[dir=rtl]\": {\r\n            textAlign: \"right\",\r\n        }\r\n    }\r\n}\r\n\r\nexport const contactSearchStyle = () => {\r\n    \r\n    return {\r\n        padding: \"16px\",\r\n        position: \"relative\"\r\n    }\r\n}\r\n\r\nexport const contactSearchInputStyle = (props, img) => {\r\n\r\n    return {\r\n        display: \"block\",\r\n        width: \"100%\",\r\n        border: \"0\",\r\n        boxShadow: \"rgba(20, 20, 20, 0.04) 0 0 0 1px inset\",\r\n        borderRadius: \"8px\",\r\n        padding: \"8px 8px 8px 40px\",\r\n        fontSize: \"15px\",\r\n        outline: \"none\",\r\n        color: `${props.theme.color.primary}`,\r\n        background: `url(${img}) 10px center no-repeat ${props.theme.backgroundColor.grey}`,\r\n    }\r\n}\r\n\r\nexport const contactMsgStyle = () => {\r\n\r\n    return {\r\n        overflow: \"hidden\",\r\n        width: \"100%\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        position: \"absolute\",\r\n        top: \"50%\",\r\n    }\r\n}\r\n\r\nexport const contactMsgTxtStyle = (props) => {\r\n\r\n    return {\r\n        margin: \"0\",\r\n        height: \"36px\",\r\n        color: `${props.theme.color.secondary}`,\r\n        fontSize: \"24px!important\",\r\n        fontWeight: \"600\",\r\n        lineHeight: \"30px\",\r\n    }\r\n}\r\n\r\nexport const contactListStyle = () => {\r\n    \r\n    return {\r\n        height: \"calc(100% - 125px)\",\r\n        overflowY: \"auto\",\r\n        margin: \"0\",\r\n        padding: \"0\"\r\n    }\r\n}\r\n\r\nexport const contactAlphabetStyle = () => {\r\n    \r\n    return {\r\n        padding: \"0 16px\",\r\n        margin: \"5px 0\",\r\n        width: \"100%\",\r\n        fontSize: \"14px\"\r\n    }\r\n}","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\nimport { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport { UserListManager } from \"./controller\";\r\n\r\nimport { CometChatUserListItem } from \"../../Users\";\r\n\r\nimport { theme } from \"../../../resources/theme\";\r\nimport Translator from \"../../../resources/localization/translator\";\r\n\r\nimport { \r\n  contactWrapperStyle, \r\n  contactHeaderStyle, \r\n  contactHeaderCloseStyle, \r\n  contactHeaderTitleStyle,\r\n  contactSearchStyle,\r\n  contactSearchInputStyle,\r\n  contactMsgStyle,\r\n  contactMsgTxtStyle,\r\n  contactListStyle,\r\n  contactAlphabetStyle\r\n} from \"./style\";\r\n\r\nimport searchIcon from \"./resources/search-grey-icon.png\";\r\nimport navigateIcon from \"./resources/navigate.png\";\r\n\r\nclass CometChatUserList extends React.PureComponent {\r\n  timeout;\r\n  friendsOnly = false;\r\n\r\n  constructor(props) {\r\n\r\n    super(props);\r\n\r\n    this.state = {\r\n      userlist: props.userlist,\r\n      selectedUser: null,\r\n      lang: props.lang\r\n    }\r\n    \r\n    this.decoratorMessage = Translator.translate(\"LOADING\", props.lang);\r\n    this.userListRef = React.createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n    if(this.props.hasOwnProperty(\"friendsOnly\")) {\r\n      this.friendsOnly = this.props.friendsOnly;\r\n    }\r\n\r\n    if(this.props.hasOwnProperty(\"widgetsettings\") \r\n    && this.props.widgetsettings\r\n    && this.props.widgetsettings.hasOwnProperty(\"sidebar\") \r\n    && this.props.widgetsettings.sidebar.hasOwnProperty(\"user_listing\")) {\r\n\r\n      switch(this.props.widgetsettings.sidebar[\"user_listing\"]) {\r\n        case \"friends\":\r\n          this.friendsOnly = true;\r\n        break;\r\n        default:\r\n        break;\r\n      }\r\n    }\r\n\r\n    this.UserListManager = new UserListManager(this.friendsOnly);\r\n    this.getUsers();\r\n    this.UserListManager.attachListeners(this.userUpdated);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n\r\n    const previousItem = JSON.stringify(prevProps.item);\r\n    const currentItem = JSON.stringify(this.props.item);\r\n\r\n    if (previousItem !== currentItem) {\r\n\r\n      if (Object.keys(this.props.item).length === 0) {\r\n\r\n        this.userListRef.scrollTop = 0;\r\n        this.setState({ selectedUser: {} });\r\n\r\n      } else {\r\n\r\n        let userlist = [...this.state.userlist];\r\n\r\n        //search for user\r\n        let userKey = userlist.findIndex(u => u.uid === this.props.item.uid);\r\n        if (userKey > -1) {\r\n\r\n          let userObj = { ...userlist[userKey] };\r\n          this.setState({ selectedUser: userObj });\r\n        }\r\n      }\r\n    }\r\n\r\n    //if user is blocked/unblocked, update userlist in state\r\n    if(prevProps.item \r\n    && Object.keys(prevProps.item).length \r\n    && prevProps.item.uid === this.props.item.uid \r\n    && prevProps.item.blockedByMe !== this.props.item.blockedByMe) {\r\n\r\n      let userlist = [...this.state.userlist];\r\n\r\n      //search for user\r\n      let userKey = userlist.findIndex((u, k) => u.uid === this.props.item.uid);\r\n      if(userKey > -1) {\r\n\r\n        let userObj = {...userlist[userKey]};\r\n        let newUserObj = Object.assign({}, userObj, {blockedByMe: this.props.item.blockedByMe});\r\n        userlist.splice(userKey, 1, newUserObj);\r\n\r\n        this.setState({ userlist: userlist });\r\n      }\r\n    }\r\n\r\n    if (prevProps.lang !== this.props.lang) {\r\n      this.setState({ lang: this.props.lang });\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n\r\n    this.UserListManager.removeListeners();\r\n    this.UserListManager = null;\r\n  }\r\n\r\n  userUpdated = (user) => {\r\n    \r\n    let userlist = [...this.state.userlist];\r\n\r\n    //search for user\r\n    let userKey = userlist.findIndex(u => u.uid === user.uid);\r\n    \r\n    //if found in the list, update user object\r\n    if(userKey > -1) {\r\n\r\n      let userObj = {...userlist[userKey]};\r\n      let newUserObj = {...userObj, ...user};\r\n      userlist.splice(userKey, 1, newUserObj);\r\n\r\n      this.setState({ userlist: userlist });\r\n\r\n    }\r\n  }\r\n\r\n  handleScroll = (e) => {\r\n\r\n    const bottom =\r\n      Math.round(e.currentTarget.scrollHeight - e.currentTarget.scrollTop) === Math.round(e.currentTarget.clientHeight);\r\n    if (bottom) this.getUsers();\r\n  }\r\n\r\n  handleClick = (user) => {\r\n\r\n    if(!this.props.onItemClick)\r\n      return;\r\n\r\n    //this.setState({selectedUser: {...user}});\r\n    this.props.onItemClick(user, \"user\");\r\n  }\r\n\r\n  handleMenuClose = () => {\r\n\r\n    if(!this.props.actionGenerated) {\r\n      return false;\r\n    }\r\n\r\n    this.props.actionGenerated(\"closeMenuClicked\")\r\n  }\r\n  \r\n  searchUsers = (e) => {\r\n\r\n    if (this.timeout) {\r\n      clearTimeout(this.timeout);\r\n    }\r\n\r\n    let val = e.target.value;\r\n    this.timeout = setTimeout(() => {\r\n\r\n      this.UserListManager = new UserListManager(this.friendsOnly, val);\r\n      this.setState({ userlist: [] }, () => this.getUsers())\r\n    }, 500)\r\n\r\n  }\r\n\r\n  getUsers = () => {\r\n\r\n    CometChat.getLoggedinUser().then((user) => {\r\n\r\n      this.UserListManager.fetchNextUsers().then((userList) => {\r\n\r\n        if(userList.length === 0) {\r\n          this.decoratorMessage = Translator.translate(\"NO_USERS_FOUND\", this.state.lang);\r\n        }\r\n        \r\n        this.setState({ userlist: [...this.state.userlist, ...userList] });\r\n          \r\n      }).catch((error) => {\r\n\r\n        this.decoratorMessage = Translator.translate(\"ERROR\", this.state.lang);\r\n        console.error(\"[CometChatUserList] getUsers fetchNext error\", error);\r\n      });\r\n\r\n    }).catch((error) => {\r\n\r\n      this.decoratorMessage = Translator.translate(\"ERROR\", this.state.lang);\r\n      console.log(\"[CometChatUserList] getUsers getLoggedinUser error\", error);\r\n    });\r\n  }\r\n\r\n  render() {\r\n\r\n    let messageContainer = null;\r\n    if(this.state.userlist.length === 0) {\r\n      messageContainer = (\r\n        <div css={contactMsgStyle()} className=\"contacts__decorator-message\">\r\n          <p css={contactMsgTxtStyle(this.props)} className=\"decorator-message\">{this.decoratorMessage}</p>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    const userList = [...this.state.userlist];\r\n    let currentLetter = \"\";\r\n    const users = userList.map((user, key) => {\r\n      \r\n      const chr = user.name[0].toUpperCase();\r\n      let firstChar = null;\r\n      if (chr !== currentLetter) {\r\n        currentLetter = chr;\r\n        firstChar = (<div css={contactAlphabetStyle()} className=\"contacts__list__alphabet-filter\">{currentLetter}</div>);\r\n      } else {\r\n        firstChar = null;\r\n      }\r\n\r\n      return (\r\n        <React.Fragment key={key}>\r\n          {firstChar}\r\n          <CometChatUserListItem \r\n          theme={this.props.theme}\r\n          user={user} \r\n          selectedUser={this.state.selectedUser}\r\n          lang={this.state.lang}\r\n          widgetsettings={this.props.widgetsettings} \r\n          clickHandler={this.handleClick}  />\r\n        </React.Fragment>\r\n      );\r\n\r\n    });\r\n\r\n    let closeBtn = (<div css={contactHeaderCloseStyle(navigateIcon, this.props)} className=\"header__close\" onClick={this.handleMenuClose}></div>);\r\n    if (!this.props.hasOwnProperty(\"enableCloseMenu\") || (this.props.hasOwnProperty(\"enableCloseMenu\") && this.props.enableCloseMenu === 0)) {\r\n      closeBtn = null;\r\n    }\r\n\r\n    return (\r\n      <div css={contactWrapperStyle()} className=\"contacts\">\r\n        <div css={contactHeaderStyle(this.props.theme)} className=\"contacts__header\">\r\n          {closeBtn}\r\n          <h4 css={contactHeaderTitleStyle(this.props)} className=\"header__title\" dir={Translator.getDirection(this.state.lang)}>{Translator.translate(\"USERS\", this.state.lang)}</h4>\r\n          <div></div>\r\n        </div>\r\n        <div css={contactSearchStyle()} className=\"contacts__search\">\r\n          <input\r\n          type=\"text\" \r\n          autoComplete=\"off\" \r\n          css={contactSearchInputStyle(this.props, searchIcon)}\r\n          className=\"search__input\" \r\n          placeholder={Translator.translate(\"SEARCH\", this.state.lang)}\r\n          onChange={this.searchUsers} />\r\n        </div>\r\n        {messageContainer}\r\n        <div css={contactListStyle()} className=\"contacts__list\" onScroll={this.handleScroll} ref={el => this.userListRef = el}>{users}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatUserList.defaultProps = {\r\n  lang: Translator.getDefaultLanguage(),\r\n  theme: theme,\r\n  userlist: [],\r\n  onItemClick: () => {}\r\n};\r\n\r\nCometChatUserList.propTypes = {\r\n  lang: PropTypes.string,\r\n  theme: PropTypes.object,\r\n  userlist: PropTypes.arrayOf(PropTypes.shape(CometChat.User)),\r\n  onItemClick: PropTypes.func\r\n}\r\n\r\nexport default CometChatUserList;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAlElEQVRIS+3TQQ6AIAwEwPZl+g56kZeJB/5pmmBCjEIXIfEAV5Mdu1CmwYcH59MEqg3/s6IY40ZEi4j42gjwBCl8T8FeREIJgYA8nJkP55xOUjxmoCVcZRPQGm4CvoTDABEFy8vJLwWuCEVMgP7R7XmaJzEDrQgEPCB9F+26PK2Lmdeui1bb2LfvcEUoNIFqY8MrOgHJVToZIc83egAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFaADAAQAAAABAAAAFQAAAAAIGxIOAAACeklEQVQ4EaWUz2sTURDH3U3SNAoqJWIRPVQwURAv5uChl0DxUA8RwZANSPHir4Mg8eJ/UPxBD2L0aiXZkFM1EgkeQhEVJQj+OJlbFXPzEg+FJLt+Zrtbdp/5gfTB5M3Md+Y78+a9jbZryCqXywdxLyELyBHbti1N0zbQG+FweDWbzf5GH7k0FSmVSjkIHkE0w/4DvI3oyHF8s+ydUCh0JZfLvUQfurZJq9VqqN/vPyPRgOwbctUwjHdeFn7NNM0F9if4juq6/hj8hof7d+nAWRDedQmLHPG0n1ACKGLn8/nX8Xj8FLppWdZ1xnRnKzv463RaqVRODgaDz0AfI5HIPDMbBMOCVrPZnO50Op9oYo6OEzQgY9peTqdUvUl1i1ktTSKUzHQ6vUn8ZdRp5Jr4/Ms7/iJV3zD8735wnE53H8C/0tCiGqdzQVM4D1H5iwpOsiUHmVPjpNMputSQTRWcZLs5MoLA0pnhH6qJ/FMxEDnEkByIf6mQN9N1wLO1Wm23GjDK5jnFweaRdTXGIYXwKcD+bre7rAaMsR+SJ/dRUmM0cQDK1/IW9Qzv7hyv4JUa6LeJvcStr3L8F3wQGT8mutMpoB2NRrPYHYJrfP/L7qsIxDcajT0QFoXQBbRWqxUJBGE4nXpOiA70ej35ti8gG8ga0qZ7HaITFD/PqWbZ2+zHwGQ9TyaTF1OpVG/LVEg9J5dgkHSL5JSMxvVb7O/hLzIek0+7QKF7LhYg9hI8vsBO5/v4ozksjcZisZ+ZTKbrD2AUt4cRjyX1E4zSOVWB09wXnJOtJRKJ7I5JhcxPjLni3L4AO1k8qwd0WUBseMb+bf53nXq9vleS/gKeNA5lPSUj0AAAAABJRU5ErkJggg==\"","export const listItem = (props) => {\r\n\r\n    const selectedState = (props.selectedUser && props.selectedUser.uid === props.user.uid) ? {\r\n        backgroundColor: `${props.theme.backgroundColor.primary}`\r\n    } : {};\r\n\r\n    return {\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        justifyContent: \"left\",\r\n        alignItems: \"center\",\r\n        cursor: \"pointer\",\r\n        width: \"100%\",\r\n        padding: \"8px 16px\",\r\n        ...selectedState,\r\n        '&:hover': {\r\n            backgroundColor: `${props.theme.backgroundColor.primary}`\r\n        }\r\n    }\r\n}\r\n\r\nexport const itemThumbnailStyle = () => {\r\n    \r\n    return {\r\n        display: \"inline-block\",\r\n        width: \"36px\",\r\n        height: \"36px\",\r\n        flexShrink: \"0\"\r\n    }\r\n}\r\n\r\nexport const itemDetailStyle = () => {\r\n    \r\n    return {\r\n        width: \"calc(100% - 45px)\",\r\n        flexGrow: 1,\r\n        paddingLeft: \"16px\",\r\n        \"&[dir=rtl]\": {\r\n            paddingRight: \"16px\",\r\n            paddingLeft: \"0\",\r\n        }\r\n    }\r\n}\r\n\r\nexport const itemNameStyle = () => { \r\n    \r\n    return {\r\n        fontSize: \"15px\",\r\n        fontWeight: \"600\",\r\n        overflow: \"hidden\",\r\n        textOverflow: \"ellipsis\",\r\n        whiteSpace: \"nowrap\",\r\n        width: \"100%\",\r\n        margin: \"5px 0 0 0\" \r\n    }\r\n};\r\n\r\nexport const itemDescStyle = (theme) => { \r\n    return {\r\n        marginTop: \"10px\",\r\n        borderBottom: `1px solid ${theme.borderColor.primary}` \r\n    }\r\n};\r\n\r\n","/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\nimport { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport { CometChatAvatar, CometChatUserPresence } from \"../../Shared\";\r\n\r\nimport { theme } from \"../../../resources/theme\";\r\nimport Translator from \"../../../resources/localization/translator\";\r\n\r\nimport { listItem, itemThumbnailStyle, itemDetailStyle, itemNameStyle, itemDescStyle } from \"./style\";\r\n\r\nconst CometChatUserListItem = (props) => {\r\n\r\n  let userPresence = (\r\n    <CometChatUserPresence\r\n    widgetsettings={props.widgetsettings}\r\n    status={props.user.status}\r\n    borderColor={props.theme.borderColor.primary} />\r\n  );\r\n\r\n  const toggleTooltip = (event, flag) => {\r\n\r\n    const elem = event.target;\r\n\r\n    const scrollWidth = elem.scrollWidth;\r\n    const clientWidth = elem.clientWidth;\r\n\r\n    if(scrollWidth <= clientWidth) {\r\n      return false;\r\n    }\r\n\r\n    if(flag) {\r\n      elem.setAttribute(\"title\", elem.textContent);\r\n    } else {\r\n      elem.removeAttribute(\"title\");\r\n    }\r\n  } \r\n  \r\n  return (\r\n    <div css={listItem(props)} onClick={() => props.clickHandler(props.user)} className=\"list__item\">\r\n      <div css={itemThumbnailStyle()} className=\"list__item__thumbnail\">\r\n        <CometChatAvatar user={props.user} />\r\n        {userPresence}\r\n      </div>\r\n      <div css={itemDetailStyle()} className=\"list__item__details\" dir={Translator.getDirection(props.lang)}>\r\n        <div css={itemNameStyle()} className=\"item__details__name\"  \r\n        onMouseEnter={event => toggleTooltip(event, true)} \r\n        onMouseLeave={event => toggleTooltip(event, false)}>{props.user.name}</div>\r\n        <div css={itemDescStyle(props.theme)} className=\"item__details__desc\"></div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatUserListItem.defaultProps = {\r\n  theme: theme,\r\n  user: {}\r\n};\r\n\r\nCometChatUserListItem.propTypes = {\r\n  theme: PropTypes.object,\r\n  user: PropTypes.shape(CometChat.User)\r\n}\r\n\r\nexport default CometChatUserListItem;\r\n","export const userScreenStyle = (theme) => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        height: \"100%\",\r\n        width: \"100%\",\r\n        boxSizing: \"border-box\",\r\n        fontFamily: `${theme.fontFamily}`,\r\n        \"*\": {\r\n            boxSizing: \"border-box\",\r\n            fontFamily: `${theme.fontFamily}`,\r\n            \"::-webkit-scrollbar\": {\r\n                width: \"8px\",\r\n                height: \"4px\",\r\n            },\r\n            \"::-webkit-scrollbar-track\": {\r\n                background: \"#ffffff00\"\r\n            },\r\n            \"::-webkit-scrollbar-thumb\": {\r\n                background: \"#ccc\",\r\n                \"&:hover\": {\r\n                    background: \"#aaa\"\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const userScreenSidebarStyle = (state, props) => {\r\n\r\n    const sidebarView = (state.sidebarview) ? {\r\n        left: \"0\",\r\n        boxShadow: \"rgba(0, 0, 0, .4) -30px 0 30px 30px\"\r\n    } : {};\r\n\r\n    const mq = [...props.theme.breakPoints];\r\n\r\n    return {\r\n\r\n        width: \"280px\",\r\n        borderRight: `1px solid ${props.theme.borderColor.primary}`,\r\n        height: \"100%\",\r\n        position: \"relative\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        \"> .contacts\": {\r\n            height: \"calc(100% - 5px)\",\r\n        },\r\n        [`@media ${mq[0]}`]: {\r\n            position: \"absolute!important\",\r\n            left: \"-100%\",\r\n            top: \"0\",\r\n            bottom: \"0\",\r\n            width: \"100%!important\",\r\n            zIndex: \"2\",\r\n            backgroundColor: `${props.theme.backgroundColor.white}`,\r\n            transition: \"all .3s ease-out\",\r\n            ...sidebarView\r\n        }\r\n    }\r\n}\r\n\r\nexport const userScreenMainStyle = (state, props) => {\r\n\r\n    const secondaryView = (state.threadmessageview || state.detailview) ? {\r\n        width: \"calc(100% - 680px)\"\r\n    } : {};\r\n\r\n    const mq = [...props.theme.breakPoints];\r\n\r\n    return {\r\n        width: \"calc(100% - 280px)\",\r\n        height: \"100%\",\r\n        order: \"2\",\r\n        ...secondaryView,\r\n        [`@media ${mq[0]}`]: {\r\n            width: \"100%!important\",\r\n        }\r\n    }\r\n}\r\n\r\nexport const userScreenSecondaryStyle = (props) => {\r\n\r\n    const mq = [...props.theme.breakPoints];\r\n\r\n    return {\r\n        float: \"right\",\r\n        borderLeft: `1px solid ${props.theme.borderColor.primary}`,\r\n        height: \"100%\",\r\n        width: \"400px\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        order: \"3\",\r\n        [`@media ${mq[0]}`]: {\r\n            position: \"absolute!important\",\r\n            right: \"0!important\",\r\n            top: \"0\",\r\n            bottom: \"0\",\r\n            width: \"100%!important\",\r\n            zIndex: \"2\",\r\n            backgroundColor: `${props.theme.backgroundColor.white}`,\r\n        }\r\n    }\r\n}","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\nimport { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport { CometChatUserList, CometChatUserDetails } from \"../\";\r\nimport { CometChatMessages, CometChatImageViewer, CometChatMessageThread } from \"../../Messages\";\r\nimport { CometChatIncomingCall } from \"../../Calls\";\r\n\r\nimport { theme } from \"../../../resources/theme\";\r\nimport Translator from \"../../../resources/localization/translator\";\r\n\r\nimport {\r\n  userScreenStyle,\r\n  userScreenSidebarStyle,\r\n  userScreenMainStyle,\r\n  userScreenSecondaryStyle\r\n} from \"./style\"\r\n\r\nclass CometChatUserListWithMessages extends React.Component {\r\n\r\n  loggedInUser = null;\r\n\r\n  constructor(props) {\r\n\r\n\t\tsuper(props);\r\n\r\n    this.state = {\r\n      darktheme: false,\r\n      viewdetailscreen: false,\r\n      item: {},\r\n      type: \"user\",\r\n      tab: \"contacts\",\r\n      threadmessageview: false,\r\n      threadmessagetype: null,\r\n      threadmessageitem: {},\r\n      threadmessageparent: {},\r\n      composedthreadmessage: {},\r\n      incomingCall: null,\r\n      sidebarview: false,\r\n      imageView: null,\r\n      lang: props.lang\r\n    }\r\n\r\n    this.messageScreenRef = React.createRef();\r\n\r\n    CometChat.getLoggedinUser().then((user) => {\r\n      this.loggedInUser = user;\r\n    }).catch((error) => {\r\n      console.log(\"[CometChatUnified] getLoggedinUser error\", error);\r\n    });\r\n  }\r\n  \r\n  componentDidMount() {\r\n\r\n    if(!Object.keys(this.state.item).length) {\r\n      this.toggleSideBar();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n\r\n    if (prevProps.lang !== this.props.lang) {\r\n      this.setState({ lang: this.props.lang });\r\n    }\r\n  }\r\n\r\n  changeTheme = (e) => {\r\n\r\n    const theme = this.state.darktheme;\r\n    this.setState({darktheme: !theme});\r\n  }\r\n\r\n  itemClicked = (item, type) => {\r\n\r\n    this.toggleSideBar();\r\n    this.setState({ item: {...item}, type, viewdetailscreen: false });\r\n  }\r\n\r\n  actionHandler = (action, item, count) => {\r\n    \r\n    switch(action) {\r\n      case \"blockUser\":\r\n        this.blockUser();\r\n      break;\r\n      case \"unblockUser\":\r\n        this.unblockUser();\r\n      break;\r\n      case \"viewDetail\":\r\n      case \"closeDetailClicked\":\r\n        this.toggleDetailView();\r\n      break;\r\n      // eslint-disable-next-line no-lone-blocks\r\n      case \"menuClicked\": {\r\n        this.toggleSideBar();\r\n        this.setState({ item: {} });\r\n      }\r\n      break;\r\n      case \"closeMenuClicked\":\r\n        this.toggleSideBar();\r\n      break;\r\n      case \"viewMessageThread\":\r\n        this.viewMessageThread(item);\r\n      break;\r\n      case \"closeThreadClicked\":\r\n        this.closeThreadMessages();\r\n      break;\r\n      case \"threadMessageComposed\":\r\n        this.onThreadMessageComposed(item);\r\n      break;\r\n      case \"acceptedIncomingCall\":\r\n        this.acceptedIncomingCall(item);\r\n        break;\r\n      case \"rejectedIncomingCall\":\r\n        this.rejectedIncomingCall(item, count);\r\n        break;\r\n      case \"viewActualImage\":\r\n        this.toggleImageView(item);\r\n        break;\r\n      case \"updateThreadMessage\":\r\n        this.updateThreadMessage(item[0], count);\r\n        break;\r\n      default:\r\n      break;\r\n    }\r\n  }\r\n\r\n  updateThreadMessage = (message, action) => {\r\n\r\n    if (this.state.threadmessageview === false || message.id !== this.state.threadmessageparent.id) {\r\n      return false;\r\n    }\r\n\r\n    if (action === \"delete\") {\r\n      this.setState({ threadmessageparent: { ...message }, threadmessageview: false });\r\n    } else {\r\n      this.setState({ threadmessageparent: { ...message } });\r\n    }\r\n\r\n  }\r\n\r\n  blockUser = () => {\r\n\r\n    let usersList = [this.state.item.uid];\r\n    CometChat.blockUsers(usersList).then(list => {\r\n\r\n        this.setState({item: {...this.state.item, blockedByMe: true}});\r\n\r\n    }).catch(error => {\r\n      console.log(\"Blocking user fails with error\", error);\r\n    });\r\n\r\n  }\r\n\r\n  unblockUser = () => {\r\n    \r\n    let usersList = [this.state.item.uid];\r\n    CometChat.unblockUsers(usersList).then(list => {\r\n\r\n        this.setState({item: {...this.state.item, blockedByMe: false}});\r\n\r\n      }).catch(error => {\r\n      console.log(\"unblocking user fails with error\", error);\r\n    });\r\n\r\n  }\r\n\r\n  toggleSideBar = () => {\r\n\r\n    const sidebarview = this.state.sidebarview;\r\n    this.setState({ sidebarview: !sidebarview });\r\n  }\r\n\r\n  toggleDetailView = () => {\r\n\r\n    let viewdetail = !this.state.viewdetailscreen;\r\n    this.setState({viewdetailscreen: viewdetail,  threadmessageview: false});\r\n  }\r\n\r\n  closeThreadMessages = () => {\r\n    this.setState({viewdetailscreen: false, threadmessageview: false});\r\n  }\r\n\r\n  viewMessageThread = (parentMessage) => {\r\n\r\n    const message = {...parentMessage};\r\n    const threaditem = {...this.state.item};\r\n    this.setState({\r\n      threadmessageview: true, \r\n      threadmessageparent: message, \r\n      threadmessageitem: threaditem,\r\n      threadmessagetype: this.state.type, \r\n      viewdetailscreen: false\r\n    });\r\n  }\r\n\r\n  onThreadMessageComposed = (composedMessage) => {\r\n\r\n    if(this.state.type !== this.state.threadmessagetype) {\r\n      return false;\r\n    }\r\n\r\n    if((this.state.threadmessagetype === \"group\" && this.state.item.guid !== this.state.threadmessageitem.guid)\r\n    || (this.state.threadmessagetype === \"user\" && this.state.item.uid !== this.state.threadmessageitem.uid)) {\r\n      return false;\r\n    }\r\n\r\n    const message = {...composedMessage};\r\n    this.setState({composedthreadmessage: message});\r\n  }\r\n\r\n  acceptedIncomingCall = (call) => {\r\n\r\n    const type = call.receiverType;\r\n    const id = call.receiverId;\r\n\r\n    CometChat.getConversation(id, type).then(conversation => {\r\n\r\n      this.itemClicked(conversation.conversationWith, type);\r\n      this.setState({ incomingCall: call });\r\n\r\n    }).catch(error => {\r\n\r\n      console.log('error while fetching a conversation', error);\r\n    });\r\n\r\n  }\r\n\r\n  rejectedIncomingCall = (incomingCallMessage, rejectedCallMessage) => {\r\n\r\n    if (this.messageScreenRef) {\r\n      this.messageScreenRef.rejectedIncomingCall(incomingCallMessage, rejectedCallMessage);\r\n    }\r\n  }\r\n\r\n  toggleImageView = (message) => {\r\n    this.setState({ imageView: message });\r\n  }\r\n\r\n  render() {\r\n\r\n    let threadMessageView = null;\r\n    if(this.state.threadmessageview) {\r\n      threadMessageView = (\r\n        <div css={userScreenSecondaryStyle(this.props)} className=\"contacts__secondary-view\">\r\n          <CometChatMessageThread\r\n          theme={this.props.theme}\r\n          tab={this.state.tab}\r\n          item={this.state.threadmessageitem}\r\n          type={this.state.threadmessagetype}\r\n          parentMessage={this.state.threadmessageparent}\r\n          loggedInUser={this.loggedInUser}\r\n          lang={this.state.lang}\r\n          actionGenerated={this.actionHandler} />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    let detailScreen;\r\n    if(this.state.viewdetailscreen) {\r\n      detailScreen = (\r\n        <div css={userScreenSecondaryStyle(this.props)} className=\"contacts__secondary-view\">\r\n          <CometChatUserDetails\r\n            theme={this.props.theme}\r\n            item={this.state.item} \r\n            type={this.state.type}\r\n            lang={this.state.lang}\r\n            actionGenerated={this.actionHandler} />\r\n        </div>);\r\n    }\r\n    \r\n    let messageScreen = null;\r\n    if(Object.keys(this.state.item).length) {\r\n      messageScreen = (\r\n      <CometChatMessages\r\n      ref={(el) => { this.messageScreenRef = el; }}\r\n      theme={this.props.theme}\r\n      item={this.state.item} \r\n      tab={this.state.tab}\r\n      type={this.state.type}\r\n      composedthreadmessage={this.state.composedthreadmessage}\r\n      loggedInUser={this.loggedInUser}\r\n      lang={this.state.lang}\r\n      parentComponent=\"users\"\r\n      incomingCall={this.state.incomingCall}\r\n      actionGenerated={this.actionHandler} />);\r\n    }\r\n\r\n    let imageView = null;\r\n    if (this.state.imageView) {\r\n      imageView = (<CometChatImageViewer open={true} close={() => this.toggleImageView(null)} message={this.state.imageView} lang={this.state.lang} />);\r\n    }\r\n\r\n    return (\r\n      <div css={userScreenStyle(this.props.theme)} className=\"cometchat cometchat--contacts\" dir={Translator.getDirection(this.state.lang)}>\r\n        <div css={userScreenSidebarStyle(this.state, this.props)} className=\"contacts__sidebar\">\r\n          <CometChatUserList\r\n          theme={this.props.theme}\r\n          item={this.state.item}\r\n          type={this.state.type}\r\n          lang={this.state.lang}\r\n          onItemClick={this.itemClicked}\r\n          actionGenerated={this.actionHandler}\r\n          enableCloseMenu={Object.keys(this.state.item).length} />\r\n        </div>\r\n        <div css={userScreenMainStyle(this.state, this.props)} className=\"contacts__main\">{messageScreen}</div>\r\n        {detailScreen}\r\n        {threadMessageView}\r\n        {imageView}\r\n        <CometChatIncomingCall\r\n        theme={this.props.theme}\r\n        lang={this.state.lang}\r\n        actionGenerated={this.actionHandler} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatUserListWithMessages.defaultProps = {\r\n  lang: Translator.getDefaultLanguage(),\r\n  theme: theme\r\n};\r\n\r\nCometChatUserListWithMessages.propTypes = {\r\n  lang: PropTypes.string,\r\n  theme: PropTypes.object\r\n}\r\n\r\nexport default CometChatUserListWithMessages;\r\n","export const modalWrapperStyle = (props) => {\r\n\r\n    const show = (props.open) ? {\r\n        display: \"block\",\r\n    } : {};\r\n\r\n    const mq = [`@media (min-width : 320px) and (max-width: 767px)`];\r\n\r\n    return {\r\n        minWidth: \"350px\",\r\n        minHeight: \"350px\",\r\n        width: \"40%\",\r\n        height: \"40%\",\r\n        overflow: \"hidden\",\r\n        backgroundColor: `${props.theme.backgroundColor.white}`,\r\n        position: \"fixed\",\r\n        left: \"50%\",\r\n        top: \"50%\",\r\n        transform: \"translate(-50%, -50%)\",\r\n        zIndex: \"1002\",\r\n        margin: \"0 auto\",\r\n        boxShadow: \"rgba(20, 20, 20, 0.2) 0 16px 32px, rgba(20, 20, 20, 0.04) 0 0 0 1px\",\r\n        borderRadius: \"12px\",\r\n        display: \"none\",\r\n        ...show,\r\n        [mq[0]]: {\r\n            width: \"100%\",\r\n            height: \"100%\",\r\n        }\r\n    }\r\n}\r\n\r\nexport const modalCloseStyle = (img) => {\r\n\r\n    return {\r\n        position: \"absolute\",\r\n        width: \"32px\",\r\n        height: \"32px\",\r\n        borderRadius: \"50%\",\r\n        top: \"16px\",\r\n        right: \"16px\",\r\n        background: `url(${img}) center center no-repeat`,\r\n        cursor: \"pointer\",\r\n    }\r\n}\r\n\r\nexport const modalBodyStyle = () => {\r\n\r\n    return {\r\n        padding: \"24px\",\r\n        height: \"100%\",\r\n        width: \"100%\"\r\n    }\r\n}\r\n\r\nexport const modalTableStyle = (props) => {\r\n\r\n    return {\r\n        borderCollapse: \"collapse\",\r\n        margin: \"0\",\r\n        padding: \"0\",\r\n        width: \"100%\",\r\n        height: \"90%\",\r\n        \"tr\": {\r\n            display: \"table\",\r\n            width: \"100%\",\r\n            tableLayout: \"fixed\",\r\n        }\r\n    }\r\n}\r\n\r\nexport const tableCaptionStyle = () => {\r\n\r\n    return {\r\n        fontSize: \"20px\",\r\n        marginBottom: \"15px\",\r\n        fontWeight: \"bold\",\r\n        textAlign: \"left\",\r\n    }\r\n}\r\n\r\nexport const tableBodyStyle = () => {\r\n\r\n    return {\r\n        height: \"calc(100% - 40px)\",\r\n        overflowY: \"auto\",\r\n        display: \"block\",\r\n        \"tr\": {\r\n            \"td\": {\r\n                padding: \"8px 0\",\r\n                fontSize: \"14px\",\r\n                \"input\": {\r\n                    width: \"100%\",\r\n                    border: \"none\",\r\n                    padding: \"8px 16px\",\r\n                    fontSize: \"14px\",\r\n                    outline: \"none\",\r\n                },\r\n                \"select\": {\r\n                    outline: \"none\",\r\n                    padding: \"8px 16px\",\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const tableErrorStyle = () => {\r\n\r\n    return {\r\n        fontSize: \"12px\",\r\n        color: \"red\",\r\n        textAlign: \"center\",\r\n        display: \"block\",\r\n    }\r\n}\r\n\r\nexport const tableFootStyle = (props) => {\r\n\r\n    return {\r\n        display: \"inline-block\",\r\n        \"button\": {\r\n            cursor: \"pointer\",\r\n            padding: \"8px 16px\",\r\n            backgroundColor: `${props.theme.backgroundColor.blue}`,\r\n            borderRadius: \"5px\",\r\n            color: `${props.theme.color.white}`,\r\n            fontSize: \"14px\",\r\n            outline: \"0\",\r\n            border: \"0\",\r\n        },\r\n        \"tr\": {\r\n            border: \"none\",\r\n            \"td\": {\r\n                textAlign: \"center\",\r\n            }\r\n        },\r\n    }\r\n}\r\n\r\nexport const inputStyle = (props) => {\r\n\r\n    return {\r\n        display: \"block\",\r\n        width: \"100%\",\r\n        border: '0',\r\n        boxShadow: \"rgba(20, 20, 20, 0.04) 0 0 0 1px inset\",\r\n        borderRadius: \"8px\",\r\n        backgroundColor: `${props.theme.backgroundColor.grey}`,\r\n        color: `${props.theme.color.helpText}`,\r\n        fontSize: \"14px\",\r\n    }\r\n}","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\nimport { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport { CometChatBackdrop } from \"../../Shared\";\r\n\r\nimport * as enums from \"../../../util/enums.js\";\r\nimport Translator from \"../../../resources/localization/translator\";\r\n\r\nimport {\r\n    modalWrapperStyle,\r\n    modalCloseStyle,\r\n    modalBodyStyle,\r\n    modalTableStyle,\r\n    tableCaptionStyle,\r\n    tableBodyStyle,\r\n    tableErrorStyle,\r\n    inputStyle,\r\n    tableFootStyle,\r\n} from \"./style\";\r\n\r\nimport closeIcon from \"./resources/close.png\";\r\n\r\nclass CometChatCreateGroup extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            error: null,\r\n            passwordInput: false,\r\n            name: \"\",\r\n            type: \"\",\r\n            password: \"\",\r\n        }\r\n    }\r\n\r\n    //Set default props\r\n    static defaultProps = {\r\n        lang: Translator.getDefaultLanguage(),\r\n    }\r\n\r\n    passwordChangeHandler = (event) => {\r\n        this.setState({password: event.target.value})\r\n    }\r\n\r\n    nameChangeHandler = (event) => {\r\n        this.setState({name: event.target.value})\r\n    }\r\n\r\n    typeChangeHandler = (event) => {\r\n        \r\n        const type = event.target.value;\r\n        this.setState({type: event.target.value})\r\n\r\n        if(type === \"protected\") {\r\n            this.setState({\"passwordInput\": true});\r\n        } else {\r\n            this.setState({\"passwordInput\": false});\r\n        }\r\n    }\r\n\r\n    validate = () => {\r\n\r\n        const groupName = this.state.name.trim();\r\n        const groupType = this.state.type.trim();\r\n\r\n        if(!groupName) {\r\n            this.setState({ error: Translator.translate(\"GROUP_NAME_BLANK\", this.props.lang) })\r\n            return false;\r\n        }\r\n\r\n        if(!groupType) {\r\n            this.setState({ error: Translator.translate(\"GROUP_TYPE_BLANK\", this.props.lang) })\r\n            return false;\r\n        }\r\n\r\n        let password = \"\";\r\n        if(groupType === \"protected\") {\r\n            password = this.state.password;\r\n\r\n            if(!password.length) {\r\n                this.setState({ error: Translator.translate(\"GROUP_PASSWORD_BLANK\", this.props.lang) })\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    createGroup = () => {\r\n\r\n        if(!this.validate()) {\r\n            return false;\r\n        }\r\n\r\n        const groupType = this.state.type.trim();\r\n        \r\n        const password = this.state.password;\r\n        const guid = \"group_\"+new Date().getTime();\r\n        const name = this.state.name.trim();\r\n        let type = CometChat.GROUP_TYPE.PUBLIC;\r\n\r\n        switch(groupType) {\r\n            case \"public\":\r\n                type = CometChat.GROUP_TYPE.PUBLIC;\r\n                break;\r\n            case \"private\":\r\n                type = CometChat.GROUP_TYPE.PRIVATE;\r\n                break;\r\n            case \"protected\":\r\n                type = CometChat.GROUP_TYPE.PASSWORD;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n        const group = new CometChat.Group(guid, name, type, password);\r\n\r\n        CometChat.createGroup(group).then(group => {\r\n\r\n            console.log(\"Group created successfully:\", group);\r\n            this.setState({error: null, name: \"\", type: \"\", password: \"\", passwordInput: \"\"})\r\n            this.props.actionGenerated(enums.ACTIONS[\"GROUP_CREATED\"], group);\r\n\r\n        }).catch(error => {\r\n            \r\n            console.log(\"Group creation failed with exception:\", error);\r\n            this.setState({error: error })\r\n        });\r\n    }\r\n\r\n    render() {\r\n\r\n        let password = null;\r\n        if(this.state.passwordInput) {\r\n            password = (\r\n                <tr>\r\n                    <td>\r\n                        <input \r\n                        autoComplete=\"off\" \r\n                        css={inputStyle(this.props)}\r\n                        placeholder={Translator.translate(\"ENTER_GROUP_PASSWORD\", this.props.lang)}\r\n                        type=\"password\"\r\n                        tabIndex=\"3\"\r\n                        onChange={this.passwordChangeHandler}\r\n                        value={this.state.password} />\r\n                    </td>\r\n                </tr>\r\n            );\r\n        } \r\n\r\n        return (\r\n            <React.Fragment>\r\n                <CometChatBackdrop show={this.props.open} clicked={this.props.close} />\r\n                <div css={modalWrapperStyle(this.props)} className=\"modal__creategroup\">\r\n                    <span css={modalCloseStyle(closeIcon)} className=\"modal__close\" onClick={this.props.close} title={Translator.translate(\"CLOSE\", this.props.lang)}></span>\r\n                    <div css={modalBodyStyle()} className=\"modal__body\">\r\n                        <table css={modalTableStyle(this.props)}>\r\n                            <caption css={tableCaptionStyle()} className=\"modal__title\">{Translator.translate(\"CREATE_GROUP\", this.props.lang)}</caption>\r\n                            <tbody css={tableBodyStyle()} className=\"modal__search\">\r\n                                <tr className=\"error\">\r\n                                    <td><div css={tableErrorStyle()}>{this.state.error}</div></td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>\r\n                                        <input\r\n                                        autoComplete=\"off\"\r\n                                        css={inputStyle(this.props)}\r\n                                        className=\"search__input\" \r\n                                        placeholder={Translator.translate(\"ENTER_GROUP_NAME\", this.props.lang)}\r\n                                        type=\"text\"\r\n                                        tabIndex=\"1\"\r\n                                        onChange={this.nameChangeHandler}\r\n                                        value={this.state.name} />\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>\r\n                                        <select\r\n                                        css={inputStyle(this.props)}\r\n                                        className=\"grouptype\" \r\n                                        onChange={this.typeChangeHandler}\r\n                                        value={this.state.type}\r\n                                        tabIndex=\"2\">\r\n                                            <option value=\"\">{Translator.translate(\"SELECT_GROUP_TYPE\", this.props.lang)}</option>\r\n                                            <option value=\"public\">{Translator.translate(\"PUBLIC\", this.props.lang)}</option>\r\n                                            <option value=\"private\">{Translator.translate(\"PRIVATE\", this.props.lang)}</option>\r\n                                            <option value=\"protected\">{Translator.translate(\"PASSWORD_PROTECTED\", this.props.lang)}</option>\r\n                                        </select>\r\n                                    </td>\r\n                                </tr>\r\n                                {password}\r\n                            </tbody>\r\n                            <tfoot css={tableFootStyle(this.props)}>\r\n                                <tr className=\"creategroup\">\r\n                                    <td><button type=\"button\" tabIndex=\"4\" onClick={this.createGroup}>{Translator.translate(\"CREATE\", this.props.lang)}</button></td>\r\n                                </tr>\r\n                            </tfoot>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatCreateGroup.defaultProps = {\r\n    lang: Translator.getDefaultLanguage(),\r\n};\r\n\r\nCometChatCreateGroup.propTypes = {\r\n    lang: PropTypes.string,\r\n}\r\n\r\nexport default CometChatCreateGroup;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFaADAAQAAAABAAAAFQAAAAAIGxIOAAACcElEQVQ4EZ2UPYgTQRiGs3MJhoAHBoNgIQd3vYiVjaV2IhHCZqMcWFgqCqcQ9U4Uf++wsFCw8DfJhuUKUUhhk0KwUlA4sFA4EJSAhAsWggSzPt+6EyZze6dxYJj53vf93vl2ftZJbdLCMFSNRmOP4zhT9Dy9C7bquu475uFGqU4SgdF2kqskeow7bA34V7Aa3I1KpbK2jreBer1eAbtLn7S5hHhNKXWiXC4vm5wyAyqcJ67R/8VQUrdRbUDenAS6DT8fYhbBI02MM8b763qeF0heZOr7/s7BYPCRODeOmaX9nslkZkql0rfo86nwkm3I6s/pvpUYheBP6M8sbrLf718QTLVarS2YupYgBfaaz/HA71jcEvAs2BsLT7HQ0Xa7nVa9Xm8/5NYEwVW5CbRTcJExSYvEc/H+X7ZzKCTf6XT2KYTTNikxggm4x9qY+SEqPBsbPkAycnMMj+k0B1QwgJGpNm42myu8ohcssBdsM0MppiCrrXsRpjMV3sTwfRAEu/j0t8RLJp8wlwehPicQEYTBdV7LeflkTvYTlcpdPAd+a6Mc8VO5XK6N6KctgryHQdXYwwy6mjZGf9/OIf5B3qvo8pO4zF4cMUUY3Cb+Ar7IODwU8F/Ep8FnGE/Shw3OpxAvLQjuFzmwwwgntIL5GT03x1hj312R9OEWZBJVwEF8YJUrAvxvI3+Bg5Sn/ufty4RVHP4BTxnl1zdWw/AhX31cJ5l7FXLSx9gKqXigBX8ZRTdvGop++Oszk7nsu9nja2AH4z00aXnjclgtCqiydSsjJEGiqRZx4QvczwOYTIHlWaDLfDWbzb4sFotdrbPH34IuDwr79+D1AAAAAElFTkSuQmCC\"","import { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport * as enums from \"../../../util/enums.js\";\r\n\r\nexport class GroupDetailManager {\r\n\r\n    guid = null;\r\n    groupMemberRequest = null;\r\n    bannedGroupMemberRequest = null;\r\n\r\n    userListenerId = \"group_detail_user_\" + new Date().getTime();\r\n    groupListenerId = \"group_detail_group_\" + new Date().getTime();\r\n\r\n    constructor(guid) {\r\n        this.guid = guid;\r\n        this.groupMemberRequest = new CometChat.GroupMembersRequestBuilder(guid).setLimit(10).build();\r\n        this.bannedGroupMemberRequest = new CometChat.BannedMembersRequestBuilder(guid).setLimit(10).build();\r\n    }\r\n\r\n    fetchNextGroupMembers() {\r\n        return this.groupMemberRequest.fetchNext();\r\n    }\r\n\r\n    fetchNextBannedGroupMembers() {\r\n        return this.bannedGroupMemberRequest.fetchNext();\r\n    }\r\n\r\n    attachListeners(callback) {\r\n\r\n        CometChat.addGroupListener(\r\n            this.groupListenerId,\r\n            new CometChat.GroupListener({\r\n                onGroupMemberScopeChanged: (message, changedUser, newScope, oldScope, changedGroup) => {\r\n                    callback(enums.GROUP_MEMBER_SCOPE_CHANGED, message, changedGroup, {\"user\": changedUser, \"scope\": newScope});\r\n                }, \r\n                onGroupMemberKicked: (message, kickedUser, kickedBy, kickedFrom) => {\r\n                    callback(enums.GROUP_MEMBER_KICKED, message, kickedFrom, {\"user\": kickedUser, \"hasJoined\": false});\r\n                }, \r\n                onGroupMemberBanned: (message, bannedUser, bannedBy, bannedFrom) => {\r\n                    callback(enums.GROUP_MEMBER_BANNED, message, bannedFrom, {\"user\": bannedUser});\r\n                }, \r\n                onGroupMemberUnbanned: (message, unbannedUser, unbannedBy, unbannedFrom) => {\r\n                    callback(enums.GROUP_MEMBER_UNBANNED, message, unbannedFrom, {\"user\": unbannedUser, \"hasJoined\": false});\r\n                }, \r\n                onMemberAddedToGroup: (message, userAdded, userAddedBy, userAddedIn) => {\r\n                    callback(enums.GROUP_MEMBER_ADDED, message, userAddedIn, {\"user\": userAdded, \"hasJoined\": true});\r\n                }, \r\n                onGroupMemberLeft: (message, leavingUser, group) => {\r\n                    callback(enums.GROUP_MEMBER_LEFT, message, group, {\"user\": leavingUser});\r\n                }, \r\n                onGroupMemberJoined: (message, joinedUser, joinedGroup) => {\r\n                    callback(enums.GROUP_MEMBER_JOINED, message, joinedGroup, {\"user\": joinedUser});\r\n                }\r\n            })\r\n        );\r\n\r\n        CometChat.addUserListener(\r\n            this.userListenerId,\r\n            new CometChat.UserListener({\r\n                onUserOnline: onlineUser => {\r\n                    /* when someuser/friend comes online, user will be received here */\r\n                    callback(enums.USER_ONLINE, null, {guid: this.guid}, {\"user\": onlineUser});\r\n                },\r\n                onUserOffline: offlineUser => {\r\n                    /* when someuser/friend went offline, user will be received here */\r\n                    callback(enums.USER_OFFLINE, null, {guid: this.guid}, {\"user\": offlineUser});\r\n                }\r\n            })\r\n        );\r\n    }\r\n\r\n    removeListeners() {\r\n\r\n        CometChat.removeUserListener(this.userListenerId);\r\n        CometChat.removeGroupListener(this.groupListenerId);\r\n    }\r\n}","import React from 'react';\r\n\r\nconst GroupDetailContext = React.createContext({\r\n    memberlist: [],\r\n    bannedmemberlist: [],\r\n    administratorslist: [],\r\n    moderatorslist: []\r\n});\r\n\r\nexport default GroupDetailContext;","export const detailStyle = (props) => {\r\n\r\n    return {\r\n        \"height\": \"100%\",\r\n        boxSizing: \"border-box\",\r\n        fontFamily: `${props.theme.fontFamily}`,\r\n        \"*\": {\r\n            boxSizing: \"border-box\",\r\n            fontFamily: `${props.theme.fontFamily}`,\r\n        }\r\n    }\r\n}\r\n\r\nexport const headerStyle = (props) => {\r\n\r\n    return {\r\n        padding: \"19px 16px\",\r\n        position: \"relative\",\r\n        borderBottom: `1px solid ${props.theme.borderColor.primary}`,\r\n        display: \"flex\",\r\n        justifyContent: \"flex-start\",\r\n        alignItems: \"center\",\r\n    }\r\n}\r\n\r\nexport const headerCloseStyle = (img, props) => {\r\n\r\n    const mq = [...props.theme.breakPoints];\r\n\r\n    return {\r\n        cursor: \"pointer\",\r\n        display: \"none\",\r\n        background: `url(${img}) center center no-repeat`,\r\n        width: \"24px\",\r\n        height: \"24px\",\r\n        [`@media ${mq[1]}, ${mq[2]}, ${mq[3]}, ${mq[4]}`]: {\r\n            display: \"block\"\r\n        },\r\n    }\r\n}\r\n\r\nexport const headerTitleStyle = () => {\r\n\r\n    return {\r\n        margin: \"0\",\r\n        fontWeight: \"700\",\r\n        fontSize: \"20px\"\r\n    }\r\n}\r\n\r\nexport const detailPaneStyle = () => {\r\n\r\n    return {\r\n        margin: \"0\",\r\n        padding: \"16px\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        justifyContent: \"space-between\",\r\n        alignItems: \"flex-start\",\r\n        height: \"calc(100% - 70px)\"\r\n    }\r\n}\r\n\r\nexport const sectionStyle = () => {\r\n\r\n    return {\r\n        width: \"100%\",\r\n    }\r\n}\r\n\r\nexport const sectionHeaderStyle = (props) => {\r\n\r\n    return {\r\n        margin: \"0\",\r\n        width: \"100%\",\r\n        fontSize: \"12px\",\r\n        lineHeight: \"20px\",\r\n        color: `${props.theme.color.secondary}`,\r\n        textTransform: \"uppercase\",\r\n    }\r\n}\r\n\r\nexport const sectionContentStyle = () => {\r\n\r\n    return {\r\n        width: \"100%\",\r\n        margin: \"6px 0\",\r\n        '&:not(:last-of-type)': {\r\n            marginBottom: \"16px\",\r\n        }\r\n    }\r\n}\r\n\r\nexport const contentItemStyle = () => {\r\n\r\n    return {\r\n        position: \"relative\",\r\n        display: \"flex\",\r\n        clear: \"both\",\r\n        width: \"100%\",\r\n        padding:\" 6px 0\",\r\n        '&:first-of-type': {\r\n            paddingTop: \"0\",\r\n        },\r\n        '&:last-of-type': {\r\n            paddingBottom: \"0\",\r\n        }\r\n    }\r\n}\r\n\r\nexport const itemLinkStyle = (props, deleteLink) => {\r\n\r\n    const deleteCss = (deleteLink) ? {\r\n        color: `${props.theme.color.red}`,\r\n    } : {};\r\n\r\n    return {\r\n        fontSize: \"15px\",\r\n        lineHeight: \"20px\",\r\n        display: \"inline-block\",\r\n        cursor: \"pointer\",\r\n        fontWeight: \"600\",\r\n        ...deleteCss\r\n    }\r\n}\r\n","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\nimport { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport { GroupDetailManager } from \"./controller\";\r\n\r\nimport { CometChatViewGroupMemberList, CometChatAddGroupMemberList, CometChatBanGroupMemberList } from \"../../Groups\";\r\nimport { CometChatSharedMediaView } from \"../../Shared\";\r\nimport GroupDetailContext from \"./context\";\r\n\r\nimport * as enums from \"../../../util/enums.js\";\r\nimport { validateWidgetSettings } from \"../../../util/common\";\r\n\r\nimport Translator from \"../../../resources/localization/translator\";\r\nimport { theme } from \"../../../resources/theme\";\r\n\r\nimport {\r\n    detailStyle,\r\n    headerStyle,\r\n    headerCloseStyle,\r\n    headerTitleStyle,\r\n    detailPaneStyle,\r\n    sectionStyle,\r\n    sectionHeaderStyle,\r\n    sectionContentStyle,\r\n    contentItemStyle,\r\n    itemLinkStyle\r\n} from \"./style\";\r\n\r\nimport navigateIcon from \"./resources/navigate.png\";\r\n\r\nclass CometChatGroupDetails extends React.Component {\r\n\r\n    loggedInUser = null;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: {},\r\n            memberlist: [],\r\n            bannedmemberlist: [],\r\n            administratorslist: [],\r\n            moderatorslist: [],\r\n            viewMember: false,\r\n            addMember: false,\r\n            banMember: false,\r\n            addAdministrator: false,\r\n            addModerator: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        this.setState({\r\n            memberlist: [],\r\n            administratorslist: [],\r\n            moderatorslist: [],\r\n            bannedmemberlist: []\r\n        });\r\n\r\n        const guid = this.props.item.guid;\r\n        this.GroupDetailManager = new GroupDetailManager(guid);\r\n        this.getGroupMembers();\r\n        this.getBannedGroupMembers();\r\n        this.GroupDetailManager.attachListeners(this.groupUpdated);\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n\r\n        if (prevProps.item.guid !== this.props.item.guid) {\r\n\r\n            this.setState({\r\n                memberlist: [],\r\n                administratorslist: [],\r\n                moderatorslist: [],\r\n                bannedmemberlist: []\r\n            });\r\n\r\n            const guid = this.props.item.guid;\r\n            this.GroupDetailManager.removeListeners();\r\n            this.GroupDetailManager = new GroupDetailManager(guid);\r\n            this.getGroupMembers();\r\n            this.getBannedGroupMembers();\r\n            this.GroupDetailManager.attachListeners(this.groupUpdated);\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n\r\n        this.GroupDetailManager.removeListeners();\r\n        this.GroupDetailManager = null;\r\n    }\r\n\r\n    groupUpdated = (key, message, group, options) => {\r\n        \r\n        const guid = this.props.item.guid;\r\n        if(guid !== group.guid) {\r\n            return false;\r\n        }\r\n        \r\n        switch(key) {\r\n            case enums.USER_ONLINE:\r\n            case enums.USER_OFFLINE: \r\n                this.groupMemberUpdated(options.user);\r\n            break;\r\n            case enums.GROUP_MEMBER_ADDED:\r\n            case enums.GROUP_MEMBER_JOINED: {\r\n\r\n                const member = options.user;\r\n                const updatedMember = Object.assign({}, member, { scope: CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT });\r\n                \r\n                this.addParticipants([updatedMember], false);\r\n            }\r\n            break;\r\n            case enums.GROUP_MEMBER_LEFT:\r\n            case enums.GROUP_MEMBER_KICKED: {\r\n                const member = options.user;\r\n                this.removeParticipants(member, false);\r\n            }\r\n            break;\r\n            case enums.GROUP_MEMBER_BANNED: {\r\n                const member = options.user;\r\n                //this.setAvatar(member);\r\n                this.banMembers([member]);\r\n                this.removeParticipants(member, false);\r\n            }\r\n            break;\r\n            case enums.GROUP_MEMBER_UNBANNED: {\r\n                const member = options.user;\r\n                this.unbanMembers([member]);\r\n            }\r\n            break;\r\n            case enums.GROUP_MEMBER_SCOPE_CHANGED: {\r\n                const member = options.user;\r\n                const updatedMember = Object.assign({}, member, {scope: options[\"scope\"]});\r\n                this.updateParticipants(updatedMember);\r\n            }\r\n            break;\r\n            default:\r\n            break;\r\n        }\r\n    }\r\n\r\n    groupMemberUpdated = (member) => {\r\n        \r\n        let memberlist = [...this.state.memberlist];\r\n        //search for user\r\n        let memberKey = memberlist.findIndex((m, k) => m.uid === member.uid);\r\n        //if found in the list, update user object\r\n        if(memberKey > -1) {\r\n    \r\n          let memberObj =  memberlist[memberKey];\r\n          let newMemberObj = Object.assign({}, memberObj, member);\r\n          memberlist.splice(memberKey, 1, newMemberObj);\r\n    \r\n          this.setState({ memberlist: memberlist });\r\n        }\r\n\r\n\r\n        let bannedmemberlist = [...this.state.bannedmemberlist];\r\n        //search for user\r\n        let bannedMemberKey = bannedmemberlist.findIndex((m, k) => m.uid === member.uid);\r\n        //if found in the list, update user object\r\n        if(bannedMemberKey > -1) {\r\n    \r\n          let bannedMemberObj =  bannedmemberlist[bannedMemberKey];\r\n          let newBannedMemberObj = Object.assign({}, bannedMemberObj, member);\r\n          bannedmemberlist.splice(bannedMemberKey, 1, newBannedMemberObj);\r\n    \r\n          this.setState({ bannedmemberlist: bannedmemberlist });\r\n        }\r\n    }\r\n\r\n    getGroupMembers = () => {\r\n\r\n        const administratorslist = [], moderatorslist = []; \r\n        CometChat.getLoggedinUser().then(user => {\r\n\r\n            this.loggedInUser = user;\r\n            this.GroupDetailManager.fetchNextGroupMembers().then(groupMembers => {\r\n\r\n                groupMembers.forEach(member => {\r\n\r\n                    if (member.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN) {\r\n                        administratorslist.push(member);\r\n                    }\r\n        \r\n                    if (member.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR) {\r\n                        moderatorslist.push(member);\r\n                    }\r\n                });\r\n                this.setState({ \r\n                    memberlist: [...this.state.memberlist, ...groupMembers], \r\n                    administratorslist: [...this.state.administratorslist, ...administratorslist], \r\n                    moderatorslist: [...this.state.moderatorslist, ...moderatorslist] \r\n                });\r\n\r\n            }).catch(error => {\r\n                console.error(\"[CometChatGroupDetail] getGroupMembers fetchNextGroupMembers error\", error);\r\n            });\r\n\r\n        }).catch(error => {\r\n            console.log(\"[CometChatGroupDetail] getGroupMembers getLoggedinUser error\", error);\r\n        });\r\n    }\r\n\r\n    getBannedGroupMembers = () => {\r\n\r\n        if(this.props.item.scope === CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\r\n            return false;\r\n        }\r\n\r\n        CometChat.getLoggedinUser().then(user => {\r\n\r\n            this.GroupDetailManager.fetchNextBannedGroupMembers().then(bannedMembers => {\r\n\r\n                this.setState({ \r\n                    bannedmemberlist: [...this.state.bannedmemberlist, ...bannedMembers] \r\n                });\r\n\r\n            }).catch(error => {\r\n                console.error(\"[CometChatGroupDetail] getGroupMembers fetchNextGroupMembers error\", error);\r\n            });\r\n\r\n        }).catch(error => {\r\n            console.log(\"[CometChatGroupDetail] getGroupMembers getLoggedinUser error\", error);\r\n        });\r\n    }\r\n\r\n    deleteGroup = () => {\r\n\r\n        const guid = this.props.item.guid;\r\n        CometChat.deleteGroup(guid).then(response => {\r\n            console.log(\"Groups deleted successfully:\", response);\r\n            this.props.actionGenerated(enums.ACTIONS[\"GROUP_DELETED\"], this.props.item);\r\n        }).catch(error => {\r\n            console.log(\"Group delete failed with exception:\", error);\r\n        });\r\n    }\r\n\r\n    leaveGroup = () => {\r\n\r\n        const guid = this.props.item.guid;\r\n        CometChat.leaveGroup(guid).then(hasLeft => {\r\n            \r\n            console.log(\"Group left successfully:\", hasLeft);\r\n            this.props.actionGenerated(enums.ACTIONS[\"GROUP_LEFT\"], this.props.item);\r\n        }).catch(error => {\r\n            console.log(\"Group leaving failed with exception:\", error);\r\n        });\r\n    }\r\n\r\n    clickHandler = (action, flag) => {\r\n\r\n        switch(action) {\r\n            case \"viewmember\":\r\n                this.setState({viewMember: flag});\r\n            break;\r\n            case \"addmember\":\r\n                this.setState({addMember: flag});\r\n            break;\r\n            case \"banmember\":\r\n                this.setState({banMember: flag});\r\n            break;\r\n            default:\r\n            break;\r\n        }\r\n    }\r\n\r\n    membersActionHandler = (action, members) => {\r\n        \r\n        switch(action) {\r\n            case \"banGroupMembers\":\r\n                this.banMembers(members);\r\n                break;\r\n            case \"unbanGroupMembers\":\r\n                this.unbanMembers(members);\r\n                break;\r\n            case \"addGroupParticipants\":\r\n                this.addParticipants(members);\r\n                break;\r\n            case \"removeGroupParticipants\":\r\n                this.removeParticipants(members);\r\n                break;\r\n            case \"updateGroupParticipants\":\r\n                this.updateParticipants(members);\r\n                break;\r\n            case \"fetchGroupMembers\":\r\n                this.getGroupMembers();\r\n                break;\r\n            case \"fetchBannedMembers\":\r\n                this.getBannedGroupMembers();\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    banMembers = (members) => {\r\n        this.setState({\r\n            bannedmemberlist: [...this.state.bannedmemberlist, ...members],\r\n        });\r\n    }\r\n\r\n    unbanMembers = (members) => {\r\n\r\n        const bannedMembers = [...this.state.bannedmemberlist];\r\n        const unbannedMembers = [];\r\n\r\n        const filteredBannedMembers = bannedMembers.filter(bannedmember => {\r\n\r\n            const found = members.find(member => bannedmember.uid === member.uid);\r\n            if(found) {\r\n                unbannedMembers.push(found);\r\n                return false;\r\n            }\r\n            return true;\r\n        });\r\n\r\n        this.props.actionGenerated(\"memberUnbanned\", unbannedMembers);\r\n\r\n        this.setState({\r\n            bannedmemberlist: [...filteredBannedMembers]\r\n        });\r\n    }\r\n\r\n    addParticipants = (members, triggerUpdate = true) => {\r\n        \r\n        const memberlist = [...this.state.memberlist, ...members];\r\n\r\n        this.setState({\r\n            memberlist: memberlist,\r\n        });\r\n\r\n        this.props.actionGenerated(\"membersAdded\", members);\r\n        if(triggerUpdate) {\r\n            this.props.actionGenerated(\"membersUpdated\", this.props.item, memberlist.length);\r\n        }\r\n    }\r\n\r\n    removeParticipants = (member, triggerUpdate = true) => {\r\n        \r\n        const groupmembers = [...this.state.memberlist];\r\n        const filteredMembers = groupmembers.filter(groupmember => {\r\n\r\n            if(groupmember.uid === member.uid) {\r\n                return false;\r\n            }\r\n            return true;\r\n        });\r\n\r\n        this.setState({memberlist: filteredMembers});\r\n\r\n        if(triggerUpdate) {\r\n            this.props.actionGenerated(\"membersUpdated\", this.props.item, filteredMembers.length);\r\n        }\r\n    }\r\n\r\n    updateParticipants = (updatedMember) => {\r\n\r\n        const memberlist = [...this.state.memberlist];\r\n\r\n        const memberKey = memberlist.findIndex(member => member.uid === updatedMember.uid);\r\n        if(memberKey > -1) {\r\n\r\n            const memberObj = memberlist[memberKey];\r\n            const newMemberObj = Object.assign({}, memberObj, updatedMember, {\"scope\": updatedMember[\"scope\"]});\r\n\r\n            memberlist.splice(memberKey, 1, newMemberObj);\r\n\r\n            this.props.actionGenerated(\"memberScopeChanged\", [newMemberObj]);\r\n            this.setState({memberlist: memberlist});\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        let viewMembersBtn = (\r\n            <div css={contentItemStyle()} className=\"content__item\">\r\n                <div css={itemLinkStyle(this.props, 0)} className=\"item__link\" onClick={() => this.clickHandler(\"viewmember\", true)}>{Translator.translate(\"VIEW_MEMBERS\", this.props.lang)}</div>                                           \r\n            </div>\r\n        );\r\n\r\n        let addMembersBtn = null, deleteGroupBtn = null, bannedMembersBtn = null;\r\n        if(this.props.item.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN) {\r\n            addMembersBtn = (\r\n                <div css={contentItemStyle()} className=\"content__item\">\r\n                    <div css={itemLinkStyle(this.props, 0)} className=\"item__link\" onClick={() => this.clickHandler(\"addmember\", true)}>{Translator.translate(\"ADD_MEMBERS\", this.props.lang)}</div>                                           \r\n                </div>\r\n            );\r\n\r\n            deleteGroupBtn = (\r\n                <div css={contentItemStyle()} className=\"content__item\">\r\n                    <span css={itemLinkStyle(this.props, 1)} className=\"item__link\" onClick={this.deleteGroup}>{Translator.translate(\"DELETE_AND_EXIT\", this.props.lang)}</span>\r\n                </div>\r\n            );\r\n        }\r\n        \r\n        if(this.props.item.scope !== CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\r\n            bannedMembersBtn = (\r\n                <div css={contentItemStyle()} className=\"content__item\">\r\n                    <div css={itemLinkStyle(this.props, 0)} className=\"item__link\" onClick={() => this.clickHandler(\"banmember\", true)}>{Translator.translate(\"BANNED_MEMBERS\", this.props.lang)}</div>                                           \r\n                </div>\r\n            );\r\n        }\r\n\r\n        let leaveGroupBtn = (\r\n            <div css={contentItemStyle()} className=\"content__item\">\r\n                <span css={itemLinkStyle(this.props, 0)} className=\"item__link\" onClick={this.leaveGroup}>{Translator.translate(\"LEAVE_GROUP\", this.props.lang)}</span>\r\n            </div>\r\n        );\r\n\r\n        let sharedmediaView = (\r\n            <CometChatSharedMediaView \r\n            theme={this.props.theme} \r\n            item={this.props.item} \r\n            type={this.props.type} \r\n            lang={this.props.lang}\r\n            containerHeight=\"225px\" \r\n            widgetsettings={this.props.widgetsettings} />\r\n        );\r\n\r\n        //if viewing, kicking/banning, promoting/demoting group membersare disabled in chatwidget\r\n        if (validateWidgetSettings(this.props.widgetsettings, \"view_group_members\") === false\r\n        && validateWidgetSettings(this.props.widgetsettings, \"allow_kick_ban_members\") === false\r\n        && validateWidgetSettings(this.props.widgetsettings, \"allow_promote_demote_members\") === false) {\r\n            viewMembersBtn = null;\r\n        }\r\n\r\n        //if adding group members is disabled in chatwidget\r\n        if (validateWidgetSettings(this.props.widgetsettings, \"allow_add_members\") === false) {\r\n            addMembersBtn = null;\r\n        }\r\n\r\n        //if kicking/banning/unbanning group members is disabled in chatwidget\r\n        if (validateWidgetSettings(this.props.widgetsettings, \"allow_kick_ban_members\") === false) {\r\n            bannedMembersBtn = null;\r\n        }\r\n\r\n        //if deleting group is disabled in chatwidget\r\n        if (validateWidgetSettings(this.props.widgetsettings, \"allow_delete_groups\") === false) {\r\n            deleteGroupBtn = null;\r\n        }\r\n\r\n        //if leaving group is disabled in chatwidget\r\n        if (validateWidgetSettings(this.props.widgetsettings, \"join_or_leave_groups\") === false) {\r\n            leaveGroupBtn = null;\r\n        }\r\n\r\n        //if viewing shared media group is disabled in chatwidget\r\n        if (validateWidgetSettings(this.props.widgetsettings, \"view_shared_media\") === false) {\r\n            sharedmediaView = null;\r\n        }\r\n\r\n        let members = (\r\n            <div css={sectionStyle()} className=\"section section__members\">\r\n                <h6 css={sectionHeaderStyle(this.props)} className=\"section__header\">{Translator.translate(\"MEMBERS\", this.props.lang)}</h6>\r\n                <div css={sectionContentStyle()} className=\"section__content\">\r\n                    {viewMembersBtn}\r\n                    {addMembersBtn}\r\n                    {bannedMembersBtn}\r\n                </div>\r\n            </div>\r\n        );\r\n\r\n        let options = (\r\n            <div css={sectionStyle()} className=\"section section__options\">\r\n                <h6 css={sectionHeaderStyle(this.props)} className=\"section__header\">{Translator.translate(\"OPTIONS\", this.props.lang)}</h6>\r\n                <div css={sectionContentStyle()} className=\"section__content\">\r\n                    {leaveGroupBtn}\r\n                    {deleteGroupBtn}\r\n                </div>\r\n            </div>\r\n        );\r\n\r\n        if(viewMembersBtn === null && addMembersBtn === null && bannedMembersBtn === null) {\r\n            members = null;\r\n        }\r\n\r\n        if(leaveGroupBtn === null && deleteGroupBtn === null) {\r\n            options = null;\r\n        }\r\n\r\n        let viewMembers = null;\r\n        if(this.state.viewMember) {\r\n            viewMembers = (\r\n                <CometChatViewGroupMemberList \r\n                theme={this.props.theme}\r\n                item={this.props.item}\r\n                lang={this.props.lang}\r\n                open={this.state.viewMember}\r\n                close={() => this.clickHandler(\"viewmember\", false)}\r\n                widgetsettings={this.props.widgetsettings}\r\n                actionGenerated={this.membersActionHandler} />\r\n            );\r\n        }\r\n\r\n        let addMembers = null;\r\n        if(this.state.addMember) {\r\n            addMembers = (\r\n                <CometChatAddGroupMemberList \r\n                theme={this.props.theme}\r\n                item={this.props.item}\r\n                lang={this.props.lang}\r\n                open={this.state.addMember} \r\n                close={() => this.clickHandler(\"addmember\", false)}\r\n                widgetsettings={this.props.widgetsettings}\r\n                actionGenerated={this.membersActionHandler} />\r\n            );\r\n        }\r\n\r\n        let bannedMembers = null;\r\n        if(this.state.banMember) {\r\n            bannedMembers = (\r\n                <CometChatBanGroupMemberList\r\n                theme={this.props.theme}\r\n                item={this.props.item}\r\n                lang={this.props.lang}\r\n                open={this.state.banMember} \r\n                close={() => this.clickHandler(\"banmember\", false)}\r\n                widgetsettings={this.props.widgetsettings}\r\n                actionGenerated={this.membersActionHandler}  />\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div css={detailStyle(this.props)} className=\"detailpane\">\r\n                <GroupDetailContext.Provider \r\n                value={{\r\n                memberlist: this.state.memberlist,\r\n                bannedmemberlist: this.state.bannedmemberlist,\r\n                administratorslist: this.state.administratorslist,\r\n                moderatorslist: this.state.moderatorslist,\r\n                loggedinuser: this.loggedInUser,\r\n                item: this.props.item\r\n                }}>\r\n                <div css={headerStyle(this.props)} className=\"detailpane__header\">\r\n                    <div css={headerCloseStyle(navigateIcon, this.props)} className=\"header__close\" onClick={() => this.props.actionGenerated(\"closeDetailClicked\")}></div>\r\n                    <h4 css={headerTitleStyle()} className=\"header__title\">{Translator.translate(\"DETAILS\", this.props.lang)}</h4>\r\n                </div>\r\n                <div css={detailPaneStyle()} className=\"detailpane__section\">\r\n                    {members}\r\n                    {options}\r\n                    {sharedmediaView}\r\n                </div>\r\n                {viewMembers}\r\n                {addMembers}\r\n                {bannedMembers}\r\n                </GroupDetailContext.Provider>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatGroupDetails.defaultProps = {\r\n    lang: Translator.getDefaultLanguage(),\r\n    theme: theme\r\n};\r\n\r\nCometChatGroupDetails.propTypes = {\r\n    lang: PropTypes.string,\r\n    theme: PropTypes.object\r\n}\r\n\r\nexport default CometChatGroupDetails;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAlElEQVRIS+3TQQ6AIAwEwPZl+g56kZeJB/5pmmBCjEIXIfEAV5Mdu1CmwYcH59MEqg3/s6IY40ZEi4j42gjwBCl8T8FeREIJgYA8nJkP55xOUjxmoCVcZRPQGm4CvoTDABEFy8vJLwWuCEVMgP7R7XmaJzEDrQgEPCB9F+26PK2Lmdeui1bb2LfvcEUoNIFqY8MrOgHJVToZIc83egAAAABJRU5ErkJggg==\"","import { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport * as enums from \"../../../util/enums.js\";\r\n\r\nexport class GroupListManager {\r\n\r\n    groupRequest = null;\r\n    groupListenerId = \"grouplist_\" + new Date().getTime();\r\n\r\n    constructor(searchKey) {\r\n\r\n        if (searchKey) {\r\n            this.groupRequest = new CometChat.GroupsRequestBuilder().setLimit(30).setSearchKeyword(searchKey).build();\r\n        } else {\r\n            this.groupRequest = new CometChat.GroupsRequestBuilder().setLimit(30).build();\r\n        }\r\n    }\r\n\r\n    fetchNextGroups() {\r\n        return this.groupRequest.fetchNext();\r\n    }\r\n\r\n    attachListeners(callback) {\r\n\r\n        CometChat.addGroupListener(\r\n            this.groupListenerId,\r\n            new CometChat.GroupListener({\r\n                onGroupMemberScopeChanged: (message, changedUser, newScope, oldScope, changedGroup) => {\r\n                    callback(enums.GROUP_MEMBER_SCOPE_CHANGED, message, changedGroup, {\"user\": changedUser, \"scope\": newScope});\r\n                }, \r\n                onGroupMemberKicked: (message, kickedUser, kickedBy, kickedFrom) => {\r\n                    callback(enums.GROUP_MEMBER_KICKED, message, kickedFrom, {\"user\": kickedUser, \"hasJoined\": false});\r\n                }, \r\n                onGroupMemberBanned: (message, bannedUser, bannedBy, bannedFrom) => {\r\n                    callback(enums.GROUP_MEMBER_BANNED, message, bannedFrom, {\"user\": bannedUser, \"hasJoined\": false});\r\n                }, \r\n                onGroupMemberUnbanned: (message, unbannedUser, unbannedBy, unbannedFrom) => {\r\n                    callback(enums.GROUP_MEMBER_UNBANNED, message, unbannedFrom, {\"user\": unbannedUser, \"hasJoined\": false});\r\n                }, \r\n                onMemberAddedToGroup: (message, userAdded, userAddedBy, userAddedIn) => {\r\n                    callback(enums.GROUP_MEMBER_ADDED, message, userAddedIn, {\"user\": userAdded, \"hasJoined\": true});\r\n                }, \r\n                onGroupMemberLeft: (message, leavingUser, group) => {\r\n                    callback(enums.GROUP_MEMBER_LEFT, message, group, {\"user\": leavingUser});\r\n                }, \r\n                onGroupMemberJoined: (message, joinedUser, joinedGroup) => {\r\n                    callback(enums.GROUP_MEMBER_JOINED, message, joinedGroup, {\"user\": joinedUser});\r\n                }\r\n            })\r\n        );\r\n    }\r\n\r\n    removeListeners() {\r\n        CometChat.removeGroupListener(this.groupListenerId);\r\n    }\r\n}","export const groupWrapperStyle = () => {\r\n    \r\n    return {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        height: \"100%\",\r\n        boxSizing: \"border-box\",\r\n        \"*\": {\r\n            boxSizing: \"border-box\",\r\n            \"::-webkit-scrollbar\": {\r\n                width: \"8px\",\r\n                height: \"4px\",\r\n            },\r\n            \"::-webkit-scrollbar-track\": {\r\n                background: \"#ffffff00\"\r\n            },\r\n            \"::-webkit-scrollbar-thumb\": {\r\n                background: \"#ccc\",\r\n                \"&:hover\": {\r\n                    background: \"#aaa\"\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const groupHeaderStyle = (props) => {\r\n\r\n    return {\r\n        padding: \"16px\",\r\n        position: \"relative\",\r\n        display: \"flex\",\r\n        justifyContent: \"space-between\",\r\n        alignItems: \"center\",\r\n        borderBottom: `1px solid ${props.theme.borderColor.primary}`,\r\n        height: \"70px\",\r\n    }\r\n}\r\n\r\nexport const groupHeaderCloseStyle = (img, props) => {\r\n\r\n    const mq = [...props.theme.breakPoints];\r\n\r\n    return {\r\n        cursor: \"pointer\",\r\n        display: \"none\",\r\n        background: `url(${ img}) left center no-repeat`,\r\n        height: \"24px\",\r\n        width: \"33%\",\r\n        [`@media ${mq[0]}`]: {\r\n            display: \"block!important\"\r\n        }\r\n    }\r\n}\r\n\r\nexport const groupHeaderTitleStyle = (props) => {\r\n\r\n    const alignment = (props.hasOwnProperty(\"enableCloseMenu\") && props.enableCloseMenu.length > 0) ? {\r\n        width: \"33%\",\r\n        textAlign: \"center\"\r\n    } : {};\r\n\r\n    return {\r\n        margin: \"0\",\r\n        fontWeight: \"700\",\r\n        display: \"inline-block\",\r\n        width: \"100%\",\r\n        textAlign: \"left\",\r\n        fontSize: \"20px\",\r\n        ...alignment,\r\n        \"&[dir=rtl]\": {\r\n            textAlign: \"right\",\r\n        }\r\n    }\r\n}\r\n\r\nexport const groupAddStyle = (img) => {\r\n    \r\n    return {\r\n        display: \"block\",\r\n        height: \"24px\",\r\n        cursor: \"pointer\",\r\n    }\r\n}\r\n\r\nexport const groupSearchStyle = () => {\r\n    \r\n    return {\r\n        padding: \"16px 16px\",\r\n        position: \"relative\",\r\n    }\r\n}\r\n\r\nexport const groupSearchInputStyle = (props, img) => {\r\n\r\n    return {\r\n        display: \"block\",\r\n        width: \"100%\",\r\n        border: \"0\",\r\n        boxShadow: \"rgba(20, 20, 20, 0.04) 0 0 0 1px inset\",\r\n        borderRadius: \"8px\",\r\n        lineHeight: \"20px\",\r\n        padding: \"8px 8px 8px 40px\",\r\n        fontSize: \"15px\",\r\n        outline: \"none\",\r\n        color: `${props.theme.color.primary}`,\r\n        background: `url(${img}) 10px center no-repeat ${props.theme.backgroundColor.grey}`,\r\n    }\r\n}\r\n\r\nexport const groupMsgStyle = () => {\r\n    \r\n    return {\r\n        overflow: \"hidden\",\r\n        width: \"100%\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        position: \"absolute\",\r\n        top: \"50%\"\r\n    }\r\n}\r\n\r\nexport const groupMsgTxtStyle = (props) => {\r\n\r\n    return {\r\n        margin: \"0\",\r\n        height: \"36px\",\r\n        color: `${props.theme.color.secondary}`,\r\n        fontSize: \"24px!important\",\r\n        fontWeight: \"600\",\r\n        lineHeight: \"30px\",\r\n    }\r\n}\r\n\r\nexport const groupListStyle = () => {\r\n\r\n    return {\r\n        height: \"calc(100% - 125px)\",\r\n        overflowY: \"auto\",\r\n        margin: \"0\",\r\n        padding: \"0\"\r\n    }\r\n}","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAYCAYAAAAPtVbGAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGaADAAQAAAABAAAAGAAAAABlk77uAAADF0lEQVRIDbWWS0hUURjH/+feOzNNxWiIRiFpERFYkrloERQ9dlFIz0WPRUZmZqVgtBwEV0bF5DOj0ghaBS0kWgQ9aBc5VgORQS0ksoc4ls7jztzT/4xeHRiZufb44Nxz5jz+v+989zvnjsB/sNUB6fO5UE1p81UBOsW/ZhRflt6li3CYuj2QeAuBKsOGKHqeByWWxGK7L1ctJTQJTA6O4A38IkENDzXKZQJPhIF+AsykGz9SkIpOeVwIXCR5pSYwA84JEfgmLa4DBiu7ZR6hfraPQENrdALH4IE7VCPGREWH3KrpeMxBnSXKiV8IpIM5TGLMAq4OnBJ9G67IfN2LZnpez5UJKfAiNoG9oUYxqlQMAtpZ6xQfspI4qBv4GI7lhnh0WKE68Wt9h1yi62ihRi2LSe+eWxaqbQD7UqEpUw1af7BOBKeazp7lnbLI0HCJs4/SyRh38kiaqA3Wi8/pCpr9gyGK2m0nNd/BMkMgwPScAtBJGcOJgWcYUWOlfrnA1pmBMECO01mFiGG5RscOUUg592AygZPxUYQ3bsdO7qotPw9zQGxsjnptmyxwa7hOj/ZNA+5bEdS8+46wpwibCL5Nd0sicSRtqdmd2D1Z6oqALFzowk2K7OfOI/T4HpOkNtggxop9cAkdqzhWyLF4uoxjiIqz8KCXO9hDAZVFdxI/cebDWTGuBI1xSGYVszrTHBw8Kda1o5he32IodlDCpKd9XydxfrhJRDIlM3tyQiq74eWyAMsUALgRjqNhuFHEMuXm7skergNSHdItXFrF8MTZVgf3HEPkGKCwWXdSWgYXX+Q2it/lHdUzcFo8VYvma1khn/wi6muVza+bxMR8hdPnZw8XZ/4tQMFyQtI9+tP2LMTJ9Z6DwhRnfmSaxpeaOkCs12QOO+/xeFNJsoIYBTJjEZ6naTOYPeqqvkAvdld2yV7CQkKbvXfsidlqqmqUXs456ttu8lYYUkljrzHGY2jJc2MzYaocI2zellrCRyoqAu/5P6ErXURL3T0Cu+iN+rrNbDF9kpM2ATE6+NBMooqf5Jfpa34DHnEZqcv6P7YAAAAASUVORK5CYII=\"","import React from 'react';\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from '@emotion/core';\r\nimport PropTypes from 'prop-types';\r\nimport { CometChat } from '@cometchat-pro/chat';\r\n\r\nimport { GroupListManager } from './controller';\r\n\r\nimport { CometChatCreateGroup, CometChatGroupListItem } from '../../Groups';\r\n\r\nimport * as enums from '../../../util/enums.js';\r\nimport { validateWidgetSettings } from '../../../util/common';\r\n\r\nimport { theme } from '../../../resources/theme';\r\nimport Translator from '../../../resources/localization/translator';\r\n\r\nimport {\r\n  groupWrapperStyle,\r\n  groupHeaderStyle,\r\n  groupHeaderCloseStyle,\r\n  groupHeaderTitleStyle,\r\n  groupAddStyle,\r\n  groupSearchStyle,\r\n  groupSearchInputStyle,\r\n  groupMsgStyle,\r\n  groupMsgTxtStyle,\r\n  groupListStyle,\r\n} from './style';\r\n\r\nimport searchIcon from './resources/search-grey-icon.png';\r\nimport navigateIcon from './resources/navigate.png';\r\nimport addIcon from './resources/creategroup.png';\r\n\r\nclass CometChatGroupList extends React.PureComponent {\r\n  timeout;\r\n  loggedInUser = null;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      grouplist: props.grouplist,\r\n      createGroup: false,\r\n      selectedGroup: null,\r\n      lang: props.lang,\r\n    };\r\n\r\n    this.decoratorMessage = Translator.translate('LOADING', props.lang);\r\n    this.groupListRef = React.createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.GroupListManager = new GroupListManager();\r\n    this.getGroups();\r\n    this.GroupListManager.attachListeners(this.groupUpdated);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const previousItem = JSON.stringify(prevProps.item);\r\n    const currentItem = JSON.stringify(this.props.item);\r\n\r\n    //if different group is selected\r\n    if (previousItem !== currentItem) {\r\n      if (Object.keys(this.props.item).length === 0) {\r\n        this.groupListRef.scrollTop = 0;\r\n        this.setState({ selectedGroup: {} });\r\n      } else {\r\n        let grouplist = [...this.state.grouplist];\r\n\r\n        //search for user\r\n        let groupKey = grouplist.findIndex(\r\n          (g) => g.guid === this.props.item.guid\r\n        );\r\n        if (groupKey > -1) {\r\n          let groupObj = { ...grouplist[groupKey] };\r\n          this.setState({ selectedGroup: groupObj });\r\n        }\r\n      }\r\n    }\r\n\r\n    //if user deletes a group, remove it from chatslist\r\n    if (prevProps.groupToDelete !== this.props.groupToDelete) {\r\n      const groups = [...this.state.grouplist];\r\n      const groupToDelete = this.props.groupToDelete;\r\n\r\n      const groupKey = groups.findIndex(\r\n        (group) => group.guid === groupToDelete.guid\r\n      );\r\n      if (groupKey > -1) {\r\n        groups.splice(groupKey, 1);\r\n        this.setState({ grouplist: groups });\r\n      }\r\n    }\r\n\r\n    if (\r\n      prevProps.groupToUpdate &&\r\n      (prevProps.groupToUpdate.guid !== this.props.groupToUpdate.guid ||\r\n        (prevProps.groupToUpdate.guid === this.props.groupToUpdate.guid &&\r\n          (prevProps.groupToUpdate.membersCount !==\r\n            this.props.groupToUpdate.membersCount ||\r\n            prevProps.groupToUpdate.scope !== this.props.groupToUpdate.scope)))\r\n    ) {\r\n      const groups = [...this.state.grouplist];\r\n      const groupToUpdate = this.props.groupToUpdate;\r\n\r\n      const groupKey = groups.findIndex(\r\n        (group) => group.guid === groupToUpdate.guid\r\n      );\r\n      if (groupKey > -1) {\r\n        const groupObj = groups[groupKey];\r\n        const newGroupObj = Object.assign({}, groupObj, groupToUpdate, {\r\n          scope: groupToUpdate['scope'],\r\n          membersCount: groupToUpdate['membersCount'],\r\n        });\r\n\r\n        groups.splice(groupKey, 1, newGroupObj);\r\n        this.setState({ grouplist: groups });\r\n      }\r\n    }\r\n\r\n    if (prevProps.lang !== this.props.lang) {\r\n      this.setState({ lang: this.props.lang });\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.GroupListManager = null;\r\n  }\r\n\r\n  removeGroupFromListOnDeleting = (group) => {\r\n    const groupList = [...this.state.grouplist];\r\n    const groupKey = groupList.findIndex((g) => g.guid === group.guid);\r\n\r\n    if (groupKey > -1) {\r\n      groupList.splice(groupKey, 1);\r\n      this.setState({ grouplist: groupList });\r\n    }\r\n  };\r\n\r\n  groupUpdated = (key, message, group, options) => {\r\n    switch (key) {\r\n      case enums.GROUP_MEMBER_SCOPE_CHANGED:\r\n        this.updateMemberChanged(group, options);\r\n        break;\r\n      case enums.GROUP_MEMBER_KICKED:\r\n      case enums.GROUP_MEMBER_BANNED:\r\n      case enums.GROUP_MEMBER_LEFT:\r\n        this.updateMemberRemoved(group, options);\r\n        break;\r\n      case enums.GROUP_MEMBER_ADDED:\r\n        this.updateMemberAdded(group, options);\r\n        break;\r\n      case enums.GROUP_MEMBER_JOINED:\r\n        this.updateMemberJoined(group, options);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  updateMemberRemoved = (group, options) => {\r\n    let grouplist = [...this.state.grouplist];\r\n\r\n    //search for group\r\n    let groupKey = grouplist.findIndex((g, k) => g.guid === group.guid);\r\n\r\n    if (groupKey > -1) {\r\n      if (options && this.loggedInUser.uid === options.user.uid) {\r\n        let groupObj = { ...grouplist[groupKey] };\r\n\r\n        let newgroupObj = Object.assign({}, groupObj, group);\r\n\r\n        grouplist.splice(groupKey, 1, newgroupObj);\r\n        this.setState({ grouplist: grouplist });\r\n      } else {\r\n        let groupObj = { ...grouplist[groupKey] };\r\n        let membersCount = parseInt(group.membersCount);\r\n\r\n        let newgroupObj = Object.assign({}, groupObj, {\r\n          membersCount: membersCount,\r\n        });\r\n\r\n        grouplist.splice(groupKey, 1, newgroupObj);\r\n        this.setState({ grouplist: grouplist });\r\n      }\r\n    }\r\n  };\r\n\r\n  updateMemberAdded = (group, options) => {\r\n    let grouplist = [...this.state.grouplist];\r\n\r\n    //search for group\r\n    let groupKey = grouplist.findIndex((g, k) => g.guid === group.guid);\r\n\r\n    if (groupKey > -1) {\r\n      let groupObj = { ...grouplist[groupKey] };\r\n\r\n      let membersCount = parseInt(group.membersCount);\r\n\r\n      let scope = group.hasOwnProperty('scope') ? group.scope : '';\r\n      let hasJoined = group.hasOwnProperty('hasJoined')\r\n        ? group.hasJoined\r\n        : false;\r\n\r\n      if (options && this.loggedInUser.uid === options.user.uid) {\r\n        scope = CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT;\r\n        hasJoined = true;\r\n      }\r\n\r\n      let newgroupObj = Object.assign({}, groupObj, {\r\n        membersCount: membersCount,\r\n        scope: scope,\r\n        hasJoined: hasJoined,\r\n      });\r\n\r\n      grouplist.splice(groupKey, 1, newgroupObj);\r\n      this.setState({ grouplist: grouplist });\r\n    } else {\r\n      let groupObj = { ...group };\r\n\r\n      let scope = groupObj.hasOwnProperty('scope') ? groupObj.scope : '';\r\n      let hasJoined = groupObj.hasOwnProperty('hasJoined')\r\n        ? groupObj.hasJoined\r\n        : false;\r\n      let membersCount = parseInt(groupObj.membersCount);\r\n\r\n      if (options && this.loggedInUser.uid === options.user.uid) {\r\n        scope = CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT;\r\n        hasJoined = true;\r\n      }\r\n\r\n      let newgroupObj = Object.assign({}, groupObj, {\r\n        membersCount: membersCount,\r\n        scope: scope,\r\n        hasJoined: hasJoined,\r\n      });\r\n\r\n      grouplist.unshift(newgroupObj);\r\n      this.setState({ grouplist: grouplist });\r\n    }\r\n  };\r\n\r\n  updateMemberJoined = (group, options) => {\r\n    let grouplist = [...this.state.grouplist];\r\n\r\n    //search for group\r\n    let groupKey = grouplist.findIndex((g, k) => g.guid === group.guid);\r\n\r\n    if (groupKey > -1) {\r\n      let groupObj = { ...grouplist[groupKey] };\r\n\r\n      let scope = groupObj.scope;\r\n      let membersCount = parseInt(group.membersCount);\r\n\r\n      if (options && this.loggedInUser.uid === options.user.uid) {\r\n        scope = CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT;\r\n      }\r\n\r\n      let newgroupObj = Object.assign({}, groupObj, {\r\n        membersCount: membersCount,\r\n        scope: scope,\r\n      });\r\n\r\n      grouplist.splice(groupKey, 1, newgroupObj);\r\n      this.setState({ grouplist: grouplist });\r\n    }\r\n  };\r\n\r\n  updateMemberChanged = (group, options) => {\r\n    let grouplist = [...this.state.grouplist];\r\n\r\n    //search for group\r\n    let groupKey = grouplist.findIndex((g, k) => g.guid === group.guid);\r\n\r\n    if (groupKey > -1) {\r\n      let groupObj = { ...grouplist[groupKey] };\r\n      if (options && this.loggedInUser.uid === options.user.uid) {\r\n        let newgroupObj = Object.assign({}, groupObj, { scope: options.scope });\r\n\r\n        grouplist.splice(groupKey, 1, newgroupObj);\r\n        this.setState({ grouplist: grouplist });\r\n      }\r\n    }\r\n  };\r\n\r\n  handleScroll = (e) => {\r\n    const bottom =\r\n      Math.round(e.currentTarget.scrollHeight - e.currentTarget.scrollTop) ===\r\n      Math.round(e.currentTarget.clientHeight);\r\n    if (bottom) this.getGroups();\r\n  };\r\n\r\n  handleClick = (group) => {\r\n    if (!this.props.onItemClick) return;\r\n\r\n    if (group.hasJoined === false) {\r\n      //if join or leave groups is disabled in chat widget\r\n      if (\r\n        validateWidgetSettings(\r\n          this.props.widgetsettings,\r\n          'join_or_leave_groups'\r\n        ) === false\r\n      ) {\r\n        console.log('Group joining disabled in widget settings');\r\n        return false;\r\n      }\r\n\r\n      let password = '';\r\n      if (group.type === CometChat.GROUP_TYPE.PASSWORD) {\r\n        password = prompt(\r\n          Translator.translate('ENTER_YOUR_PASSWORD', this.state.lang)\r\n        );\r\n      }\r\n\r\n      const guid = group.guid;\r\n      const groupType = group.type;\r\n\r\n      CometChat.joinGroup(guid, groupType, password)\r\n        .then((response) => {\r\n          console.log(\r\n            'Group joining success with response',\r\n            response,\r\n            'group',\r\n            group\r\n          );\r\n\r\n          const groups = [...this.state.grouplist];\r\n\r\n          let groupKey = groups.findIndex((g, k) => g.guid === guid);\r\n          if (groupKey > -1) {\r\n            const groupObj = groups[groupKey];\r\n            const newGroupObj = Object.assign({}, groupObj, response, {\r\n              scope: CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT,\r\n            });\r\n\r\n            groups.splice(groupKey, 1, newGroupObj);\r\n            this.setState({ grouplist: groups, selectedGroup: newGroupObj });\r\n\r\n            this.props.onItemClick(newGroupObj, 'group');\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log('Group joining failed with exception:', error);\r\n        });\r\n    } else {\r\n      this.setState({ selectedGroup: group });\r\n      this.props.onItemClick(group, 'group');\r\n    }\r\n  };\r\n\r\n  handleMenuClose = () => {\r\n    if (!this.props.actionGenerated) {\r\n      return false;\r\n    }\r\n\r\n    this.props.actionGenerated('closeMenuClicked');\r\n  };\r\n\r\n  searchGroup = (e) => {\r\n    if (this.timeout) {\r\n      clearTimeout(this.timeout);\r\n    }\r\n\r\n    let val = e.target.value;\r\n    this.timeout = setTimeout(() => {\r\n      this.setState({ grouplist: [] });\r\n\r\n      this.GroupListManager = new GroupListManager(val);\r\n      this.getGroups();\r\n    }, 500);\r\n  };\r\n\r\n  markMessagesRead = (message) => {\r\n    if (!(message.getReadAt() || message.getReadByMeAt())) {\r\n      if (message.getReceiverType() === 'user') {\r\n        CometChat.markAsRead(\r\n          message.getId().toString(),\r\n          message.getSender().getUid(),\r\n          message.getReceiverType()\r\n        );\r\n      } else {\r\n        CometChat.markAsRead(\r\n          message.getId().toString(),\r\n          message.getReceiverId(),\r\n          message.getReceiverType()\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  getGroups = () => {\r\n    CometChat.getLoggedinUser()\r\n      .then((user) => {\r\n        this.loggedInUser = user;\r\n        this.GroupListManager.fetchNextGroups()\r\n          .then((groupList) => {\r\n            if (groupList.length === 0) {\r\n              this.decoratorMessage = Translator.translate(\r\n                'NO_GROUPS_FOUND',\r\n                this.state.lang\r\n              );\r\n            }\r\n\r\n            this.setState({\r\n              grouplist: [...this.state.grouplist, ...groupList],\r\n            });\r\n          })\r\n          .catch((error) => {\r\n            this.decoratorMessage = Translator.translate(\r\n              'ERROR',\r\n              this.state.lang\r\n            );\r\n            console.error(\r\n              '[CometChatGroupList] getGroups fetchNextGroups error',\r\n              error\r\n            );\r\n          });\r\n      })\r\n      .catch((error) => {\r\n        this.decoratorMessage = Translator.translate('ERROR', this.state.lang);\r\n        console.log(\r\n          '[CometChatGroupList] getUsers getLoggedinUser error',\r\n          error\r\n        );\r\n      });\r\n  };\r\n\r\n  createGroupHandler = (flag) => {\r\n    this.setState({ createGroup: flag });\r\n  };\r\n\r\n  createGroupActionHandler = (action, group) => {\r\n    if (action === enums.ACTIONS['GROUP_CREATED']) {\r\n      this.handleClick(group);\r\n\r\n      const groupList = [...this.state.grouplist];\r\n      groupList.unshift(group);\r\n\r\n      this.setState({ grouplist: groupList, createGroup: false });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let messageContainer = null;\r\n\r\n    if (this.state.grouplist.length === 0) {\r\n      messageContainer = (\r\n        <div css={groupMsgStyle()} className=\"groups__decorator-message\">\r\n          <p css={groupMsgTxtStyle(this.props)} className=\"decorator-message\">\r\n            {this.decoratorMessage}\r\n          </p>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    const groups = this.state.grouplist.map((group) => {\r\n      return (\r\n        <CometChatGroupListItem\r\n          key={group.guid}\r\n          theme={this.props.theme}\r\n          group={group}\r\n          lang={this.state.lang}\r\n          selectedGroup={this.state.selectedGroup}\r\n          clickHandler={this.handleClick}\r\n        />\r\n      );\r\n    });\r\n\r\n    let creategroup = (\r\n      <div\r\n        css={groupAddStyle(addIcon)}\r\n        title={Translator.translate('CREATE_GROUP', this.state.lang)}\r\n        onClick={() => this.createGroupHandler(true)}\r\n      >\r\n        <img\r\n          src={addIcon}\r\n          alt={Translator.translate('CREATE_GROUP', this.state.lang)}\r\n        />\r\n      </div>\r\n    );\r\n\r\n    //if create group is disabled in v1 chat widget\r\n    if (validateWidgetSettings(this.props.config, 'group-create') === false) {\r\n      creategroup = null;\r\n    }\r\n\r\n    //if create group is disabled in chat widget\r\n    if (\r\n      validateWidgetSettings(this.props.widgetsettings, 'create_groups') ===\r\n      false\r\n    ) {\r\n      creategroup = null;\r\n    }\r\n\r\n    creategroup = null;\r\n\r\n    let closeBtn = (\r\n      <div\r\n        css={groupHeaderCloseStyle(navigateIcon, this.props)}\r\n        className=\"header__close\"\r\n        onClick={this.handleMenuClose}\r\n      ></div>\r\n    );\r\n    if (\r\n      !this.props.hasOwnProperty('enableCloseMenu') ||\r\n      (this.props.hasOwnProperty('enableCloseMenu') &&\r\n        this.props.enableCloseMenu === 0)\r\n    ) {\r\n      closeBtn = null;\r\n    }\r\n\r\n    return (\r\n      <div css={groupWrapperStyle()} className=\"groups\">\r\n        <div css={groupHeaderStyle(this.props)} className=\"groups__header\">\r\n          {closeBtn}\r\n          <h4\r\n            css={groupHeaderTitleStyle(this.props)}\r\n            className=\"header__title\"\r\n            dir={Translator.getDirection(this.state.lang)}\r\n          >\r\n            {Translator.translate('GROUPS', this.state.lang)}\r\n          </h4>\r\n          {creategroup}\r\n        </div>\r\n        <div css={groupSearchStyle()} className=\"groups__search\">\r\n          <input\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            css={groupSearchInputStyle(this.props, searchIcon)}\r\n            className=\"search__input\"\r\n            placeholder={Translator.translate('SEARCH', this.state.lang)}\r\n            onChange={this.searchGroup}\r\n          />\r\n        </div>\r\n        {messageContainer}\r\n        <div\r\n          css={groupListStyle()}\r\n          className=\"groups__list\"\r\n          onScroll={this.handleScroll}\r\n          ref={(el) => (this.groupListRef = el)}\r\n        >\r\n          {groups}\r\n        </div>\r\n        <CometChatCreateGroup\r\n          theme={this.props.theme}\r\n          lang={this.state.lang}\r\n          open={this.state.createGroup}\r\n          close={() => this.createGroupHandler(false)}\r\n          actionGenerated={this.createGroupActionHandler}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatGroupList.defaultProps = {\r\n  lang: Translator.getDefaultLanguage(),\r\n  theme: theme,\r\n  grouplist: [],\r\n};\r\n\r\nCometChatGroupList.propTypes = {\r\n  lang: PropTypes.string,\r\n  theme: PropTypes.object,\r\n  grouplist: PropTypes.arrayOf(PropTypes.shape(CometChat.Group)),\r\n};\r\n\r\nexport default CometChatGroupList;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAlElEQVRIS+3TQQ6AIAwEwPZl+g56kZeJB/5pmmBCjEIXIfEAV5Mdu1CmwYcH59MEqg3/s6IY40ZEi4j42gjwBCl8T8FeREIJgYA8nJkP55xOUjxmoCVcZRPQGm4CvoTDABEFy8vJLwWuCEVMgP7R7XmaJzEDrQgEPCB9F+26PK2Lmdeui1bb2LfvcEUoNIFqY8MrOgHJVToZIc83egAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFaADAAQAAAABAAAAFQAAAAAIGxIOAAACeklEQVQ4EaWUz2sTURDH3U3SNAoqJWIRPVQwURAv5uChl0DxUA8RwZANSPHir4Mg8eJ/UPxBD2L0aiXZkFM1EgkeQhEVJQj+OJlbFXPzEg+FJLt+Zrtbdp/5gfTB5M3Md+Y78+a9jbZryCqXywdxLyELyBHbti1N0zbQG+FweDWbzf5GH7k0FSmVSjkIHkE0w/4DvI3oyHF8s+ydUCh0JZfLvUQfurZJq9VqqN/vPyPRgOwbctUwjHdeFn7NNM0F9if4juq6/hj8hof7d+nAWRDedQmLHPG0n1ACKGLn8/nX8Xj8FLppWdZ1xnRnKzv463RaqVRODgaDz0AfI5HIPDMbBMOCVrPZnO50Op9oYo6OEzQgY9peTqdUvUl1i1ktTSKUzHQ6vUn8ZdRp5Jr4/Ms7/iJV3zD8735wnE53H8C/0tCiGqdzQVM4D1H5iwpOsiUHmVPjpNMputSQTRWcZLs5MoLA0pnhH6qJ/FMxEDnEkByIf6mQN9N1wLO1Wm23GjDK5jnFweaRdTXGIYXwKcD+bre7rAaMsR+SJ/dRUmM0cQDK1/IW9Qzv7hyv4JUa6LeJvcStr3L8F3wQGT8mutMpoB2NRrPYHYJrfP/L7qsIxDcajT0QFoXQBbRWqxUJBGE4nXpOiA70ej35ti8gG8ga0qZ7HaITFD/PqWbZ2+zHwGQ9TyaTF1OpVG/LVEg9J5dgkHSL5JSMxvVb7O/hLzIek0+7QKF7LhYg9hI8vsBO5/v4ozksjcZisZ+ZTKbrD2AUt4cRjyX1E4zSOVWB09wXnJOtJRKJ7I5JhcxPjLni3L4AO1k8qwd0WUBseMb+bf53nXq9vleS/gKeNA5lPSUj0AAAAABJRU5ErkJggg==\"","export const listItem = (props) => {\r\n\r\n    const selectedState = (props.selectedGroup && props.selectedGroup.guid === props.group.guid) ? {\r\n        backgroundColor: `${props.theme.backgroundColor.primary}`\r\n    } : {};\r\n\r\n    return {\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        justifyContent: \"left\",\r\n        alignItems: \"center\",\r\n        cursor: \"pointer\",\r\n        width: \"100%\",\r\n        padding: \"8px 16px\",\r\n        ...selectedState,\r\n        '&:hover': {\r\n            backgroundColor: `${props.theme.backgroundColor.primary}`\r\n        }\r\n    }\r\n}\r\n\r\nexport const listItemName = () => {\r\n\r\n    return {\r\n        maxWidth: \"calc(100% - 30px)\",\r\n        overflow: \"hidden\",\r\n        textOverflow: \"ellipsis\",\r\n        whiteSpace: \"nowrap\",\r\n        margin: \"0\"\r\n    }\r\n}\r\n\r\nexport const listItemIcon = () => {\r\n\r\n    return {\r\n        width: \"14px\",\r\n        height: \"auto\",\r\n        margin: \"0 8px\",\r\n    }\r\n}\r\n\r\nexport const itemThumbnailStyle = () => {\r\n\r\n    return {\r\n        display: \"inline-block\",\r\n        width: \"36px\",\r\n        height: \"36px\",\r\n        flexShrink: \"0\",\r\n    }\r\n}\r\n\r\nexport const itemDetailStyle = () => {\r\n\r\n    return {\r\n        width: \"calc(100% - 70px)\",\r\n        flexGrow: \"1\",\r\n        paddingLeft: \"16px\",\r\n        \"&[dir=rtl]\": {\r\n            paddingRight: \"16px\",\r\n            paddingLeft: \"0\",\r\n        }\r\n    }\r\n}\r\n\r\nexport const itemNameWrapperStyle = () => { \r\n\r\n    return {\r\n        fontSize: \"15px\",\r\n        fontWeight: \"600\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        width: \"100%\",\r\n        margin: \"0\",\r\n    }\r\n}\r\n\r\nexport const itemDescStyle = (props) => { \r\n\r\n    return {\r\n        borderBottom: `1px solid ${props.theme.borderColor.primary}`,\r\n        padding: \"0 0 5px 0\",\r\n        fontSize: \"12px\",\r\n        color: `${props.theme.color.helpText}`,\r\n        \"&:hover\": {\r\n            borderBottom: `1px solid ${props.theme.borderColor.primary}`,\r\n        }\r\n    }\r\n}","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\nimport { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport { CometChatAvatar } from \"../../Shared\";\r\n\r\nimport { theme } from \"../../../resources/theme\";\r\nimport Translator from \"../../../resources/localization/translator\";\r\n\r\nimport {\r\n  listItem,\r\n  listItemIcon,\r\n  itemThumbnailStyle,\r\n  itemDetailStyle,\r\n  itemNameWrapperStyle,\r\n  itemDescStyle,\r\n  listItemName  \r\n} from \"./style\";\r\n\r\nimport shieldIcon from \"./resources/shield.png\";\r\nimport lockIcon from \"./resources/lock.png\";\r\n\r\nclass CometChatGroupListItem extends React.PureComponent {\r\n\r\n  toggleTooltip = (event, flag) => {\r\n\r\n    const elem = event.target;\r\n\r\n    const scrollWidth = elem.scrollWidth;\r\n    const clientWidth = elem.clientWidth;\r\n\r\n    if (scrollWidth <= clientWidth) {\r\n      return false;\r\n    }\r\n\r\n    if (flag) {\r\n      elem.setAttribute(\"title\", elem.textContent);\r\n    } else {\r\n      elem.removeAttribute(\"title\");\r\n    }\r\n  }\r\n\r\n  render() {\r\n\r\n    let groupTypeIcon = null;\r\n    if (this.props.group.type === \"private\") {\r\n\r\n      groupTypeIcon = (<img src={shieldIcon} alt={Translator.translate(\"PRIVATE_GROUP\", this.props.lang)} />);\r\n\r\n    } else if (this.props.group.type === \"password\") {\r\n\r\n      groupTypeIcon = (<img src={lockIcon} alt={Translator.translate(\"PROTECTED_GROUP\", this.props.lang)} />);\r\n    }\r\n\r\n    return (\r\n      <div css={listItem(this.props)} className=\"list__item\" onClick={() => this.props.clickHandler(this.props.group)}>\r\n        <div css={itemThumbnailStyle()} className=\"list__item__thumbnail\">\r\n          <CometChatAvatar group={this.props.group} />\r\n        </div>\r\n        <div css={itemDetailStyle()} className=\"list__item__details\" dir={Translator.getDirection(this.props.lang)}>\r\n          <div css={itemNameWrapperStyle()} className=\"item__details__name\"\r\n            onMouseEnter={event => this.toggleTooltip(event, true)}\r\n            onMouseLeave={event => this.toggleTooltip(event, false)}>\r\n            <p css={listItemName()}>{this.props.group.name}</p>\r\n            <div css={listItemIcon()}>{groupTypeIcon}</div>\r\n          </div>\r\n          <div css={itemDescStyle(this.props)} className=\"item__details__desc\">{`${this.props.group.membersCount} ${Translator.translate(\"MEMBERS\", this.props.lang)}`}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatGroupListItem.defaultProps = {\r\n  lang: Translator.getDefaultLanguage(),\r\n  theme: theme,\r\n  group: {},\r\n  selectedGroup: {},\r\n  clickHandler: () => { }\r\n};\r\n\r\nCometChatGroupListItem.propTypes = {\r\n  lang: PropTypes.string,\r\n  theme: PropTypes.object,\r\n  selectedGroup: PropTypes.oneOfType([PropTypes.object, PropTypes.shape(CometChat.Group)]),\r\n  group: PropTypes.oneOfType([PropTypes.object, PropTypes.shape(CometChat.Group)]),\r\n  clickHandler: PropTypes.func\r\n}\r\n\r\nexport default CometChatGroupListItem;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAUCAYAAABroNZJAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEaADAAQAAAABAAAAFAAAAABGcxxxAAACBElEQVQ4Ee2Uy0sbURSHnUliArYBISgGBBHEhZQuXLmoNFQIRETGSMhDREGk4EI3dilCpVi6qAsfa23zIEIgCwPZiV2UQkBFEUM3KgU3gbYSIYEk43eHziKdZPAP8MLh3Ht+jzlz596RWhqMRCLxslarRYAmiE4iK8tyzOl0Hvh8vvL/EkkvpFKpjlKpNKWq6gy1F5IkCXKauCaC1LvJv6knybvhcPg7WRtSNBrtBfgIaZxsJX/jqV8dDse+oih/BIuaHI/H3zCdZq6Q2+BeMl+LRCJRKRaLnbDoorhF7IVCoStITUcymXxWrVYVXncO0rDFYhkSnaiI39Hep6bKBkA6nX5eLBbv0L6VBc6k0oBnWiqXy5oGraSZmLIfAT6ZGDdJZnM5JqrdCJlXbDabpuG81MTGimPdZy4xonxiTUMTNzJdnEN5xUlsNVKbV2hgRKB2u/1cdLKPUV+lUllrLqlHuCoDaFbo4off7/8lc9y//DNa5grsZDIZ0/2B44N/RJS4qLPCXvsV5HI5Wz6f32Q9j/uxAIPB4Kkg6CObzbYVCoX34Et0ccPGjgUCgTOBayY6kes+CWGbdTt5w+VyrXq93nvqo6w3iR5Mdq1W6yIGf3VdnYko0m47aZ2YQ3BL/on4NfmCDhf4VRwyrxsGEx3FbBCTzxj0U/vgdru3PB5Pw9v+AMlK0jim04IbAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAUCAYAAAC9BQwsAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAADqADAAQAAAABAAAAFAAAAACXoLbZAAABXklEQVQ4EeWTP0vEQBDFb7MLJxZXaKf1YSXWfgIbsVOS2AoiCBYKdv6pBFErFUEQLJJgIWIT8Cysr/MLyHViKSnVJP4mmhADuRNbFyZvZ9572c3sRjUqIwiCuTRNV4kppVQC/Ugcua57X5Za5cT3/fMkSW4xjWK6BANinOjAHZS1Kk8gFhBcYdjn7Zt5XRDuDG5Zaz1j23ZHasWKENuY7qomETmOswLXjeN4S3IZmTEMwybEBHH9Vf75pM570xuqkzmTGaMoakNois85UUXLsoRr0bwx4TIjWxiWBHMsWDMyju/MtMU31ohry4qOTcMesprgK/FWox6i3iIe2Pa6YXKBqUmyw7zfVhucsaFRS+CpGNvEHi3fBQcOdjiCedGSbjJ5H+j4FqD/YKr/3Jz/YpSfVe7pb4ems9mB9nDMe573Ava9ABybwTSLric3YY3kGDwBix+7ZvmU+pMxZuMTSuKTUiOk1nUAAAAASUVORK5CYII=\"","export const modalWrapperStyle = (props) => {\r\n\r\n    const show = (props.open) ? {\r\n        display: \"block\",\r\n    } : {};\r\n\r\n    const mq = [`@media (min-width : 320px) and (max-width: 767px)`];\r\n\r\n    return {\r\n        minWidth: \"350px\",\r\n        minHeight: \"450px\",\r\n        width: \"50%\",\r\n        height: \"40%\",\r\n        overflow: \"hidden\",\r\n        backgroundColor: `${props.theme.backgroundColor.white}`,\r\n        position: \"fixed\",\r\n        left: \"50%\",\r\n        top: \"50%\",\r\n        transform: \"translate(-50%, -50%)\",\r\n        zIndex: \"1002\",\r\n        margin: \"0 auto\",\r\n        boxShadow: \"rgba(20, 20, 20, 0.2) 0 16px 32px, rgba(20, 20, 20, 0.04) 0 0 0 1px\",\r\n        borderRadius: \"12px\",\r\n        display: \"none\",\r\n        ...show,\r\n        [mq[0]]: {\r\n            width: \"100%\",\r\n            height: \"100%\"\r\n        }\r\n    }\r\n}\r\n\r\nexport const modalCloseStyle = (img) => {\r\n\r\n    return {\r\n        position: \"absolute\",\r\n        width: \"32px\",\r\n        height: \"32px\",\r\n        borderRadius: \"50%\",\r\n        top: \"16px\",\r\n        right: \"16px\",\r\n        background: `url(${img}) center center no-repeat`,\r\n        cursor: \"pointer\",\r\n    }\r\n}\r\n\r\nexport const modalBodyStyle = () => {\r\n\r\n    return {\r\n        padding: \"24px\",\r\n        height: \"100%\",\r\n        width: \"100%\"\r\n    }\r\n}\r\n\r\nexport const modalCaptionStyle = (dir) => {\r\n\r\n    const textAlignStyle = (dir === \"rtl\") ? {\r\n        textAlign: \"right\",\r\n        paddingRight: \"32px\",\r\n    } : {\r\n        textAlign: \"left\",\r\n    };\r\n\r\n    return {\r\n        fontSize: \"20px\",\r\n        marginBottom: \"16px\",\r\n        fontWeight: \"bold\",\r\n        ...textAlignStyle,\r\n        width: \"100%\",\r\n    }\r\n}\r\n\r\nexport const modalListStyle = (props) => {\r\n\r\n    return {\r\n        width: \"100%\",\r\n        height: \"calc(100% - 35px)\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        justifyContent: \"flex-start\",\r\n        alignItems: \"flex-start\",\r\n    }\r\n}\r\n\r\nexport const listHeaderStyle = (props) => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        justifyContent: \"flex-start\",\r\n        alignItems: \"center\",\r\n        fontWeight: \"bold\",\r\n        padding: \"8px\",\r\n        width: \"100%\",\r\n        border: `1px solid ${props.theme.borderColor.primary}`,\r\n\r\n    }\r\n}\r\n\r\nexport const listStyle = (props) => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        justifyContent: \"flex-start\",\r\n        alignItems: \"flex-start\",\r\n        width: \"100%\",\r\n        height: \"calc(100% - 33px)\",\r\n        overflowY: \"auto\",\r\n        border: `1px solid ${props.theme.borderColor.primary}`,\r\n    }\r\n}\r\n\r\nexport const nameColumnStyle = (props, editAccess) => {\r\n\r\n    const mq = props.theme.breakPoints.map(x => `@media ${x}`);\r\n\r\n    const widthProp = (editAccess === null) ? {\r\n\r\n        width: \"calc(100% - 180px)\",\r\n        [mq[1]]: {\r\n            width: \"calc(100% - 140px)\",\r\n        },\r\n        [mq[2]]: {\r\n            width: \"calc(100% - 180px)\",\r\n        }\r\n\r\n    } : {\r\n        width: \"calc(100% - 260px)\",\r\n        [mq[1]]: {\r\n            width: \"calc(100% - 220px)\",\r\n        },\r\n        [mq[2]]: {\r\n            width: \"calc(100% - 260px)\",\r\n        },\r\n        [mq[3]]: {\r\n            width: \"calc(100% - 240px)\",\r\n        }\r\n    };\r\n\r\n    return {\r\n        ...widthProp\r\n    }\r\n}\r\n\r\nexport const scopeColumnStyle = (props) => {\r\n\r\n    const mq = props.theme.breakPoints.map(x => `@media ${x}`);\r\n\r\n    return {\r\n        width: \"180px\",\r\n        marginRight: \"8px\",\r\n        [mq[1]]: {\r\n            width: \"140px\"\r\n        },\r\n        [mq[2]]: {\r\n            width: \"180px\",\r\n        },\r\n        [mq[3]]: {\r\n            width: \"120px\",\r\n        }\r\n    }\r\n}\r\n\r\nexport const actionColumnStyle = (props) => {\r\n\r\n    const mq = props.theme.breakPoints.map(x => `@media ${x}`);\r\n\r\n    return {\r\n        width: \"70px\",\r\n        [mq[1]]: {\r\n            width: \"40px\"\r\n        },\r\n        [mq[2]]: {\r\n            width: \"40px\"\r\n        }\r\n    }\r\n}","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\"\r\nimport PropTypes from \"prop-types\";\r\nimport { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport { CometChatViewGroupMemberListItem } from \"../../Groups\";\r\nimport { CometChatBackdrop } from \"../../Shared\";\r\nimport GroupDetailContext from \"../CometChatGroupDetails/context\";\r\n\r\nimport { theme } from \"../../../resources/theme\";\r\nimport Translator from \"../../../resources/localization/translator\";\r\n\r\nimport {\r\n    modalWrapperStyle,\r\n    modalCloseStyle,\r\n    modalBodyStyle,\r\n    modalCaptionStyle,\r\n    modalListStyle,\r\n    listHeaderStyle,\r\n    listStyle,\r\n    nameColumnStyle,\r\n    scopeColumnStyle,\r\n    actionColumnStyle\r\n} from \"./style\";\r\n\r\nimport clearIcon from \"./resources/close.png\";\r\n\r\nclass CometChatViewGroupMemberList extends React.Component {\r\n\r\n    static contextType = GroupDetailContext;\r\n\r\n    constructor(props) {\r\n\r\n        super(props);\r\n\r\n        this.mq = window.matchMedia(props.theme.breakPoints[1]);\r\n        \r\n        if (props.hasOwnProperty(\"widgetsettings\") && props.widgetsettings) {\r\n            const parentnode = (props.widgetsettings.hasOwnProperty(\"parentNode\")) ? props.widgetsettings.parentNode : null;\r\n            if (parentnode) {\r\n                const window = parentnode.querySelector('iframe').contentWindow;\r\n                this.mq = window.matchMedia(props.theme.breakPoints[1]);\r\n            }\r\n        }\r\n        \r\n        let userColumnTitle = Translator.translate(\"NAME\", props.lang);\r\n        if (this.mq.matches) {\r\n            userColumnTitle = Translator.translate(\"AVATAR\", props.lang)\r\n        }\r\n\r\n        this.state = {\r\n            userColumnTitle: userColumnTitle\r\n        }\r\n    }\r\n\r\n    handleScroll = (e) => {\r\n\r\n        const bottom = Math.round(e.currentTarget.scrollHeight - e.currentTarget.scrollTop) === Math.round(e.currentTarget.clientHeight);\r\n        if (bottom) {\r\n            this.props.actionGenerated(\"fetchGroupMembers\");\r\n        }\r\n    }\r\n\r\n    updateMembers = (action, member, scope) => {\r\n\r\n        switch(action) {\r\n            case \"ban\":\r\n                this.banMember(member);\r\n                break;\r\n            case \"kick\":\r\n                this.kickMember(member);\r\n                break;\r\n            case \"changescope\":\r\n                this.changeScope(member, scope);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    banMember = (memberToBan) => {\r\n\r\n        const guid = this.props.item.guid;\r\n        CometChat.banGroupMember(guid, memberToBan.uid).then(response => {\r\n            \r\n            if(response) {\r\n                console.log(\"banGroupMember success with response: \", response);\r\n                this.props.actionGenerated(\"removeGroupParticipants\", memberToBan);\r\n            }\r\n\r\n        }).catch(error => {\r\n            console.log(\"banGroupMember failed with error: \", error);\r\n        });\r\n    }\r\n\r\n    kickMember = (memberToKick) => {\r\n\r\n        const guid = this.props.item.guid;\r\n        CometChat.kickGroupMember(guid, memberToKick.uid).then(response => {\r\n            \r\n            if(response) {\r\n                console.log(\"kickGroupMember success with response: \", response);\r\n                this.props.actionGenerated(\"removeGroupParticipants\", memberToKick);\r\n            }\r\n            \r\n        }).catch(error => {\r\n            console.log(\"kickGroupMember failed with error: \", error);\r\n        });\r\n    }\r\n\r\n    changeScope = (member, scope) => {\r\n\r\n        const guid = this.props.item.guid;\r\n\r\n        CometChat.updateGroupMemberScope(guid, member.uid, scope).then(response => {\r\n            \r\n            if(response) {\r\n                console.log(\"updateGroupMemberScope success with response: \", response);\r\n                const updatedMember = Object.assign({}, member, {scope: scope});\r\n                this.props.actionGenerated(\"updateGroupParticipants\", updatedMember);\r\n            }\r\n            \r\n        }).catch(error => {\r\n            console.log(\"updateGroupMemberScope failed with error: \", error);\r\n        });\r\n    }\r\n\r\n    setUserColumnTitle = (editAccess) => {\r\n\r\n        if (editAccess !== null && this.mq.matches) {\r\n            this.setState({ userColumnTitle: Translator.translate(\"AVATAR\", this.props.lang) });\r\n        } else {\r\n            this.setState({ userColumnTitle: Translator.translate(\"NAME\", this.props.lang) });\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        const group = this.context;\r\n\r\n        const membersList = [...group.memberlist];\r\n\r\n        const groupMembers = membersList.map((member, key) => {\r\n        \r\n            return (<CometChatViewGroupMemberListItem \r\n                theme={this.props.theme}\r\n                key={key} \r\n                member={member}\r\n                item={this.props.item}\r\n                lang={this.props.lang}\r\n                widgetsettings={this.props.widgetsettings}\r\n                actionGenerated={this.updateMembers} />);\r\n        });\r\n\r\n        let editAccess = null;\r\n        if(this.props.item.scope !== CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\r\n\r\n            editAccess = (\r\n                <React.Fragment>\r\n                    <div css={actionColumnStyle(this.props)} className=\"ban\">{Translator.translate(\"BAN\", this.props.lang)}</div>\r\n                    <div css={actionColumnStyle(this.props)} className=\"kick\">{Translator.translate(\"KICK\", this.props.lang)}</div>\r\n                </React.Fragment>\r\n            );\r\n\r\n            if(this.props.hasOwnProperty(\"widgetsettings\") && this.props.widgetsettings && this.props.widgetsettings.hasOwnProperty(\"main\")) {\r\n\r\n                //if kick_ban_members && promote_demote_members are disabled in chatwidget\r\n                if(this.props.widgetsettings.main.hasOwnProperty(\"allow_kick_ban_members\") \r\n                && this.props.widgetsettings.main[\"allow_kick_ban_members\"] === false) {\r\n\r\n                    editAccess = null;\r\n                }\r\n            }\r\n        }\r\n\r\n        this.mq.addListener(editAccess => this.setUserColumnTitle(editAccess));\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <CometChatBackdrop show={this.props.open} clicked={this.props.close} />\r\n                <div css={modalWrapperStyle(this.props)} className=\"modal__viewmembers\">\r\n                    <span css={modalCloseStyle(clearIcon)} className=\"modal__close\" onClick={this.props.close} title={Translator.translate(\"CLOSE\", this.props.lang)}></span>\r\n                    <div css={modalBodyStyle()} className=\"modal__body\">\r\n                        <div css={modalCaptionStyle(Translator.getDirection(this.props.lang))} className=\"modal__title\">{Translator.translate(\"GROUP_MEMBERS\", this.props.lang)}</div>\r\n                        <div css={modalListStyle()} className=\"modal__content\">\r\n                            <div css={listHeaderStyle(this.props)} className=\"content__header\">\r\n                                <div css={nameColumnStyle(this.props, editAccess)} className=\"name\">{this.state.userColumnTitle}</div>\r\n                                <div css={scopeColumnStyle(this.props)} className=\"scope\">{Translator.translate(\"SCOPE\", this.props.lang)}</div>\r\n                                {editAccess}\r\n                            </div>\r\n                            <div css={listStyle(this.props)} className=\"content__list\" onScroll={this.handleScroll}>\r\n                                {groupMembers}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatViewGroupMemberList.defaultProps = {\r\n    lang: Translator.getDefaultLanguage(),\r\n    theme: theme,\r\n    userColumnTitle: \"\",\r\n};\r\n\r\nCometChatViewGroupMemberList.propTypes = {\r\n    lang: PropTypes.string,\r\n    theme: PropTypes.object,\r\n    userColumnTitle: PropTypes.string\r\n}\r\n\r\nexport default CometChatViewGroupMemberList;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFaADAAQAAAABAAAAFQAAAAAIGxIOAAACcElEQVQ4EZ2UPYgTQRiGs3MJhoAHBoNgIQd3vYiVjaV2IhHCZqMcWFgqCqcQ9U4Uf++wsFCw8DfJhuUKUUhhk0KwUlA4sFA4EJSAhAsWggSzPt+6EyZze6dxYJj53vf93vl2ftZJbdLCMFSNRmOP4zhT9Dy9C7bquu475uFGqU4SgdF2kqskeow7bA34V7Aa3I1KpbK2jreBer1eAbtLn7S5hHhNKXWiXC4vm5wyAyqcJ67R/8VQUrdRbUDenAS6DT8fYhbBI02MM8b763qeF0heZOr7/s7BYPCRODeOmaX9nslkZkql0rfo86nwkm3I6s/pvpUYheBP6M8sbrLf718QTLVarS2YupYgBfaaz/HA71jcEvAs2BsLT7HQ0Xa7nVa9Xm8/5NYEwVW5CbRTcJExSYvEc/H+X7ZzKCTf6XT2KYTTNikxggm4x9qY+SEqPBsbPkAycnMMj+k0B1QwgJGpNm42myu8ohcssBdsM0MppiCrrXsRpjMV3sTwfRAEu/j0t8RLJp8wlwehPicQEYTBdV7LeflkTvYTlcpdPAd+a6Mc8VO5XK6N6KctgryHQdXYwwy6mjZGf9/OIf5B3qvo8pO4zF4cMUUY3Cb+Ar7IODwU8F/Ep8FnGE/Shw3OpxAvLQjuFzmwwwgntIL5GT03x1hj312R9OEWZBJVwEF8YJUrAvxvI3+Bg5Sn/ufty4RVHP4BTxnl1zdWw/AhX31cJ5l7FXLSx9gKqXigBX8ZRTdvGop++Oszk7nsu9nja2AH4z00aXnjclgtCqiydSsjJEGiqRZx4QvczwOYTIHlWaDLfDWbzb4sFotdrbPH34IuDwr79+D1AAAAAElFTkSuQmCC\"","export const modalRowStyle = (props) => {\r\n\r\n    return {\r\n        borderBottom: `1px solid ${props.theme.borderColor.primary}`,\r\n        display: \"flex\",\r\n        width: \"100%\",\r\n        fontSize: \"14px\",\r\n        flexDirection: \"row\",\r\n        justifyContent: \"flex-start\",\r\n        alignItems: \"center\",\r\n        padding: \"8px\",\r\n    }\r\n}\r\n\r\nexport const nameColumnStyle = (props, participantView) => {\r\n\r\n    const mq = props.theme.breakPoints.map(x => `@media ${x}`);\r\n\r\n    const widthProp = (participantView) ? {\r\n\r\n        width: \"calc(100% - 180px)\",\r\n        [mq[1]]: {\r\n            width: \"calc(100% - 140px)\",\r\n        },\r\n        [mq[2]]: {\r\n            width: \"calc(100% - 180px)\",\r\n        }\r\n\r\n    } : {\r\n        width: \"calc(100% - 300px)\",\r\n        [mq[1]]: {\r\n            width: \"calc(100% - 220px)\",\r\n        },\r\n        [mq[2]]: {\r\n            width: \"calc(100% - 260px)\",\r\n        },\r\n        [mq[3]]: {\r\n            width: \"calc(100% - 240px)\",\r\n        }\r\n    };\r\n\r\n    return {\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        justifyContent: \"flex-start\",\r\n        alignItems: \"center\",\r\n        ...widthProp\r\n    }\r\n}\r\n\r\nexport const avatarStyle = (props, participantView) => {\r\n\r\n    const mq = props.theme.breakPoints.map(x => `@media ${x}`);\r\n\r\n    const marginProp = (participantView) ? {\r\n        marginRight: \"8px\",\r\n    } : {\r\n        marginRight: \"8px\",\r\n        [mq[1]]: {\r\n            marginRight: \"0\",\r\n        }\r\n    };\r\n\r\n    return {\r\n        width: \"36px\",\r\n        height: \"36px\",\r\n        flexShrink: \"0\",\r\n        ...marginProp\r\n    }\r\n}\r\n\r\nexport const nameStyle = (props, participantView) => {\r\n\r\n    const mq = props.theme.breakPoints.map(x => `@media ${x}`);\r\n\r\n    const widthProp = (participantView) ? {\r\n        width: \"100%\"\r\n    } : {\r\n        width: \"calc(100% - 50px)\"\r\n    };\r\n\r\n    const displayProp = (participantView) ? {\r\n        display: \"inline\",\r\n        [mq[1]]: {\r\n            display: \"inline\"\r\n        }\r\n\r\n    } : {\r\n        display: \"inline\",\r\n        [mq[1]]: {\r\n            display: \"none\"\r\n        }\r\n    }\r\n    \r\n    return {\r\n        margin: \"8px 0\",\r\n        overflow: \"hidden\",\r\n        textOverflow: \"ellipsis\",\r\n        whiteSpace: \"nowrap\",\r\n        ...widthProp,\r\n        ...displayProp\r\n    }\r\n}\r\n\r\nexport const scopeColumnStyle = (props) => {\r\n\r\n    const mq = props.theme.breakPoints.map(x => `@media ${x}`);\r\n\r\n    return {\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"flex-start\",\r\n        width: \"180px\",\r\n        marginRight: \"8px\",\r\n        \"img\": {\r\n            width: \"20px\",\r\n            height: \"20px\",\r\n            cursor: \"pointer\",\r\n        },\r\n        [mq[1]]: {\r\n            width: \"140px\"\r\n        },\r\n        [mq[2]]: {\r\n            width: \"180px\",\r\n        },\r\n        [mq[3]]: {\r\n            width: \"120px\",\r\n        }\r\n    }\r\n}\r\n\r\nexport const scopeWrapperStyle = () => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        width: \"100%\",\r\n        transition: \"opacity .1s linear\",\r\n        \"img\": {\r\n            margin: \"0px 4px\",\r\n        }\r\n    }\r\n}\r\n\r\nexport const scopeSelectionStyle = () => {\r\n\r\n    return {\r\n        width: \"65%\",\r\n        border: \"0\",\r\n        boxShadow: \"rgba(20, 20, 20, 0.04) 0 0 0 1px inset\",\r\n        borderRadius: \"8px\",\r\n        backgroundColor: `rgba(20, 20, 20, 0.04)`,\r\n        padding: \"6px\",\r\n        color: `rgba(20, 20, 20, 0.6)`,\r\n        float: \"left\",\r\n    }\r\n}\r\n\r\nexport const roleStyle = () => {\r\n\r\n    return {\r\n        marginRight: \"8px\",\r\n        fontSize: \"12px\",\r\n        maxWidth: \"calc(100% - 20px)\"\r\n    }\r\n}\r\n\r\nexport const actionColumnStyle = (props) => {\r\n\r\n    const mq = props.theme.breakPoints.map(x => `@media ${x}`);\r\n\r\n    return {\r\n        width: \"70px\",\r\n        \"img\": {\r\n            width: \"20px\",\r\n            height: \"20px\",\r\n            cursor: \"pointer\",\r\n        },\r\n        \"span\": {\r\n            width: \"100%\",\r\n            display: \"inline-block\"\r\n        },\r\n        [mq[1]]: {\r\n            width: \"40px\"\r\n        },\r\n        [mq[2]]: {\r\n            width: \"40px\"\r\n        }\r\n    }\r\n}","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\"\r\nimport PropTypes from \"prop-types\";\r\nimport { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport { CometChatAvatar, CometChatUserPresence } from \"../../Shared\";\r\nimport GroupDetailContext from \"../CometChatGroupDetails/context\";\r\n\r\nimport Translator from \"../../../resources/localization/translator\";\r\n\r\nimport {\r\n    modalRowStyle,\r\n    nameColumnStyle,\r\n    avatarStyle,\r\n    nameStyle,\r\n    roleStyle,\r\n    scopeColumnStyle,\r\n    actionColumnStyle,\r\n    scopeWrapperStyle,\r\n    scopeSelectionStyle\r\n} from \"./style\";\r\n\r\nimport scopeIcon from \"./resources/edit.png\";\r\nimport doneIcon from \"./resources/done.png\";\r\nimport clearIcon from \"./resources/close.png\";\r\nimport banIcon from \"./resources/block.png\";\r\nimport kickIcon from \"./resources/delete.png\";\r\n\r\nclass CometChatViewGroupMemberListItem extends React.Component {\r\n\r\n    static contextType = GroupDetailContext;\r\n\r\n    constructor(props) {\r\n\r\n        super(props);\r\n\r\n        this.changeScopeDropDown = (\r\n            <select \r\n            className=\"members-scope-select\"\r\n            onChange={this.scopeChangeHandler}\r\n            defaultValue={this.props.member.scope}></select>\r\n        )\r\n\r\n        this.state = {\r\n            showChangeScope: false,\r\n            scope: null\r\n        }\r\n\r\n        this.roles = {}\r\n        this.roles[CometChat.GROUP_MEMBER_SCOPE.ADMIN] = Translator.translate(\"ADMINISTRATOR\", props.lang);\r\n        this.roles[CometChat.GROUP_MEMBER_SCOPE.MODERATOR] = Translator.translate(\"MODERATOR\", props.lang);\r\n        this.roles[CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT] = Translator.translate(\"PARTICIPANT\", props.lang);\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n\r\n        if (prevProps.lang !== this.props.lang) {\r\n\r\n            this.roles[CometChat.GROUP_MEMBER_SCOPE.ADMIN] = Translator.translate(\"ADMINISTRATOR\", this.props.lang);\r\n            this.roles[CometChat.GROUP_MEMBER_SCOPE.MODERATOR] = Translator.translate(\"MODERATOR\", this.props.lang);\r\n            this.roles[CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT] = Translator.translate(\"PARTICIPANT\", this.props.lang);\r\n        }\r\n    }\r\n\r\n    toggleChangeScope = (flag) => {\r\n        this.setState({ showChangeScope: flag });\r\n    }\r\n\r\n    scopeChangeHandler = (event) => {\r\n        this.setState({scope: event.target.value});\r\n    }\r\n\r\n    updateMemberScope = () => {\r\n        this.props.actionGenerated(\"changescope\", this.props.member, this.state.scope);\r\n        this.toggleChangeScope();\r\n    }\r\n\r\n    toggleTooltip = (event, flag) => {\r\n\r\n        const elem = event.currentTarget;\r\n        \r\n        if (elem.classList.contains(\"name\")) {\r\n\r\n            const scrollWidth = elem.scrollWidth;\r\n            const clientWidth = elem.clientWidth;\r\n            \r\n            if (scrollWidth <= clientWidth) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        if(flag) {\r\n            elem.setAttribute(\"title\", this.props.member.name);\r\n        } else {\r\n            elem.removeAttribute(\"title\");\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        const group = this.context;\r\n\r\n        let editClassName = \"\";\r\n    \r\n        let name = this.props.member.name;\r\n        let scope = (<span css={roleStyle()}>{this.roles[this.props.member.scope]}</span>);\r\n        let changescope = null;\r\n        let ban = (<img src={banIcon} alt={Translator.translate(\"BAN\", this.props.lang)} onClick={() => {this.props.actionGenerated(\"ban\", this.props.member)}} />);\r\n        let kick = (<img src={kickIcon} alt={Translator.translate(\"KICK\", this.props.lang)} onClick={() => {this.props.actionGenerated(\"kick\", this.props.member)}} />);\r\n        \r\n\r\n        if(this.state.showChangeScope) {\r\n\r\n            let options = (\r\n                <React.Fragment>\r\n                    <option value={CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT}>{this.roles[CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT]}</option>\r\n                    <option value={CometChat.GROUP_MEMBER_SCOPE.MODERATOR}>{this.roles[CometChat.GROUP_MEMBER_SCOPE.MODERATOR]}</option>\r\n                    <option value={CometChat.GROUP_MEMBER_SCOPE.ADMIN}>{this.roles[CometChat.GROUP_MEMBER_SCOPE.ADMIN]}</option>\r\n                </React.Fragment>\r\n            );\r\n\r\n            if (this.props.item.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR\r\n                && this.props.member.scope === CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\r\n\r\n                options = (\r\n                    <React.Fragment>\r\n                        <option value={CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT}>{this.roles[CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT]}</option>\r\n                        <option value={CometChat.GROUP_MEMBER_SCOPE.MODERATOR}>{this.roles[CometChat.GROUP_MEMBER_SCOPE.MODERATOR]}</option>\r\n                    </React.Fragment>\r\n                );\r\n            }\r\n\r\n            changescope = (\r\n                <div css={scopeWrapperStyle()} className=\"scope__wrapper\">\r\n                    <select \r\n                    css={scopeSelectionStyle()}\r\n                    className=\"scope__select\"\r\n                    onChange={this.scopeChangeHandler}\r\n                    defaultValue={this.props.member.scope}>{options}</select>\r\n                    <img src={doneIcon} alt={Translator.translate(\"CHANGE_SCOPE\", this.props.lang)} onClick={this.updateMemberScope} />\r\n                    <img src={clearIcon} alt={Translator.translate(\"CHANGE_SCOPE\", this.props.lang)} onClick={() => this.toggleChangeScope(false)} />\r\n                </div>\r\n            );\r\n\r\n        } else {\r\n\r\n            if(this.props.item.scope === CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\r\n                changescope = scope;\r\n            } else {\r\n                changescope = (\r\n                    <React.Fragment>\r\n                        {scope}\r\n                        <img src={scopeIcon} alt={Translator.translate(\"CHANGE_SCOPE\", this.props.lang)} onClick={() => this.toggleChangeScope(true)} />\r\n                    </React.Fragment>\r\n                );\r\n            }\r\n        }\r\n\r\n        //disable change scope, kick, ban of group owner\r\n        if(this.props.item.owner === this.props.member.uid) {\r\n            scope = (<span css={roleStyle()}>{Translator.translate(\"OWNER\", this.props.lang)}</span>);\r\n            changescope = scope;\r\n            ban = null;\r\n            kick = null;\r\n        }\r\n\r\n        //disable change scope, kick, ban of self\r\n        if(group.loggedinuser.uid === this.props.member.uid) {\r\n            name = Translator.translate(\"YOU\", this.props.lang);\r\n            changescope = scope;\r\n            ban = null;\r\n            kick = null;\r\n        }\r\n\r\n        //if the loggedin user is moderator, don't allow to change scope, ban, kick group moderators or administrators\r\n        if(this.props.item.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR \r\n        && (this.props.member.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN || this.props.member.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR)) {\r\n            changescope = scope;\r\n            ban = null;\r\n            kick = null;\r\n        }\r\n\r\n        //if the loggedin user is administrator but not group owner, don't allow to change scope, ban, kick group administrators\r\n        if(this.props.item.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN\r\n        && this.props.item.owner !== group.loggedinuser.uid \r\n        && this.props.member.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN) {\r\n            changescope = scope;\r\n            ban = null;\r\n            kick = null;\r\n        }\r\n        \r\n        let editAccess = null;\r\n        //if the loggedin user is participant, don't show change scope, ban, kick group members\r\n        if(this.props.item.scope === CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\r\n            editAccess = null;\r\n            editClassName = \"true\";\r\n        } else {\r\n\r\n            editAccess = (\r\n                <React.Fragment>\r\n                    <div css={actionColumnStyle(this.props)} className=\"ban\"><span>{ban}</span></div>\r\n                    <div css={actionColumnStyle(this.props)} className=\"kick\"><span>{kick}</span></div>\r\n                </React.Fragment>\r\n            );\r\n\r\n            if(this.props.hasOwnProperty(\"widgetsettings\") && this.props.widgetsettings && this.props.widgetsettings.hasOwnProperty(\"main\")) {\r\n    \r\n                //if kick_ban_members is disabled in chatwidget\r\n                if (this.props.widgetsettings.main.hasOwnProperty(\"allow_kick_ban_members\")\r\n                && this.props.widgetsettings.main[\"allow_kick_ban_members\"] === false) {\r\n                    editAccess = null;\r\n                }\r\n\r\n                //if promote_demote_members is disabled in chatwidget\r\n                if (this.props.widgetsettings.main.hasOwnProperty(\"allow_promote_demote_members\")\r\n                && this.props.widgetsettings.main[\"allow_promote_demote_members\"] === false) {\r\n                    changescope = scope;\r\n                }\r\n            }\r\n        }\r\n\r\n        let userPresence = (\r\n            <CometChatUserPresence\r\n            widgetsettings={this.props.widgetsettings}\r\n            status={this.props.member.status}\r\n            borderColor={this.props.theme.borderColor.primary} />\r\n        );\r\n        \r\n        return (\r\n            <div css={modalRowStyle(this.props)} className=\"content__row\">\r\n                <div css={nameColumnStyle(this.props, editClassName)} className=\"userinfo\">\r\n                    <div css={avatarStyle(this.props, editClassName)} className=\"thumbnail\"\r\n                    onMouseEnter={event => this.toggleTooltip(event, true)}\r\n                    onMouseLeave={event => this.toggleTooltip(event, false)}>\r\n                        <CometChatAvatar user={this.props.member} />\r\n                        {userPresence}\r\n                    </div>\r\n                    <div css={nameStyle(this.props, editClassName)} className=\"name\"\r\n                    onMouseEnter={event => this.toggleTooltip(event, true)}\r\n                    onMouseLeave={event => this.toggleTooltip(event, false)}>{name}</div>\r\n                </div>\r\n                <div css={scopeColumnStyle(this.props)} className=\"scope\">{changescope}</div>\r\n                {editAccess}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatViewGroupMemberListItem.defaultProps = {\r\n    lang: Translator.getDefaultLanguage(),\r\n};\r\n\r\nCometChatViewGroupMemberListItem.propTypes = {\r\n    lang: PropTypes.string,\r\n}\r\n\r\nexport default CometChatViewGroupMemberListItem;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAB6klEQVRIS7VVwU0jQRCs3offl8HhCIAIuAyAp6ctcY4AHAEQASYCg+QeP4EIuAyOi+DsDPj6YTfq1YyZXXt27YdbWsnaHVdVd1f3EA4cdGB8tBKIyG8AZwBOwmOaPsLzysxvTSKzBN77C1V9AHDUkuWMiIbOuddt57YSiMgIwHX4w1xVR0T0h5lNOabT6dFyubwgohsAP+0dEY2cc8M6yQZBCq6qw36/b2TZEJE7ALfhwCMzG+k6KgShLC/h62lUnEMfj8c/Op3Oe9Iby+QyLVeFQERmlvIuylNwIvqnqtYDy2TGzN0oak0Q3DIGMGfmxsbWwReLxa/BYPAZBaZZrAm890+qetWmPgduiieTyQ0RPRDRs3PO7P09B977D1U9BpCtfRN4dNdqtfpvM8LMpxUCEVF7wcxbrdsGHmtex0l7kCXYFdxIsgSxREVRdHu9nrmpjD3BbZ38NVc55+x3pQcbTd4HvLXJiU1LH+8LHspTztFWm6YHANwDOLcJtXSjz5tWRrRofY6aVoWN/U7gIlLWPiy9/KoIWaSb9I6ZLZtsJMrtTPOyS7ycklhdR0VRvEV3BcV2CdnmjGtlA7ziorrEsFmNqNz3DTG3e2GvCycFMyIA9pyEVVL2Jl6ZOeCI0Xont6hv/Xxwgi/Dp0AoKEJ4CwAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAUCAYAAACAl21KAAADTUlEQVQ4T43UX2gcRRwH8O939jZpkyipLUHxT8EqBRUL0geL+CAq+CIigoI+tQ+2Su/2rNm9Ng1kI7V3u5tLdjcn2iqCVoniS62BKFStbf1La1VQ1FQpbdQ2Ji1JPUl72f1JTrPXbiO6T8P8Zj7zm9/ODLHAJwWjG3G8CcCSJEx1HhLvR2vmEdoDp9PTmO6QbVuXY2r6GJR6BhltJInHWIbZ2qtQqp9OsO2/oc78GjD6BEvalrGrOHnhBLGMd6HxZxb9Jy+BxNxogNq1SUDkKkAeBfAcqGZSEx4COAXI3sZ4RmhiSDGzFZC3QuROECOAqi1UtwX61gCogjgCFXXVaySFTasQ174C5Wq6lV//DySWcQCQL+iGT8+N/xvqNlfg3MxRZPSVLPb/KGbucbResZu2PS5mLotYH2K5PCFWPo9r2l9mzp4Wc+MRKG0PnaCnAdl2B6qTpxBzNcvhYbGMjyFxF73Bj8TMfg/R1rLP/1TM7Alk9Lvri3VmR6FrO1j0+y6EWlCdrELT7mLJ3ydm9gMocehU3rsIsoxxLF60mr3OcbGM36BUL0sDLyRQfXtmNkJGf4DF/mGxjBFoeJ7FYE8qo2no6kZuD06JZZwF8QSd4LU0NAVoG+j5Q2JmdwPyOr3KW6mMzoGLOlAqTaOQj0D1IJ2Bty+GLOMXiPTSC3eKlX8TGoZZ9HfNQ/AGPoOVi3HTbYsxMaFh/Pgf0HkPt4fvp6DcD6DaQcfvl4LxCmIeoOe/lEDXXf8lTozOwA0VtuY7UItPIqNuZzH4PL21Q9C0d1jye8UydgLxN3QHKw2o/VuMnfmdbtDcOC5NN7NY/i6VUX4fIIfoBp2y+alBxPExukE5gdraf0J18ii9wcuTA9zSsnzuD6ZrNAzBGL1gg1hGH8AzdP1nE6hZjaEWHaYbdMgW8w7MzhxEa2bp/JOSPCNiZt8AGNELH5PN+R7EmK1DlvE1MlwLvXkCf1Y/pFdZIWbuPkBGcMMtTVy/vn43G5CVexGCK+mF94ttN9WDtn1eHOcyFgpn62ftn7YUcg9DuGuuXvP3sgFtyXcikh5ItA4Z/eS/XlwRHVHUDaqldINVl0K23Ybq6SGQ90LiZKUFQapRUNbRCQ/Ox/8CRNajNq37aVYAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAvElEQVRIS+2U2w3DIAxFr5ksc4CQmslKhcIazWZUtGmFCKl55S/+RToHjK8JJxedzMclYDs8tEXW2klrvcbWYYJlWW4A7gCMUmr+SoYIIjiI6CGlDLJ3dQv+wbsFHLxLUAJvFpTCswLnnPHer0opkxvyGvhOEOZYCPHcwHMqqYVnXxBDAPwkLfDDP0gl24tCiHZzzu2Kwxwkkk9okhBxcHaKWttStYuChIimOP4lNx+2KjhZ9y66BFwH2PMX+ShXGeYer80AAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFaADAAQAAAABAAAAFQAAAAAIGxIOAAACcElEQVQ4EZ2UPYgTQRiGs3MJhoAHBoNgIQd3vYiVjaV2IhHCZqMcWFgqCqcQ9U4Uf++wsFCw8DfJhuUKUUhhk0KwUlA4sFA4EJSAhAsWggSzPt+6EyZze6dxYJj53vf93vl2ftZJbdLCMFSNRmOP4zhT9Dy9C7bquu475uFGqU4SgdF2kqskeow7bA34V7Aa3I1KpbK2jreBer1eAbtLn7S5hHhNKXWiXC4vm5wyAyqcJ67R/8VQUrdRbUDenAS6DT8fYhbBI02MM8b763qeF0heZOr7/s7BYPCRODeOmaX9nslkZkql0rfo86nwkm3I6s/pvpUYheBP6M8sbrLf718QTLVarS2YupYgBfaaz/HA71jcEvAs2BsLT7HQ0Xa7nVa9Xm8/5NYEwVW5CbRTcJExSYvEc/H+X7ZzKCTf6XT2KYTTNikxggm4x9qY+SEqPBsbPkAycnMMj+k0B1QwgJGpNm42myu8ohcssBdsM0MppiCrrXsRpjMV3sTwfRAEu/j0t8RLJp8wlwehPicQEYTBdV7LeflkTvYTlcpdPAd+a6Mc8VO5XK6N6KctgryHQdXYwwy6mjZGf9/OIf5B3qvo8pO4zF4cMUUY3Cb+Ar7IODwU8F/Ep8FnGE/Shw3OpxAvLQjuFzmwwwgntIL5GT03x1hj312R9OEWZBJVwEF8YJUrAvxvI3+Bg5Sn/ufty4RVHP4BTxnl1zdWw/AhX31cJ5l7FXLSx9gKqXigBX8ZRTdvGop++Oszk7nsu9nja2AH4z00aXnjclgtCqiydSsjJEGiqRZx4QvczwOYTIHlWaDLfDWbzb4sFotdrbPH34IuDwr79+D1AAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAUCAYAAABiS3YzAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFaADAAQAAAABAAAAFAAAAAA1ezu+AAACWklEQVQ4Ea2UT4gScRTHHR0R0hQ66MUVFuvQXjp2iqiFrnnolChLGFKxVBDbYaOsDnvZJXKR0JBAhQK7eOtU0CGoS5du6mWhQ2YlmE4b6vR5sj8Jx3+H/cHjzbz3vp/fvzej2Q5hZLNZn8fjuWCaZrjT6ezoh8C0AVyGcw/TvV5vQRNooVBY1jTtkt1ul6RDYrMGK/rKip4Cs/O8ivbYYDDYQ7PS7XZ3tWKxeBzYWwJLs0AHORjmHnYDzQdia9gjiQFdj8fjwrHpzJLDL5F4jT0haUhi2uj3+81Wq9X0+/3r1NzHOujK7Xb7k9II9Jy8CDAWi8nsMwdH5Q4EAlepf4j2J8XblUolXS6X+0poVw8UjYIqNu4zmYwH0HVqt8k12dVWtVrNRCKRoByjqh9BOaPhpanEuM/n80d9Pt9N6rbIGcAf1+v1XDgcPs/7LraiNCOoCkzypVLJ63K57giI/G/sQTQazYVCoQCxi7yfwP5iwzG3T9PptIvKTcQb+F9seZOzfyZqXZcr0SwLmwnlSzlCL8oNC1DOcAPgCwHK6PV6psNhbeup0FQqpbvd7gjau9g3gLcBvhTYvGFZuhIEg0Evz0lu+j3AtUWBop8Kpcn/YLdqtdoqwDdqskX81O0nk8kugM+LQMZrRitli+Z4cpF3jseiG0HnNf+kCQ5aynL9OhN9pNdOY9f41AzaZH8S4P8YMJPz1lnIKfRn0O5jP1SNnOkVEu8Ixim67HQ6eyo5y1Mnu3Sg7eBfNRqNL6pe/aRP0sTylZxViQX9d+qeG4axk0gk5I81HP8ApbX2i1+ISsQAAAAASUVORK5CYII=\"","import { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nexport class AddMembersManager {\r\n\r\n    membersRequest = null;\r\n    userListenerId = new Date().getTime();\r\n\r\n    constructor(friendsOnly, searchKey) {\r\n\r\n        if (searchKey) {\r\n            this.membersRequest = new CometChat.UsersRequestBuilder().setLimit(30).friendsOnly(friendsOnly).setSearchKeyword(searchKey).build();\r\n        } else {\r\n            this.membersRequest = new CometChat.UsersRequestBuilder().setLimit(30).friendsOnly(friendsOnly).build();\r\n        }\r\n    }\r\n\r\n    fetchNextUsers() {\r\n        return this.membersRequest.fetchNext();\r\n    }\r\n\r\n    attachListeners(callback) {\r\n        \r\n        CometChat.addUserListener(\r\n            this.userListenerId,\r\n            new CometChat.UserListener({\r\n                onUserOnline: onlineUser => {\r\n                    /* when someuser/friend comes online, user will be received here */\r\n                    callback(onlineUser);\r\n                },\r\n                onUserOffline: offlineUser => {\r\n                    /* when someuser/friend went offline, user will be received here */\r\n                    callback(offlineUser);\r\n                }\r\n            })\r\n        );\r\n    }\r\n\r\n    removeListeners() {\r\n        CometChat.removeUserListener(this.userListenerId);\r\n    }\r\n}","export const modalWrapperStyle = (props) => {\r\n\r\n    const show = (props.open) ? {\r\n        display: \"block\",\r\n    } : {};\r\n\r\n    const mq = [`@media (min-width : 320px) and (max-width: 767px)`];\r\n\r\n    return {\r\n        minWidth: \"350px\",\r\n        minHeight: \"450px\",\r\n        width: \"40%\",\r\n        height: \"40%\",\r\n        overflow: \"hidden\",\r\n        backgroundColor: `${props.theme.backgroundColor.white}`,\r\n        position: \"fixed\",\r\n        left: \"50%\",\r\n        top: \"50%\",\r\n        transform: \"translate(-50%, -50%)\",\r\n        zIndex: \"1002\",\r\n        margin: \"0 auto\",\r\n        boxShadow: \"rgba(20, 20, 20, 0.2) 0 16px 32px, rgba(20, 20, 20, 0.04) 0 0 0 1px\",\r\n        borderRadius: \"12px\",\r\n        display: \"none\",\r\n        ...show,\r\n        [mq[0]]: {\r\n            width: \"100%\",\r\n            height: \"100%\"\r\n        }\r\n    }\r\n}\r\n\r\nexport const modalCloseStyle = (img) => {\r\n\r\n    return {\r\n        position: \"absolute\",\r\n        width: \"32px\",\r\n        height: \"32px\",\r\n        borderRadius: \"50%\",\r\n        top: \"16px\",\r\n        right: \"16px\",\r\n        background: `url(${img}) center center no-repeat`,\r\n        cursor: \"pointer\",\r\n    }\r\n}\r\n\r\nexport const modalBodyStyle = () => {\r\n\r\n    return {\r\n        padding: \"24px\",\r\n        height: \"100%\",\r\n        width: \"100%\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"flex-start\",\r\n    }\r\n}\r\n\r\nexport const modalCaptionStyle = (dir) => {\r\n\r\n    const textAlignStyle = (dir === \"rtl\") ? {\r\n        textAlign: \"right\",\r\n        paddingRight: \"32px\",\r\n    } : { \r\n        textAlign: \"left\", \r\n    };\r\n\r\n    return {\r\n        fontSize: \"20px\",\r\n        marginBottom: \"16px\",\r\n        fontWeight: \"bold\",\r\n        ...textAlignStyle,\r\n        width: \"100%\",\r\n    }\r\n}\r\n\r\nexport const modalSearchStyle = () => {\r\n\r\n    return {\r\n        fontWeight: \"normal\",\r\n        marginBottom: \"16px\",\r\n        width: \"100%\",\r\n    }\r\n}\r\n\r\nexport const searchInputStyle = (props, img) => {\r\n\r\n    return {\r\n        width: \"100%\",\r\n        border: \"0\",\r\n        boxShadow: \"rgba(20, 20, 20, 0.04) 0 0 0 1px inset\",\r\n        borderRadius: \"8px\",\r\n        padding: \"8px 8px 8px 40px\",\r\n        fontSize: \"15px\",\r\n        outline: \"none\",\r\n        color: `${props.theme.color.primary}`,\r\n        background: `url(${img}) 10px center no-repeat ${props.theme.backgroundColor.grey}`,\r\n    }\r\n}\r\n\r\nexport const modalListStyle = (props) => {\r\n\r\n    const mq = [`@media (min-width : 320px) and (max-width: 767px)`];\r\n    \r\n    return {\r\n        height: \"calc(100% - 125px)\",\r\n        overflowY: \"auto\",\r\n        display: \"flex\",\r\n        width: \"100%\",\r\n        flexDirection: \"column\",\r\n        justifyContent: \"flex-start\",\r\n        alignItems: \"flex-start\",\r\n        [mq[0]]: {\r\n            height: \"100%\"\r\n        }\r\n    }\r\n}\r\n\r\nexport const modalFootStyle = (props) => {\r\n\r\n    return {\r\n        margin: \"24px auto 0 auto\",\r\n        \"button\": {\r\n            cursor: \"pointer\",\r\n            padding: \"8px 16px\",\r\n            backgroundColor: `${props.theme.backgroundColor.blue}`,\r\n            borderRadius: \"5px\",\r\n            color: `${props.theme.color.white}`,\r\n            fontSize: \"14px\",\r\n            outline: \"0\",\r\n            border: \"0\",\r\n        },\r\n    }\r\n}\r\n\r\nexport const contactMsgStyle = () => {\r\n\r\n    return {\r\n        overflow: \"hidden\",\r\n        width: \"100%\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        height: \"55%\",\r\n    }\r\n}\r\n\r\nexport const contactMsgTxtStyle = (props) => {\r\n\r\n    return {\r\n        margin: \"0\",\r\n        height: \"30px\",\r\n        color: `${props.theme.color.secondary}`,\r\n        fontSize: \"24px!important\",\r\n        fontWeight: \"600\"\r\n    }\r\n}","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\nimport { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport { AddMembersManager } from \"./controller\";\r\n\r\nimport { CometChatAddGroupMemberListItem } from \"../\";\r\nimport GroupDetailContext from \"../CometChatGroupDetails/context\";\r\nimport { CometChatBackdrop } from \"../../Shared\";\r\n\r\nimport Translator from \"../../../resources/localization/translator\";\r\nimport { theme } from \"../../../resources/theme\";\r\n\r\nimport {\r\n    modalWrapperStyle,\r\n    modalCloseStyle,\r\n    modalBodyStyle,\r\n    modalCaptionStyle,\r\n    modalSearchStyle,\r\n    searchInputStyle,\r\n    modalListStyle,\r\n    modalFootStyle,\r\n    contactMsgStyle,\r\n    contactMsgTxtStyle,\r\n} from \"./style\";\r\n\r\nimport searchIcon from \"./resources/search-grey-icon.png\";\r\nimport clearIcon from \"./resources/close.png\";\r\n\r\nclass CometChatAddGroupMemberList extends React.Component {\r\n\r\n    decoratorMessage = Translator.translate(\"LOADING\", Translator.getDefaultLanguage());\r\n    static contextType = GroupDetailContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            userlist: [],\r\n            membersToAdd: [],\r\n            filteredlist: [],\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n  \r\n        if(this.props?.friendsOnly) {\r\n            this.friendsOnly = this.props.friendsOnly;\r\n        }\r\n\r\n        this.AddMembersManager = new AddMembersManager(this.friendsOnly);\r\n        this.getUsers();\r\n        this.AddMembersManager.attachListeners(this.userUpdated);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n\r\n        this.AddMembersManager.removeListeners();\r\n        this.AddMembersManager = null;\r\n    }\r\n\r\n    userUpdated = (user) => {\r\n        \r\n        let userlist = [...this.state.userlist];\r\n  \r\n        //search for user\r\n        let userKey = userlist.findIndex((u, k) => u.uid === user.uid);\r\n      \r\n        //if found in the list, update user object\r\n        if(userKey > -1) {\r\n\r\n            let userObj = userlist[userKey];//{...userlist[userKey]};\r\n            let newUserObj = Object.assign({}, userObj, user);\r\n            userlist.splice(userKey, 1, newUserObj);\r\n    \r\n            this.setState({ userlist: userlist });\r\n        }\r\n    }\r\n\r\n    handleScroll = (e) => {\r\n      const bottom =\r\n        Math.round(e.currentTarget.scrollHeight - e.currentTarget.scrollTop) === Math.round(e.currentTarget.clientHeight);\r\n      if (bottom) this.getUsers();\r\n    }\r\n    \r\n    searchUsers = (e) => {\r\n  \r\n        if (this.timeout) {\r\n            clearTimeout(this.timeout);\r\n        }\r\n\r\n        let val = e.target.value;\r\n        this.timeout = setTimeout(() => {\r\n\r\n        this.AddMembersManager = new AddMembersManager(this.friendsOnly, val);\r\n            this.setState({ userlist: [], membersToAdd: [], membersToRemove: [], filteredlist: [] }, () => this.getUsers())\r\n        }, 500);\r\n  \r\n    }\r\n  \r\n    getUsers = () => {\r\n  \r\n        CometChat.getLoggedinUser().then((user) => {\r\n  \r\n            this.AddMembersManager.fetchNextUsers().then(userList => {\r\n\r\n                const filteredUserList = userList.filter(user => {\r\n\r\n                    const found = this.context.memberlist.find(member => user.uid === member.uid);\r\n                    const foundbanned = this.context.bannedmemberlist.find(member => user.uid === member.uid);\r\n                    if (found || foundbanned) {\r\n                        return false;\r\n                    }\r\n                    return true;\r\n                });\r\n\r\n                if (filteredUserList.length === 0) {\r\n                    this.decoratorMessage = Translator.translate(\"NO_USERS_FOUND\", this.props.lang);\r\n                }\r\n\r\n                this.setState({ userlist: [...this.state.userlist, ...userList], filteredlist: [...this.state.filteredlist, ...filteredUserList] });\r\n                \r\n            }).catch((error) => {\r\n\r\n                this.decoratorMessage = Translator.translate(\"ERROR\", this.props.lang);\r\n                console.error(\"[CometChatAddMembers] getUsers fetchNext error\", error);\r\n            });\r\n  \r\n        }).catch((error) => {\r\n\r\n            this.decoratorMessage = Translator.translate(\"ERROR\", this.props.lang);\r\n            console.log(\"[CometChatAddMembers] getUsers getLoggedinUser error\", error);\r\n        });\r\n    }\r\n\r\n    membersUpdated = (user, userState) => {\r\n\r\n        if(userState) {\r\n\r\n            const members = [...this.state.membersToAdd];\r\n            members.push(user);\r\n            this.setState({membersToAdd: [...members]});\r\n\r\n        } else {\r\n\r\n            const membersToAdd = [...this.state.membersToAdd];\r\n            const IndexFound = membersToAdd.findIndex(member => member.uid === user.uid);\r\n            if(IndexFound > -1) {\r\n                membersToAdd.splice(IndexFound, 1);\r\n                this.setState({membersToAdd: [...membersToAdd]})\r\n            }\r\n        }\r\n    }\r\n\r\n    updateMembers = () => {\r\n        \r\n        const group = this.context;\r\n\r\n        const guid = this.props.item.guid;\r\n        const membersList = [];\r\n\r\n        this.state.membersToAdd.forEach(newmember => {\r\n            //if a selected member is already part of the member list, don't add\r\n            const IndexFound = group.memberlist.findIndex(member => member.uid === newmember.uid);\r\n            if(IndexFound === -1) {\r\n                \r\n                const newMember = new CometChat.GroupMember(newmember.uid, CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT);\r\n                membersList.push(newMember);\r\n\r\n                newmember[\"type\"] = \"add\";\r\n            }\r\n        });\r\n\r\n        if(membersList.length) {\r\n\r\n            const membersToAdd = [];\r\n            CometChat.addMembersToGroup(guid, membersList, []).then(response => {\r\n\r\n                if (Object.keys(response).length) {\r\n                        \r\n                    for (const member in response) {\r\n\r\n                        if(response[member] === \"success\") {\r\n\r\n                            const found = this.state.userlist.find(user => user.uid === member);\r\n                            found[\"scope\"] = CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT;\r\n                            membersToAdd.push(found);\r\n                        }\r\n                    }\r\n                    this.props.actionGenerated(\"addGroupParticipants\", membersToAdd);\r\n                }\r\n                this.props.close();\r\n\r\n            }).catch(error => {\r\n                console.log(\"addMembersToGroup failed with exception:\", error);\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        const group = this.context;\r\n\r\n        let messageContainer = null;\r\n        if (this.state.filteredlist.length === 0) {\r\n\r\n            messageContainer = (\r\n                <div css={contactMsgStyle()} className=\"members__decorator-message\">\r\n                    <p css={contactMsgTxtStyle(this.props)} className=\"decorator-message\">{this.decoratorMessage}</p>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        let currentLetter = \"\";\r\n        const filteredUserList = [...this.state.filteredlist];\r\n        const users = filteredUserList.map((user, key) => {\r\n\r\n            const chr = user.name[0].toUpperCase();\r\n            let firstLetter = null;\r\n            if(chr !== currentLetter) {\r\n                currentLetter = chr;\r\n                firstLetter = currentLetter;\r\n            }\r\n\r\n            return (\r\n                <React.Fragment key={user.uid}>\r\n                    <CometChatAddGroupMemberListItem \r\n                    theme={this.props.theme}\r\n                    lang={this.props.lang}\r\n                    firstLetter={firstLetter}\r\n                    loggedinuser={group.loggedinuser}\r\n                    user={user}\r\n                    members={group.memberlist}\r\n                    changed={this.membersUpdated}\r\n                    widgetsettings={this.props.widgetsettings} />\r\n                </React.Fragment>\r\n            )\r\n        });\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <CometChatBackdrop show={this.props.open} clicked={this.props.close} />\r\n                <div css={modalWrapperStyle(this.props)} className=\"modal__addmembers\">\r\n                    <span css={modalCloseStyle(clearIcon)} className=\"modal__close\" onClick={this.props.close} title={Translator.translate(\"CLOSE\", this.props.lang)}></span>\r\n                    <div css={modalBodyStyle()} className=\"modal__body\">\r\n                        <div css={modalCaptionStyle(Translator.getDirection(this.props.lang))} className=\"modal__title\">{Translator.translate(\"USERS\", this.props.lang)}</div>\r\n                        <div css={modalSearchStyle()} className=\"modal__search\">\r\n                            <input\r\n                            type=\"text\"\r\n                            autoComplete=\"off\"\r\n                            css={searchInputStyle(this.props, searchIcon)}\r\n                            className=\"search__input\"\r\n                            placeholder={Translator.translate(\"SEARCH\", this.props.lang)}\r\n                            onChange={this.searchUsers} />\r\n                        </div>\r\n                        {messageContainer}\r\n                        <div css={modalListStyle(this.props)} onScroll={this.handleScroll} className=\"modal__content\">{users}</div>\r\n                        <div css={modalFootStyle(this.props)} className=\"modal__addmembers\">\r\n                            <button type=\"button\" onClick={this.updateMembers}>{Translator.translate(\"ADD\", this.props.lang)}</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatAddGroupMemberList.defaultProps = {\r\n    lang: Translator.getDefaultLanguage(),\r\n    theme: theme\r\n};\r\n\r\nCometChatAddGroupMemberList.propTypes = {\r\n    lang: PropTypes.string,\r\n    theme: PropTypes.object\r\n}\r\n\r\nexport default CometChatAddGroupMemberList;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFaADAAQAAAABAAAAFQAAAAAIGxIOAAACcElEQVQ4EZ2UPYgTQRiGs3MJhoAHBoNgIQd3vYiVjaV2IhHCZqMcWFgqCqcQ9U4Uf++wsFCw8DfJhuUKUUhhk0KwUlA4sFA4EJSAhAsWggSzPt+6EyZze6dxYJj53vf93vl2ftZJbdLCMFSNRmOP4zhT9Dy9C7bquu475uFGqU4SgdF2kqskeow7bA34V7Aa3I1KpbK2jreBer1eAbtLn7S5hHhNKXWiXC4vm5wyAyqcJ67R/8VQUrdRbUDenAS6DT8fYhbBI02MM8b763qeF0heZOr7/s7BYPCRODeOmaX9nslkZkql0rfo86nwkm3I6s/pvpUYheBP6M8sbrLf718QTLVarS2YupYgBfaaz/HA71jcEvAs2BsLT7HQ0Xa7nVa9Xm8/5NYEwVW5CbRTcJExSYvEc/H+X7ZzKCTf6XT2KYTTNikxggm4x9qY+SEqPBsbPkAycnMMj+k0B1QwgJGpNm42myu8ohcssBdsM0MppiCrrXsRpjMV3sTwfRAEu/j0t8RLJp8wlwehPicQEYTBdV7LeflkTvYTlcpdPAd+a6Mc8VO5XK6N6KctgryHQdXYwwy6mjZGf9/OIf5B3qvo8pO4zF4cMUUY3Cb+Ar7IODwU8F/Ep8FnGE/Shw3OpxAvLQjuFzmwwwgntIL5GT03x1hj312R9OEWZBJVwEF8YJUrAvxvI3+Bg5Sn/ufty4RVHP4BTxnl1zdWw/AhX31cJ5l7FXLSx9gKqXigBX8ZRTdvGop++Oszk7nsu9nja2AH4z00aXnjclgtCqiydSsjJEGiqRZx4QvczwOYTIHlWaDLfDWbzb4sFotdrbPH34IuDwr79+D1AAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFaADAAQAAAABAAAAFQAAAAAIGxIOAAACeklEQVQ4EaWUz2sTURDH3U3SNAoqJWIRPVQwURAv5uChl0DxUA8RwZANSPHir4Mg8eJ/UPxBD2L0aiXZkFM1EgkeQhEVJQj+OJlbFXPzEg+FJLt+Zrtbdp/5gfTB5M3Md+Y78+a9jbZryCqXywdxLyELyBHbti1N0zbQG+FweDWbzf5GH7k0FSmVSjkIHkE0w/4DvI3oyHF8s+ydUCh0JZfLvUQfurZJq9VqqN/vPyPRgOwbctUwjHdeFn7NNM0F9if4juq6/hj8hof7d+nAWRDedQmLHPG0n1ACKGLn8/nX8Xj8FLppWdZ1xnRnKzv463RaqVRODgaDz0AfI5HIPDMbBMOCVrPZnO50Op9oYo6OEzQgY9peTqdUvUl1i1ktTSKUzHQ6vUn8ZdRp5Jr4/Ms7/iJV3zD8735wnE53H8C/0tCiGqdzQVM4D1H5iwpOsiUHmVPjpNMputSQTRWcZLs5MoLA0pnhH6qJ/FMxEDnEkByIf6mQN9N1wLO1Wm23GjDK5jnFweaRdTXGIYXwKcD+bre7rAaMsR+SJ/dRUmM0cQDK1/IW9Qzv7hyv4JUa6LeJvcStr3L8F3wQGT8mutMpoB2NRrPYHYJrfP/L7qsIxDcajT0QFoXQBbRWqxUJBGE4nXpOiA70ej35ti8gG8ga0qZ7HaITFD/PqWbZ2+zHwGQ9TyaTF1OpVG/LVEg9J5dgkHSL5JSMxvVb7O/hLzIek0+7QKF7LhYg9hI8vsBO5/v4ozksjcZisZ+ZTKbrD2AUt4cRjyX1E4zSOVWB09wXnJOtJRKJ7I5JhcxPjLni3L4AO1k8qwd0WUBseMb+bf53nXq9vleS/gKeNA5lPSUj0AAAAABJRU5ErkJggg==\"","export const modalRowStyle = (props) => {\r\n\r\n    return {\r\n        border: `1px solid ${props.theme.borderColor.primary}`,\r\n        display: \"flex\",\r\n        width: \"100%\",\r\n        fontSize: \"14px\",\r\n        flexDirection: \"row\",\r\n        justifyContent: \"flex-start\",\r\n        alignItems: \"center\",\r\n    }\r\n}\r\n\r\nexport const modalColumnStyle = () => {\r\n\r\n    return {\r\n        padding: \"8px\",\r\n        width: \"100%\",\r\n    }\r\n}\r\n\r\nexport const avatarStyle = () => {\r\n\r\n    return {\r\n        display: \"inline-block\",\r\n        float: \"left\",\r\n        width: \"36px\",\r\n        height: \"36px\",\r\n        marginRight: \"8px\",\r\n    }\r\n}\r\n\r\nexport const nameStyle = () => {\r\n\r\n    return {\r\n        margin: \"10px\",\r\n        width: \"calc(100% - 50px)\",\r\n        overflow: \"hidden\",\r\n        textOverflow: \"ellipsis\",\r\n        whiteSpace: \"nowrap\",\r\n    }\r\n}\r\n\r\nexport const selectionColumnStyle = () => {\r\n\r\n    return {\r\n        padding: \"8px\",\r\n        width: \"50px\",\r\n    }\r\n}\r\n\r\nexport const selectionBoxStyle = (inactiveStateImg, activeStateImg) => {\r\n\r\n    return {\r\n        display: \"none\",\r\n        \" + label\": {\r\n            display: \"block\",\r\n            cursor: \"pointer\",\r\n            background: `url(${inactiveStateImg}) right center / 16px no-repeat`,\r\n            userSelect: \"none\",\r\n            float: \"right\",\r\n            padding: \"8px\",\r\n        },\r\n        \"&:checked + label\": {\r\n            background: `url(${activeStateImg}) no-repeat right center`,\r\n            backgroundSize: \"16px\",\r\n        }\r\n    }\r\n}","export default __webpack_public_path__ + \"static/media/checkbox-inactive.6ccacba4.svg\";","export default __webpack_public_path__ + \"static/media/checkbox-blue-active.57628d55.svg\";","import { useState } from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { CometChatAvatar, CometChatUserPresence } from \"../../Shared\";\r\n\r\nimport { theme } from \"../../../resources/theme\";\r\n\r\nimport {\r\n  modalRowStyle,\r\n  modalColumnStyle,\r\n  avatarStyle,\r\n  nameStyle,\r\n  selectionColumnStyle,\r\n  selectionBoxStyle\r\n} from \"./style\";\r\n\r\nimport inactiveIcon from \"./resources/checkbox-inactive.svg\";\r\nimport activeIcon from \"./resources/checkbox-blue-active.svg\";\r\n\r\nconst CometChatAddGroupMemberListItem = (props) => {\r\n\r\n  const [checked, setChecked] = useState(() => {\r\n    const found = props.members.find(member => member.uid === props.user.uid);\r\n    const value = (found) ? true : false;\r\n\r\n    return value;\r\n  });\r\n\r\n  const handleCheck = (event) => {\r\n\r\n    const value = (checked === true) ? false : true;\r\n    setChecked(value);\r\n    props.changed(props.user, value);\r\n  }\r\n\r\n  const toggleTooltip = (event, flag) => {\r\n\r\n    const elem = event.currentTarget;\r\n    const nameContainer = elem.lastChild;\r\n\r\n    const scrollWidth = nameContainer.scrollWidth;\r\n    const clientWidth = nameContainer.clientWidth;\r\n    \r\n    if(scrollWidth <= clientWidth) {\r\n      return false;\r\n    }\r\n\r\n    if(flag) {\r\n      nameContainer.setAttribute(\"title\", nameContainer.textContent);\r\n    } else {\r\n      nameContainer.removeAttribute(\"title\");\r\n    }\r\n  }\r\n  \r\n  return (\r\n    <div css={modalRowStyle(props)}>\r\n      <div css={modalColumnStyle()} className=\"userinfo\"\r\n      onMouseEnter={event => toggleTooltip(event, true)}\r\n      onMouseLeave={event => toggleTooltip(event, false)}>\r\n        <div css={avatarStyle()} className=\"avatar\">\r\n          <CometChatAvatar user={props.user} />\r\n          <CometChatUserPresence\r\n          widgetsettings={props.widgetsettings}\r\n          status={props.user.status}\r\n          borderColor={props.theme.borderColor.primary} />\r\n        </div>\r\n        <div css={nameStyle()} className=\"name\">{props.user.name}</div>\r\n      </div>\r\n      <div css={selectionColumnStyle()} className=\"selection\">\r\n          <input \r\n          css={selectionBoxStyle(inactiveIcon, activeIcon)}\r\n          type=\"checkbox\" \r\n          checked={checked}\r\n          id={props.user.uid+\"sel\"} \r\n          onChange={handleCheck}  />\r\n          <label htmlFor={props.user.uid+\"sel\"}>&nbsp;</label>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatAddGroupMemberListItem.defaultProps = {\r\n  theme: theme\r\n};\r\n\r\nCometChatAddGroupMemberListItem.propTypes = {\r\n  theme: PropTypes.object\r\n}\r\n\r\nexport default CometChatAddGroupMemberListItem;","export const modalWrapperStyle = (props) => {\r\n\r\n    const show = (props.open) ? {\r\n        display: \"block\",\r\n    } : {};\r\n\r\n    const mq = [`@media (min-width : 320px) and (max-width: 767px)`];\r\n\r\n    return {\r\n        minWidth: \"350px\",\r\n        minHeight: \"450px\",\r\n        width: \"40%\",\r\n        height: \"40%\",\r\n        overflow: \"hidden\",\r\n        backgroundColor: `${props.theme.backgroundColor.white}`,\r\n        position: \"fixed\",\r\n        left: \"50%\",\r\n        top: \"50%\",\r\n        transform: \"translate(-50%, -50%)\",\r\n        zIndex: \"1002\",\r\n        margin: \"0 auto\",\r\n        boxShadow: \"rgba(20, 20, 20, 0.2) 0 16px 32px, rgba(20, 20, 20, 0.04) 0 0 0 1px\",\r\n        borderRadius: \"12px\",\r\n        display: \"none\",\r\n        ...show,\r\n        [mq[0]]: {\r\n            width: \"100%\",\r\n            height: \"100%\"\r\n        }\r\n    }\r\n}\r\n\r\nexport const modalCloseStyle = (img) => {\r\n\r\n    return {\r\n        position: \"absolute\",\r\n        width: \"32px\",\r\n        height: \"32px\",\r\n        borderRadius: \"50%\",\r\n        top: \"16px\",\r\n        right: \"16px\",\r\n        background: `url(${img}) center center no-repeat`,\r\n        cursor: \"pointer\",\r\n    }\r\n}\r\n\r\nexport const modalBodyStyle = () => {\r\n\r\n    return {\r\n        padding: \"24px\",\r\n        height: \"100%\",\r\n        width: \"100%\"\r\n    }\r\n}\r\n\r\nexport const modalTableStyle = (props) => {\r\n\r\n    return {\r\n        borderCollapse: \"collapse\",\r\n        margin: \"0\",\r\n        padding: \"0\",\r\n        width: \"100%\",\r\n        height: \"90%\",\r\n        \"tr\": {\r\n            border: `1px solid ${props.theme.borderColor.primary}`,\r\n            display: \"table\",\r\n            width: \"100%\",\r\n            tableLayout: \"fixed\",\r\n        },\r\n        \"th\": {\r\n            padding: \"8px\",\r\n            fontSize: \"12px\",\r\n            textAlign: \"left\"\r\n        }\r\n    }\r\n}\r\n\r\nexport const tableCaptionStyle = (dir) => {\r\n\r\n    const textAlignStyle = (dir === \"rtl\") ? {\r\n        textAlign: \"right\",\r\n        paddingRight: \"32px\",\r\n    } : {\r\n        textAlign: \"left\",\r\n    };\r\n\r\n\r\n    return {\r\n        fontSize: \"20px\",\r\n        marginBottom: \"16px\",\r\n        fontWeight: \"bold\",\r\n        ...textAlignStyle\r\n    }\r\n}\r\n\r\nexport const tableBodyStyle = () => {\r\n\r\n    return {\r\n        height: \"340px\",\r\n        overflowY: \"auto\",\r\n        display: \"block\"\r\n    }\r\n}\r\n\r\nexport const roleColumnStyle = () => {\r\n\r\n    const mq = [`@media (min-width : 320px) and (max-width: 767px)`];\r\n\r\n    return {\r\n        width: \"150px\",\r\n        [mq[0]]: {\r\n            width: \"115px\"\r\n        }\r\n    }\r\n}\r\n\r\nexport const actionColumnStyle = () => {\r\n\r\n    return {\r\n        width: \"70px\"\r\n    }\r\n}\r\n\r\nexport const contactMsgStyle = () => {\r\n\r\n    return {\r\n        overflow: \"hidden\",\r\n        width: \"100%\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        height: \"55%\",\r\n    }\r\n}\r\n\r\nexport const contactMsgTxtStyle = (props) => {\r\n\r\n    return {\r\n        margin: \"0\",\r\n        height: \"30px\",\r\n        color: `${props.theme.color.secondary}`,\r\n        fontSize: \"24px!important\",\r\n        fontWeight: \"600\"\r\n    }\r\n}","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\"\r\nimport PropTypes from \"prop-types\";\r\nimport { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport { CometChatBanGroupMemberListItem } from \"../\";\r\nimport { CometChatBackdrop } from \"../../Shared\";\r\nimport GroupDetailContext from \"../CometChatGroupDetails/context\";\r\n\r\nimport Translator from \"../../../resources/localization/translator\";\r\nimport { theme } from \"../../../resources/theme\";\r\n\r\nimport {\r\n    modalWrapperStyle,\r\n    modalCloseStyle,\r\n    modalBodyStyle,\r\n    modalTableStyle,\r\n    tableCaptionStyle,\r\n    tableBodyStyle,\r\n    roleColumnStyle,\r\n    actionColumnStyle,\r\n    contactMsgStyle,\r\n    contactMsgTxtStyle\r\n} from \"./style\";\r\n\r\nimport clearIcon from \"./resources/close.png\";\r\n\r\nclass CometChatBanGroupMemberList extends React.Component {\r\n\r\n    static contextType = GroupDetailContext;\r\n\r\n    constructor(props) {\r\n\r\n        super(props);\r\n\r\n        this.decoratorMessage = Translator.translate(\"LOADING\", props.lang);\r\n\r\n        this.state = {\r\n            membersToBan: [],\r\n            membersToUnBan: [],\r\n        }\r\n    }\r\n\r\n    unbanMember = (memberToUnBan) => {\r\n\r\n        const group = this.context;\r\n\r\n        const guid = group.item.guid;\r\n        CometChat.unbanGroupMember(guid, memberToUnBan.uid).then(response => {\r\n            \r\n            if(response) {\r\n                console.log(\"Group member unbanning success with response\", response);\r\n                this.props.actionGenerated(\"unbanGroupMembers\", [memberToUnBan]);\r\n            }\r\n        }).catch(error => {\r\n            console.log(\"Group member banning failed with error\", error);\r\n        });\r\n    }\r\n\r\n    updateMembers = (action, member) => {\r\n\r\n        switch(action) {\r\n            case \"unban\":\r\n                this.unbanMember(member);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    handleScroll = (e) => {\r\n        const bottom = Math.round(e.currentTarget.scrollHeight - e.currentTarget.scrollTop) === Math.round(e.currentTarget.clientHeight);\r\n        if (bottom) {\r\n            this.props.actionGenerated(\"fetchBannedMembers\");\r\n        }\r\n    }\r\n    \r\n    render() {\r\n        \r\n        const group = this.context;\r\n        const membersList = [...group.bannedmemberlist];\r\n        const bannedMembers = membersList.map((member, key) => {\r\n\r\n            return (<CometChatBanGroupMemberListItem \r\n                    theme={this.props.theme}\r\n                    key={key} \r\n                    member={member}\r\n                    item={this.props.item}\r\n                    loggedinuser={group.loggedinuser}\r\n                    lang={this.props.lang}\r\n                    widgetsettings={this.props.widgetsettings}\r\n                    actionGenerated={this.updateMembers} />);\r\n\r\n        });\r\n\r\n        let messageContainer = null;\r\n        if (bannedMembers.length === 0) {\r\n\r\n            this.decoratorMessage = Translator.translate(\"NO_BANNED_MEMBERS_FOUND\", this.props.lang);\r\n            messageContainer = (\r\n                <caption css={contactMsgStyle()} className=\"bannedmembers__decorator-message\">\r\n                    <p css={contactMsgTxtStyle(this.props)} className=\"decorator-message\">{this.decoratorMessage}</p>\r\n                </caption>\r\n            );\r\n        }\r\n        \r\n        return (\r\n            <React.Fragment>\r\n                <CometChatBackdrop show={this.props.open} clicked={this.props.close} />\r\n                <div css={modalWrapperStyle(this.props)} className=\"modal__bannedmembers\">\r\n                    <span css={modalCloseStyle(clearIcon)} className=\"modal__close\" onClick={this.props.close} title={Translator.translate(\"CLOSE\", this.props.lang)}></span>\r\n                    <div css={modalBodyStyle()} className=\"modal__body\">\r\n                        <table css={modalTableStyle(this.props)}>\r\n                            <caption css={tableCaptionStyle(Translator.getDirection(this.props.lang))} className=\"modal__title\">{Translator.translate(\"BANNED_MEMBERS\", this.props.lang)}</caption>\r\n                            <thead>\r\n                                <tr>\r\n                                    <th className=\"name\">{Translator.translate(\"NAME\", this.props.lang)}</th>\r\n                                    <th css={roleColumnStyle()} className=\"role\">{Translator.translate(\"SCOPE\", this.props.lang)}</th>\r\n                                    <th css={actionColumnStyle()} className=\"unban\">{Translator.translate(\"UNBAN\", this.props.lang)}</th>\r\n                                </tr>\r\n                            </thead>\r\n                            {messageContainer}\r\n                            <tbody css={tableBodyStyle()} onScroll={this.handleScroll}>{bannedMembers}</tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatBanGroupMemberList.defaultProps = {\r\n    lang: Translator.getDefaultLanguage(),\r\n    theme: theme\r\n};\r\n\r\nCometChatBanGroupMemberList.propTypes = {\r\n    lang: PropTypes.string,\r\n    theme: PropTypes.object\r\n}\r\n\r\nexport default CometChatBanGroupMemberList;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFaADAAQAAAABAAAAFQAAAAAIGxIOAAACcElEQVQ4EZ2UPYgTQRiGs3MJhoAHBoNgIQd3vYiVjaV2IhHCZqMcWFgqCqcQ9U4Uf++wsFCw8DfJhuUKUUhhk0KwUlA4sFA4EJSAhAsWggSzPt+6EyZze6dxYJj53vf93vl2ftZJbdLCMFSNRmOP4zhT9Dy9C7bquu475uFGqU4SgdF2kqskeow7bA34V7Aa3I1KpbK2jreBer1eAbtLn7S5hHhNKXWiXC4vm5wyAyqcJ67R/8VQUrdRbUDenAS6DT8fYhbBI02MM8b763qeF0heZOr7/s7BYPCRODeOmaX9nslkZkql0rfo86nwkm3I6s/pvpUYheBP6M8sbrLf718QTLVarS2YupYgBfaaz/HA71jcEvAs2BsLT7HQ0Xa7nVa9Xm8/5NYEwVW5CbRTcJExSYvEc/H+X7ZzKCTf6XT2KYTTNikxggm4x9qY+SEqPBsbPkAycnMMj+k0B1QwgJGpNm42myu8ohcssBdsM0MppiCrrXsRpjMV3sTwfRAEu/j0t8RLJp8wlwehPicQEYTBdV7LeflkTvYTlcpdPAd+a6Mc8VO5XK6N6KctgryHQdXYwwy6mjZGf9/OIf5B3qvo8pO4zF4cMUUY3Cb+Ar7IODwU8F/Ep8FnGE/Shw3OpxAvLQjuFzmwwwgntIL5GT03x1hj312R9OEWZBJVwEF8YJUrAvxvI3+Bg5Sn/ufty4RVHP4BTxnl1zdWw/AhX31cJ5l7FXLSx9gKqXigBX8ZRTdvGop++Oszk7nsu9nja2AH4z00aXnjclgtCqiydSsjJEGiqRZx4QvczwOYTIHlWaDLfDWbzb4sFotdrbPH34IuDwr79+D1AAAAAElFTkSuQmCC\"","export const tableRowStyle = (props) => {\r\n\r\n    return {\r\n        border: `1px solid ${props.theme.borderColor.primary}`,\r\n        display: \"table\",\r\n        width: \"100%\",\r\n        tableLayout: \"fixed\",\r\n        fontSize: \"14px\",\r\n        \"td\": {\r\n            padding: \".625em\",\r\n        }\r\n    }\r\n}\r\n\r\nexport const avatarStyle = () => {\r\n\r\n    return {\r\n        display: \"inline-block\",\r\n        float: \"left\",\r\n        width: \"36px\",\r\n        height: \"36px\",\r\n        marginRight: \"8px\",\r\n    }\r\n}\r\n\r\nexport const nameStyle = () => {\r\n\r\n    return {\r\n        margin: \"10px 0 0 0\",\r\n        width: \"calc(100% - 50px)\",\r\n        overflow: \"hidden\",\r\n        textOverflow: \"ellipsis\",\r\n        whiteSpace: \"nowrap\"\r\n    }\r\n}\r\n\r\nexport const roleStyle = () => {\r\n\r\n    const mq = [`@media (min-width : 320px) and (max-width: 767px)`];\r\n\r\n    return {\r\n        width: \"150px\",\r\n        fontSize: \"12px\",\r\n        [mq[0]]: {\r\n            width: \"115px\"\r\n        }\r\n    }\r\n}\r\n\r\nexport const actionStyle = () => {\r\n\r\n    return {\r\n        width: \"70px\",\r\n        \"img\": {\r\n            width: \"20px!important\",\r\n            height: \"20px!important\",\r\n            cursor: \"pointer\",\r\n        },\r\n    }\r\n}","/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\nimport { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport { CometChatAvatar, CometChatUserPresence } from \"../../Shared\";\r\n\r\nimport Translator from \"../../../resources/localization/translator\";\r\nimport { theme } from \"../../../resources/theme\";\r\n\r\nimport {\r\n    tableRowStyle,\r\n    avatarStyle,\r\n    nameStyle,\r\n    roleStyle,\r\n    actionStyle\r\n} from \"./style\";\r\n\r\nimport unban from \"./resources/block.png\";\r\n\r\nconst CometChatBanGroupMemberListItem = (props) => {\r\n\r\n    const roles = {}\r\n    roles[CometChat.GROUP_MEMBER_SCOPE.ADMIN] = Translator.translate(\"ADMINISTRATOR\", props.lang);\r\n    roles[CometChat.GROUP_MEMBER_SCOPE.MODERATOR] = Translator.translate(\"MODERATOR\", props.lang);\r\n    roles[CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT] = Translator.translate(\"PARTICIPANT\", props.lang);\r\n\r\n    let name = props.member.name;\r\n    let scope = roles[props.member.scope];\r\n    let unBan = (<img src={unban} alt={Translator.translate(\"UNBAN\", props.lang)} onClick={() => {props.actionGenerated(\"unban\", props.member)}} />);\r\n\r\n    //if the loggedin user is moderator, don't allow unban of banned moderators or administrators\r\n    if(props.item.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR \r\n    && (props.member.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN || props.member.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR)) {\r\n        unBan = null;\r\n    }\r\n\r\n    //if the loggedin user is administrator, don't allow unban of banned administrators\r\n    if(props.item.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN && props.member.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN) {\r\n        if(props.item.owner !== props.loggedinuser.uid) {\r\n            unBan = null;\r\n        }\r\n    }\r\n\r\n    const toggleTooltip = (event, flag) => {\r\n\r\n        const elem = event.currentTarget;\r\n        const nameContainer = elem.lastChild;\r\n    \r\n        const scrollWidth = nameContainer.scrollWidth;\r\n        const clientWidth = nameContainer.clientWidth;\r\n        \r\n        if(scrollWidth <= clientWidth) {\r\n          return false;\r\n        }\r\n    \r\n        if(flag) {\r\n          nameContainer.setAttribute(\"title\", nameContainer.textContent);\r\n        } else {\r\n          nameContainer.removeAttribute(\"title\");\r\n        }\r\n    }\r\n    \r\n    return (\r\n        <tr css={tableRowStyle(props)}>\r\n            <td \r\n            onMouseEnter={event => toggleTooltip(event, true)}\r\n            onMouseLeave={event => toggleTooltip(event, false)}>\r\n                <div css={avatarStyle()} className=\"avatar\">\r\n                    <CometChatAvatar user={props.member} />\r\n                    <CometChatUserPresence\r\n                    widgetsettings={props.widgetsettings}\r\n                    status={props.member.status}\r\n                    borderColor={props.theme.borderColor.primary} />\r\n                </div>\r\n                <div css={nameStyle()} className=\"name\">{name}</div>\r\n            </td>\r\n            <td css={roleStyle()} className=\"role\">{scope}</td>\r\n            <td css={actionStyle()} className=\"unban\">{unBan}</td>\r\n        </tr>\r\n    );\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatBanGroupMemberListItem.defaultProps = {\r\n    lang: Translator.getDefaultLanguage(),\r\n    theme: theme\r\n};\r\n\r\nCometChatBanGroupMemberListItem.propTypes = {\r\n    lang: PropTypes.string,\r\n    theme: PropTypes.object\r\n}\r\n\r\nexport default CometChatBanGroupMemberListItem;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAB6klEQVRIS7VVwU0jQRCs3offl8HhCIAIuAyAp6ctcY4AHAEQASYCg+QeP4EIuAyOi+DsDPj6YTfq1YyZXXt27YdbWsnaHVdVd1f3EA4cdGB8tBKIyG8AZwBOwmOaPsLzysxvTSKzBN77C1V9AHDUkuWMiIbOuddt57YSiMgIwHX4w1xVR0T0h5lNOabT6dFyubwgohsAP+0dEY2cc8M6yQZBCq6qw36/b2TZEJE7ALfhwCMzG+k6KgShLC/h62lUnEMfj8c/Op3Oe9Iby+QyLVeFQERmlvIuylNwIvqnqtYDy2TGzN0oak0Q3DIGMGfmxsbWwReLxa/BYPAZBaZZrAm890+qetWmPgduiieTyQ0RPRDRs3PO7P09B977D1U9BpCtfRN4dNdqtfpvM8LMpxUCEVF7wcxbrdsGHmtex0l7kCXYFdxIsgSxREVRdHu9nrmpjD3BbZ38NVc55+x3pQcbTd4HvLXJiU1LH+8LHspTztFWm6YHANwDOLcJtXSjz5tWRrRofY6aVoWN/U7gIlLWPiy9/KoIWaSb9I6ZLZtsJMrtTPOyS7ycklhdR0VRvEV3BcV2CdnmjGtlA7ziorrEsFmNqNz3DTG3e2GvCycFMyIA9pyEVVL2Jl6ZOeCI0Xont6hv/Xxwgi/Dp0AoKEJ4CwAAAABJRU5ErkJggg==\"","export const groupScreenStyle = (theme) => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        height: \"100%\",\r\n        width: \"100%\",\r\n        boxSizing: \"border-box\",\r\n        fontFamily: `${theme.fontFamily}`,\r\n        \"*\": {\r\n            boxSizing: \"border-box\",\r\n            fontFamily: `${theme.fontFamily}`,\r\n            \"::-webkit-scrollbar\": {\r\n                width: \"8px\",\r\n                height: \"4px\",\r\n            },\r\n            \"::-webkit-scrollbar-track\": {\r\n                background: \"#ffffff00\"\r\n            },\r\n            \"::-webkit-scrollbar-thumb\": {\r\n                background: \"#ccc\",\r\n                \"&:hover\": {\r\n                    background: \"#aaa\"\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const groupScreenSidebarStyle = (state, props) => {\r\n\r\n    const sidebarView = (state.sidebarview) ? {\r\n        left: \"0\",\r\n        boxShadow: \"rgba(0, 0, 0, .4) -30px 0 30px 30px\"\r\n    } : {};\r\n\r\n    const mq = [...props.theme.breakPoints];\r\n\r\n    return {\r\n\r\n        width: \"280px\",\r\n        borderRight: `1px solid ${props.theme.borderColor.primary}`,\r\n        height: \"100%\",\r\n        position: \"relative\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        \".groups\": {\r\n            height: \"calc(100% - 5px)\",\r\n        },\r\n        [`@media ${mq[0]}`]: {\r\n            position: \"absolute!important\",\r\n            left: \"-100%\",\r\n            top: \"0\",\r\n            bottom: \"0\",\r\n            width: \"100%!important\",\r\n            zIndex: \"2\",\r\n            backgroundColor: `${props.theme.backgroundColor.white}`,\r\n            transition: \"all .3s ease-out\",\r\n            ...sidebarView\r\n        }\r\n    }\r\n}\r\n\r\nexport const groupScreenMainStyle = (state, props) => {\r\n\r\n    const mq = [...props.theme.breakPoints];\r\n\r\n    const secondaryViewWidth = (state.threadmessageview || state.viewdetailscreen) ? {\r\n\r\n        width: \"calc(100% - 680px)!important\",\r\n        [`@media ${mq[1]}, ${mq[2]}`]: {\r\n            width: \"100%!important\",\r\n        },\r\n        [`@media ${mq[3]}, ${mq[4]}`]: {\r\n            width: \"0!important\",\r\n            display: \"none\",\r\n        },\r\n\r\n    } : {\r\n        width: \"calc(100% - 280px)!important\",\r\n        [`@media ${mq[1]}, ${mq[2]}`]: {\r\n            width: \"100%!important\",\r\n        },\r\n\r\n    };\r\n\r\n    return {\r\n        width: \"calc(100% - 280px)\",\r\n        height: \"100%\",\r\n        order: \"2\",\r\n        ...secondaryViewWidth,\r\n    }\r\n}\r\n\r\nexport const groupScreenSecondaryStyle = (props) => {\r\n\r\n    const mq = [...props.theme.breakPoints];\r\n\r\n    return {\r\n        float: \"right\",\r\n        borderLeft: `1px solid ${props.theme.borderColor.primary}`,\r\n        height: \"100%\",\r\n        width: \"400px\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        order: \"3\",\r\n        [`@media ${mq[1]}, ${mq[2]}, ${mq[3]}, ${mq[4]}`]: {\r\n            position: \"absolute!important\",\r\n            right: \"0!important\",\r\n            top: \"0\",\r\n            bottom: \"0\",\r\n            width: \"100%!important\",\r\n            zIndex: \"2\",\r\n            backgroundColor: `${props.theme.backgroundColor.white}`,\r\n        }\r\n    }\r\n}\r\n","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\nimport { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport { CometChatGroupList, CometChatGroupDetails } from \"../\";\r\nimport { CometChatMessages, CometChatImageViewer, CometChatMessageThread } from \"../../Messages\";\r\nimport { CometChatIncomingDirectCall } from \"../../Calls\";\r\n\r\nimport * as enums from \"../../../util/enums.js\";\r\n\r\nimport { theme } from \"../../../resources/theme\";\r\nimport Translator from \"../../../resources/localization/translator\";\r\n\r\nimport {\r\n  groupScreenStyle,\r\n  groupScreenSidebarStyle,\r\n  groupScreenMainStyle,\r\n  groupScreenSecondaryStyle\r\n} from \"./style\"\r\n\r\nclass CometChatGroupListWithMessages extends React.Component {\r\n\r\n  loggedInUser = null;\r\n\r\n  constructor(props) {\r\n\r\n\t\tsuper(props);\r\n\r\n    this.state = {\r\n      darktheme: false,\r\n      viewdetailscreen: false,\r\n      item: {},\r\n      type: \"group\",\r\n      tab: \"groups\",\r\n      groupToUpdate: {},\r\n      threadmessageview: false,\r\n      threadmessagetype: null,\r\n      threadmessageitem: {},\r\n      threadmessageparent: {},\r\n      composedthreadmessage: {},\r\n      sidebarview: false,\r\n      imageView: null,\r\n      groupmessage: {},\r\n      lang: props.lang,\r\n      ongoingDirectCall: false\r\n    }\r\n\r\n    this.messageScreenRef = React.createRef();\r\n    this.incomingMessageRef = React.createRef();\r\n    this.groupListRef = React.createRef();\r\n\r\n    CometChat.getLoggedinUser().then((user) => {\r\n      this.loggedInUser = user;\r\n    }).catch((error) => {\r\n      console.log(\"[CometChatUnified] getLoggedinUser error\", error);\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n    if (!Object.keys(this.state.item).length) {\r\n      this.toggleSideBar();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n\r\n    if (prevProps.lang !== this.props.lang) {\r\n      this.setState({ lang: this.props.lang });\r\n    }\r\n  }\r\n\r\n  changeTheme = (e) => {\r\n    const theme = this.state.darktheme;\r\n    this.setState({darktheme: !theme});\r\n  }\r\n\r\n  itemClicked = (item, type) => {\r\n    \r\n    this.toggleSideBar();\r\n    this.setState({ item: {...item}, type, viewdetailscreen: false });\r\n  }\r\n\r\n  actionHandler = (action, item, count, ...otherProps) => {\r\n    \r\n    switch(action) {\r\n      case \"blockUser\":\r\n        this.blockUser();\r\n      break;\r\n      case \"unblockUser\":\r\n        this.unblockUser();\r\n      break;\r\n      // eslint-disable-next-line no-lone-blocks\r\n      case \"menuClicked\": {\r\n        this.toggleSideBar();\r\n        this.setState({ item: {} });\r\n      }\r\n      break;\r\n      case \"closeMenuClicked\":\r\n        this.toggleSideBar();\r\n      break;\r\n      case \"viewDetail\":\r\n      case \"closeDetailClicked\":\r\n        this.toggleDetailView();\r\n      break;\r\n      case \"groupUpdated\":\r\n        this.groupUpdated(item, count, ...otherProps);\r\n        break;\r\n      case enums.ACTIONS[\"GROUP_DELETED\"]: \r\n        this.deleteGroup(item);\r\n      break;\r\n      case \"leftGroup\":\r\n        this.leaveGroup(item, ...otherProps);\r\n      break;\r\n      case \"membersUpdated\":\r\n        this.updateMembersCount(item, count);\r\n      break;\r\n      case \"viewMessageThread\":\r\n        this.viewMessageThread(item);\r\n      break;\r\n      case \"closeThreadClicked\":\r\n        this.closeThreadMessages();\r\n      break;\r\n      case \"threadMessageComposed\":\r\n        this.onThreadMessageComposed(item);\r\n      break;\r\n      case \"viewActualImage\":\r\n        this.toggleImageView(item);\r\n        break;\r\n      case \"membersAdded\":\r\n        this.membersAdded(item);\r\n        break;\r\n      case \"memberUnbanned\":\r\n        this.memberUnbanned(item);\r\n        break;\r\n      case \"memberScopeChanged\":\r\n        this.memberScopeChanged(item);\r\n        break;\r\n      case \"updateThreadMessage\":\r\n        this.updateThreadMessage(item[0], count);\r\n        break;\r\n      case enums.ACTIONS[\"ACCEPT_DIRECT_CALL\"]:\r\n        this.acceptDirectCall(item);\r\n        break;\r\n      case enums.ACTIONS[\"JOIN_DIRECT_CALL\"]:\r\n        this.joinDirectCall(item);\r\n        break;\r\n      case enums.ACTIONS[\"START_DIRECT_CALL\"]:\r\n        this.ongoingDirectCall(true);\r\n        break;\r\n      case enums.ACTIONS[\"END_DIRECT_CALL\"]:\r\n        this.ongoingDirectCall(false);\r\n        break;\r\n      default:\r\n      break;\r\n    }\r\n  }\r\n\r\n  acceptDirectCall = (call) => {\r\n\r\n    const type = call.receiverType;\r\n    const id = call.receiverId;\r\n\r\n    CometChat.getConversation(id, type).then(conversation => {\r\n\r\n      this.itemClicked(conversation.conversationWith, type);\r\n\r\n      if (this.messageScreenRef) {\r\n        this.messageScreenRef.actionHandler(enums.ACTIONS[\"ACCEPT_DIRECT_CALL\"]);\r\n      }\r\n      this.ongoingDirectCall(true);\r\n\r\n    }).catch(error => {\r\n\r\n      console.log('error while fetching a conversation', error);\r\n    });\r\n  }\r\n\r\n  joinDirectCall = () => {\r\n\r\n    //pause alert audio and close the alert popup\r\n    if (this.incomingMessageRef) {\r\n      this.incomingMessageRef.ignoreCall();\r\n    }\r\n    this.ongoingDirectCall(true);\r\n  }\r\n\r\n  ongoingDirectCall = (flag) => {\r\n    this.setState({ ongoingDirectCall: flag });\r\n  }\r\n\r\n  updateThreadMessage = (message, action) => {\r\n\r\n    if (this.state.threadmessageview === false|| message.id !== this.state.threadmessageparent.id) {\r\n      return false;\r\n    }\r\n\r\n    if (action === \"delete\") {\r\n      this.setState({ threadmessageparent: { ...message }, threadmessageview: false });\r\n    } else {\r\n      this.setState({ threadmessageparent: { ...message } });\r\n    }\r\n\r\n  }\r\n\r\n  blockUser = () => {\r\n\r\n    let usersList = [this.state.item.uid];\r\n    CometChat.blockUsers(usersList).then(list => {\r\n\r\n        this.setState({item: {...this.state.item, blockedByMe: true}});\r\n\r\n    }).catch(error => {\r\n      console.log(\"Blocking user fails with error\", error);\r\n    });\r\n\r\n  }\r\n\r\n  unblockUser = () => {\r\n    \r\n    let usersList = [this.state.item.uid];\r\n    CometChat.unblockUsers(usersList).then(list => {\r\n\r\n        this.setState({item: {...this.state.item, blockedByMe: false}});\r\n\r\n      }).catch(error => {\r\n      console.log(\"unblocking user fails with error\", error);\r\n    });\r\n  }\r\n\r\n  toggleSideBar = () => {\r\n\r\n    const sidebarview = this.state.sidebarview;\r\n    this.setState({ sidebarview: !sidebarview });\r\n  }\r\n\r\n  toggleDetailView = () => {\r\n    let viewdetail = !this.state.viewdetailscreen;\r\n    this.setState({viewdetailscreen: viewdetail,  threadmessageview: false});\r\n  }\r\n\r\n  deleteGroup = (group) => {\r\n\r\n    this.toggleSideBar();\r\n    this.setState({ groupToDelete: group, item: {}, type: CometChat.RECEIVER_TYPE.GROUP, viewdetailscreen: false});\r\n    this.groupListRef.removeGroupFromListOnDeleting(group);\r\n  }\r\n\r\n  leaveGroup = (group) => {\r\n    this.setState({ item: {}, type: CometChat.RECEIVER_TYPE.GROUP, viewdetailscreen: false});\r\n  }\r\n\r\n  updateMembersCount = (item, count) => {\r\n    const group = Object.assign({}, this.state.item, {membersCount: count});\r\n    this.setState({item: group, groupToUpdate: group});\r\n  }\r\n\r\n  groupUpdated = (message, key, group, options) => {\r\n    \r\n    switch(key) {\r\n      case enums.GROUP_MEMBER_BANNED:\r\n      case enums.GROUP_MEMBER_KICKED: {\r\n        if(options.user.uid === this.loggedInUser.uid) {\r\n          this.setState({item: {}, type: \"group\", viewdetailscreen: false});\r\n        }\r\n        break;\r\n      }\r\n      case enums.GROUP_MEMBER_SCOPE_CHANGED: {\r\n        \r\n        if(options.user.uid === this.loggedInUser.uid) {\r\n\r\n          const newObj = Object.assign({}, this.state.item, {\"scope\": options[\"scope\"]})\r\n          this.setState({item: newObj, type: \"group\", viewdetailscreen: false});\r\n        }\r\n        break;\r\n      }\r\n      default:\r\n      break;\r\n    }\r\n  }\r\n\r\n  closeThreadMessages = () => {\r\n    this.setState({viewdetailscreen: false,  threadmessageview: false});\r\n  }\r\n\r\n  viewMessageThread = (parentMessage) => {\r\n\r\n    const message = {...parentMessage};\r\n    const threaditem = {...this.state.item};\r\n    this.setState({\r\n      threadmessageview: true, \r\n      threadmessageparent: message, \r\n      threadmessageitem: threaditem,\r\n      threadmessagetype: this.state.type, \r\n      viewdetailscreen: false\r\n    });\r\n  }\r\n\r\n  onThreadMessageComposed = (composedMessage) => {\r\n\r\n    if(this.state.type !== this.state.threadmessagetype) {\r\n      return false;\r\n    }\r\n\r\n    if((this.state.threadmessagetype === \"group\" && this.state.item.guid !== this.state.threadmessageitem.guid)\r\n    || (this.state.threadmessagetype === \"user\" && this.state.item.uid !== this.state.threadmessageitem.uid)) {\r\n      return false;\r\n    }\r\n\r\n    const message = {...composedMessage};\r\n    this.setState({composedthreadmessage: message});\r\n  }\r\n\r\n  toggleImageView = (message) => {\r\n    this.setState({ imageView: message });\r\n  }\r\n\r\n  membersAdded = (members) => {\r\n\r\n    const messageList = [];\r\n    members.forEach(eachMember => {\r\n\r\n      const message = `${this.loggedInUser.name} added ${eachMember.name}`;\r\n      const sentAt = new Date() / 1000 | 0;\r\n      const messageObj = { \"category\": \"action\", \"message\": message, \"type\": enums.ACTION_TYPE_GROUPMEMBER, \"sentAt\": sentAt };\r\n      messageList.push(messageObj);\r\n    });\r\n\r\n    this.setState({ groupmessage: messageList });\r\n  }\r\n\r\n  memberUnbanned = (members) => {\r\n\r\n    const messageList = [];\r\n    members.forEach(eachMember => {\r\n\r\n      const message = `${this.loggedInUser.name} unbanned ${eachMember.name}`;\r\n      const sentAt = new Date() / 1000 | 0;\r\n      const messageObj = { \"category\": \"action\", \"message\": message, \"type\": enums.ACTION_TYPE_GROUPMEMBER, \"sentAt\": sentAt };\r\n      messageList.push(messageObj);\r\n    });\r\n\r\n    this.setState({ groupmessage: messageList });\r\n  }\r\n\r\n  memberScopeChanged = (members) => {\r\n\r\n    const messageList = [];\r\n\r\n    members.forEach(eachMember => {\r\n\r\n      const message = `${this.loggedInUser.name} made ${eachMember.name} ${eachMember.scope}`;\r\n      const sentAt = new Date() / 1000 | 0;\r\n      const messageObj = { \"category\": \"action\", \"message\": message, \"type\": enums.ACTION_TYPE_GROUPMEMBER, \"sentAt\": sentAt };\r\n      messageList.push(messageObj);\r\n    });\r\n\r\n    this.setState({ groupmessage: messageList });\r\n  }\r\n\r\n  render() {\r\n\r\n    let threadMessageView = null;\r\n    if(this.state.threadmessageview) {\r\n      threadMessageView = (\r\n        <div css={groupScreenSecondaryStyle(this.props)} className=\"groups__secondary-view\">\r\n          <CometChatMessageThread\r\n          theme={this.props.theme}\r\n          tab={this.state.tab}\r\n          item={this.state.threadmessageitem}\r\n          type={this.state.threadmessagetype}\r\n          parentMessage={this.state.threadmessageparent}\r\n          loggedInUser={this.loggedInUser}\r\n          lang={this.state.lang}\r\n          actionGenerated={this.actionHandler} />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    let detailScreen;\r\n    if(this.state.viewdetailscreen) {\r\n\r\n      detailScreen = (\r\n        <div css={groupScreenSecondaryStyle(this.props)} className=\"groups__secondary-view\">\r\n          <CometChatGroupDetails\r\n          theme={this.props.theme}\r\n          item={this.state.item} \r\n          type={this.state.type}\r\n          lang={this.state.lang}\r\n          actionGenerated={this.actionHandler} />\r\n        </div>\r\n      );\r\n      \r\n    }\r\n\r\n    let messageScreen = null;\r\n    if(Object.keys(this.state.item).length) {\r\n      messageScreen = (\r\n        <CometChatMessages\r\n        ref={(el) => { this.messageScreenRef = el; }}\r\n        theme={this.props.theme}\r\n        item={this.state.item} \r\n        tab={this.state.tab}\r\n        type={this.state.type}\r\n        composedthreadmessage={this.state.composedthreadmessage}\r\n        groupmessage={this.state.groupmessage}\r\n        loggedInUser={this.loggedInUser}\r\n        lang={this.state.lang}\r\n        parentComponent=\"groups\"\r\n        actionGenerated={this.actionHandler} />\r\n      );\r\n    }\r\n\r\n    let imageView = null;\r\n    if (this.state.imageView) {\r\n      imageView = (<CometChatImageViewer open={true} close={() => this.toggleImageView(null)} message={this.state.imageView} lang={this.state.lang} />);\r\n    }\r\n\r\n    let incomingMessageView = (<CometChatIncomingDirectCall ref={el => this.incomingMessageRef = el} theme={this.props.theme} lang={this.state.lang} actionGenerated={this.actionHandler} />);\r\n    if (this.state.ongoingDirectCall) {\r\n      incomingMessageView = null;\r\n    }\r\n\r\n    return (\r\n      <div css={groupScreenStyle(this.props.theme)} className=\"cometchat cometchat--groups\">\r\n        <div css={groupScreenSidebarStyle(this.state, this.props)} className=\"groups__sidebar\">\r\n          <CometChatGroupList \r\n          ref={el => this.groupListRef = el}\r\n          theme={this.props.theme}\r\n          item={this.state.item}\r\n          type={this.state.type}\r\n          lang={this.state.lang}\r\n          groupToUpdate={this.state.groupToUpdate}\r\n          onItemClick={this.itemClicked}\r\n          actionGenerated={this.actionHandler}\r\n          enableCloseMenu={Object.keys(this.state.item).length} />\r\n        </div>\r\n        <div css={groupScreenMainStyle(this.state, this.props)} className=\"groups__main\">{messageScreen}</div>\r\n        {detailScreen}\r\n        {threadMessageView}\r\n        {imageView}\r\n        {incomingMessageView}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatGroupListWithMessages.defaultProps = {\r\n  lang: Translator.getDefaultLanguage(),\r\n  theme: theme\r\n};\r\n\r\nCometChatGroupListWithMessages.propTypes = {\r\n  lang: PropTypes.string,\r\n  theme: PropTypes.object\r\n}\r\n\r\nexport default CometChatGroupListWithMessages;","export const chatScreenStyle = (theme) => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        height: \"100%\",\r\n        width: \"100%\",\r\n        boxSizing: \"border-box\",\r\n        fontFamily: `${theme.fontFamily}`,\r\n        position: \"relative\",\r\n        \"*\": {\r\n            boxSizing: \"border-box\",\r\n            fontFamily: `${theme.fontFamily}`,\r\n            \"::-webkit-scrollbar\": {\r\n                width: \"8px\",\r\n                height: \"4px\",\r\n            },\r\n            \"::-webkit-scrollbar-track\": {\r\n                background: \"#ffffff00\"\r\n            },\r\n            \"::-webkit-scrollbar-thumb\": {\r\n                background: \"#ccc\",\r\n                \"&:hover\": {\r\n                    background: \"#aaa\"\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const chatScreenSidebarStyle = (state, props) => {\r\n\r\n    const sidebarView = (state.sidebarview) ? {\r\n        left: \"0\",\r\n        boxShadow: \"rgba(0, 0, 0, .4) -30px 0 30px 30px\"\r\n    } : {};\r\n\r\n    const mq = [...props.theme.breakPoints];\r\n\r\n    return {\r\n        width: \"280px\",\r\n        borderRight: `1px solid ${props.theme.borderColor.primary}`,\r\n        height: \"100%\",\r\n        position: \"relative\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        \"> .chats\": {\r\n            height: \"calc(100% - 5px)\",\r\n        },\r\n        [`@media ${mq[0]}`]: {\r\n            position: \"absolute!important\",\r\n            left: \"-100%\",\r\n            top: \"0\",\r\n            bottom: \"0\",\r\n            width: \"100%!important\",\r\n            zIndex: \"2\",\r\n            backgroundColor: `${props.theme.backgroundColor.white}`,\r\n            transition: \"all .3s ease-out\",\r\n            ...sidebarView\r\n        }\r\n    }\r\n}\r\n\r\nexport const chatScreenMainStyle = (state, props) => {\r\n\r\n    const mq = [...props.theme.breakPoints];\r\n\r\n    const secondaryViewWidth = (state.threadmessageview || state.viewdetailscreen) ? {\r\n\r\n        width: \"calc(100% - 680px)!important\",\r\n        [`@media ${mq[1]}, ${mq[2]}`]: {\r\n            width: \"100%!important\",\r\n        },\r\n        [`@media ${mq[3]}, ${mq[4]}`]: {\r\n            width: \"0!important\",\r\n            display: \"none\",\r\n        },\r\n\r\n    } : {\r\n            width: \"calc(100% - 280px)!important\",\r\n        [`@media ${mq[1]}, ${mq[2]}`]: {\r\n            width: \"100%!important\",\r\n        },\r\n\r\n    };\r\n\r\n    return {\r\n        width: \"calc(100% - 280px)\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        height: \"100%\",\r\n        order: \"2\",\r\n        ...secondaryViewWidth,\r\n    }\r\n}\r\n\r\nexport const chatScreenSecondaryStyle = (props) => {\r\n\r\n    const mq = [...props.theme.breakPoints];\r\n\r\n    return {\r\n        float: \"right\",\r\n        borderLeft: `1px solid ${props.theme.borderColor.primary}`,\r\n        height: \"100%\",\r\n        width: \"400px\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        order: \"3\",\r\n        [`@media ${mq[1]}, ${mq[2]}, ${mq[3]}, ${mq[4]}`]: {\r\n            position: \"absolute!important\",\r\n            right: \"0!important\",\r\n            top: \"0\",\r\n            bottom: \"0\",\r\n            width: \"100%!important\",\r\n            zIndex: \"2\",\r\n            backgroundColor: `${props.theme.backgroundColor.white}`,\r\n        }\r\n    }\r\n}\r\n","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\nimport { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport { CometChatConversationList } from \"../\";\r\nimport { CometChatMessages, CometChatImageViewer, CometChatMessageThread } from \"../../Messages\";\r\nimport { CometChatUserDetails } from \"../../Users\";\r\nimport { CometChatGroupDetails } from \"../../Groups\";\r\nimport { CometChatIncomingCall, CometChatIncomingDirectCall } from \"../../Calls\";\r\n\r\nimport * as enums from \"../../../util/enums.js\";\r\n\r\nimport Translator from \"../../../resources/localization/translator\";\r\nimport { theme } from \"../../../resources/theme\";\r\n\r\nimport {\r\n  chatScreenStyle,\r\n  chatScreenSidebarStyle,\r\n  chatScreenMainStyle,\r\n  chatScreenSecondaryStyle\r\n} from \"./style\";\r\n\r\nclass CometChatConversationListWithMessages extends React.Component {\r\n\r\n  loggedInUser = null;\r\n\r\n  constructor(props) {\r\n\t\tsuper(props);\r\n\r\n    this.state = {\r\n      darktheme: false,\r\n      viewdetailscreen: false,\r\n      item: {},\r\n      type: \"\",\r\n      tab: \"conversations\",\r\n      groupToUpdate: {},\r\n      threadmessageview: false,\r\n      threadmessagetype: null,\r\n      threadmessageitem: {},\r\n      threadmessageparent: {},\r\n      composedthreadmessage: {},\r\n      incomingCall: null,\r\n      sidebarview: false,\r\n      imageView: null,\r\n      groupmessage: {},\r\n      lastmessage: {},\r\n      lang: props.lang,\r\n      unreadMessages: [],\r\n      ongoingDirectCall: false\r\n    }\r\n\r\n    this.messageScreenRef = React.createRef();\r\n    this.chatListRef = React.createRef();\r\n    this.incomingMessageRef = React.createRef();\r\n\r\n    CometChat.getLoggedinUser().then((user) => {\r\n      this.loggedInUser = user;\r\n    }).catch((error) => {\r\n      console.log(\"[CometChatUnified] getLoggedinUser error\", error);\r\n    });\r\n  }\r\n  \r\n  componentDidMount() {\r\n\r\n    if(!Object.keys(this.state.item).length) {\r\n      this.toggleSideBar();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n\r\n    if (prevProps.lang !== this.props.lang) {\r\n      this.setState({ lang: this.props.lang });\r\n    }\r\n  }\r\n\r\n  changeTheme = (e) => {\r\n\r\n    const theme = this.state.darktheme;\r\n    this.setState({darktheme: !theme})\r\n  }\r\n\r\n  itemClicked = (item, type) => {\r\n\r\n    this.toggleSideBar();\r\n    this.setState({ item: {...item}, type, viewdetailscreen: false })\r\n  }\r\n\r\n  actionHandler = (action, item, count, ...otherProps) => {\r\n    \r\n    switch(action) {\r\n      case \"blockUser\":\r\n        this.blockUser();\r\n      break;\r\n      case \"unblockUser\":\r\n        this.unblockUser();\r\n      break;\r\n      case \"viewDetail\":\r\n      case \"closeDetailClicked\":\r\n        this.toggleDetailView();\r\n      break;\r\n      // eslint-disable-next-line no-lone-blocks\r\n      case \"menuClicked\":{\r\n        this.toggleSideBar();\r\n        this.setState({ item: {} });\r\n      }\r\n        break;\r\n      case \"closeMenuClicked\":\r\n        this.toggleSideBar();\r\n      break;\r\n      case \"groupUpdated\":\r\n        this.groupUpdated(item, count, ...otherProps);\r\n      break;\r\n      case enums.ACTIONS[\"GROUP_DELETED\"]: \r\n        this.deleteGroup(item);\r\n      break;\r\n      case enums.ACTIONS[\"GROUP_LEFT\"]:\r\n        this.leaveGroup(item, ...otherProps);\r\n      break;\r\n      case \"membersUpdated\":\r\n        this.updateMembersCount(item, count);\r\n      break;\r\n      case \"viewMessageThread\":\r\n        this.viewMessageThread(item);\r\n      break;\r\n      case \"closeThreadClicked\":\r\n        this.closeThreadMessages();\r\n      break;\r\n      case \"threadMessageComposed\":\r\n        this.onThreadMessageComposed(item);\r\n        this.updateLastMessage(item[0]);\r\n      break;\r\n      case \"acceptedIncomingCall\":\r\n        this.acceptedIncomingCall(item);\r\n        break;\r\n      case \"rejectedIncomingCall\":\r\n        this.rejectedIncomingCall(item, count);\r\n        break;\r\n      case \"viewActualImage\":\r\n        this.toggleImageView(item);\r\n        break;\r\n      case \"membersAdded\":\r\n        this.membersAdded(item);\r\n        break;\r\n      case \"memberUnbanned\":\r\n        this.memberUnbanned(item);\r\n        break;\r\n      case \"memberScopeChanged\":\r\n        this.memberScopeChanged(item);\r\n        break;\r\n      case \"messageComposed\":\r\n        this.chatListRef.updateLastMessage(item[0]);\r\n        break;\r\n      case \"messageEdited\":\r\n      case \"messageDeleted\":\r\n        this.updateLastMessage(item[0]);\r\n        break;\r\n      case \"updateThreadMessage\":\r\n        this.updateThreadMessage(item[0], count);\r\n        break;\r\n      case \"unreadMessages\":\r\n        this.setState({ unreadMessages: [...item] });\r\n        break;\r\n      case enums.ACTIONS[\"ACCEPT_DIRECT_CALL\"]:\r\n        this.acceptDirectCall(item);\r\n        break;\r\n      case enums.ACTIONS[\"JOIN_DIRECT_CALL\"]:\r\n        this.joinDirectCall(item);\r\n        break;\r\n      case enums.ACTIONS[\"START_DIRECT_CALL\"]:\r\n        this.ongoingDirectCall(true);\r\n        break;\r\n      case enums.ACTIONS[\"END_DIRECT_CALL\"]:\r\n        this.ongoingDirectCall(false);\r\n        break;\r\n      default:\r\n      break;\r\n    }\r\n  }\r\n\r\n  updateLastMessage = (message) => {\r\n    this.setState({ lastmessage: message });\r\n  }\r\n\r\n  updateThreadMessage = (message, action) => {\r\n\r\n    if (this.state.threadmessageview === false || message.id !== this.state.threadmessageparent.id) {\r\n      return false;\r\n    }\r\n\r\n    if (action === \"delete\") {\r\n      this.setState({ threadmessageparent: { ...message }, threadmessageview: false });\r\n    } else {\r\n      this.setState({ threadmessageparent: { ...message } });\r\n    }\r\n\r\n  }\r\n\r\n  blockUser = () => {\r\n\r\n    let usersList = [this.state.item.uid];\r\n    CometChat.blockUsers(usersList).then(list => {\r\n\r\n        this.setState({item: {...this.state.item, blockedByMe: true}});\r\n\r\n    }).catch(error => {\r\n      console.log(\"Blocking user fails with error\", error);\r\n    });\r\n\r\n  }\r\n\r\n  unblockUser = () => {\r\n    \r\n    let usersList = [this.state.item.uid];\r\n    CometChat.unblockUsers(usersList).then(list => {\r\n\r\n        this.setState({item: {...this.state.item, blockedByMe: false}});\r\n\r\n      }).catch(error => {\r\n      console.log(\"unblocking user fails with error\", error);\r\n    });\r\n\r\n  }\r\n\r\n  toggleDetailView = () => {\r\n\r\n    let viewdetail = !this.state.viewdetailscreen;\r\n    this.setState({viewdetailscreen: viewdetail, threadmessageview: false});\r\n  }\r\n\r\n  toggleSideBar = () => {\r\n\r\n    const sidebarview = this.state.sidebarview;\r\n    this.setState({ sidebarview: !sidebarview });\r\n  }\r\n\r\n  deleteGroup = (group) => {\r\n\r\n    this.toggleSideBar();\r\n    this.setState({ item: {}, type: CometChat.RECEIVER_TYPE.GROUP, viewdetailscreen: false});\r\n    this.chatListRef.removeGroupFromListOnDeleting(group);\r\n  }\r\n\r\n  leaveGroup = (group) => {\r\n\r\n    this.toggleSideBar();\r\n    this.setState({ item: {}, type: CometChat.RECEIVER_TYPE.GROUP, viewdetailscreen: false});\r\n  }\r\n\r\n  updateMembersCount = (item, count) => {\r\n\r\n    const group = Object.assign({}, this.state.item, {membersCount: count});\r\n    this.setState({item: group, groupToUpdate: group});\r\n  }\r\n\r\n  groupUpdated = (message, key, group, options) => {\r\n    \r\n    switch(key) {\r\n      case enums.GROUP_MEMBER_BANNED:\r\n      case enums.GROUP_MEMBER_KICKED: {\r\n        if(options.user.uid === this.loggedInUser.uid) {\r\n          this.setState({item: {}, type: \"group\", viewdetailscreen: false});\r\n        }\r\n        break;\r\n      }\r\n      case enums.GROUP_MEMBER_SCOPE_CHANGED: {\r\n        \r\n        if(options.user.uid === this.loggedInUser.uid) {\r\n\r\n          const newObj = Object.assign({}, this.state.item, {\"scope\": options[\"scope\"]})\r\n          this.setState({item: newObj, type: \"group\", viewdetailscreen: false});\r\n        }\r\n        break;\r\n      }\r\n      default:\r\n      break;\r\n    }\r\n  }\r\n\r\n  closeThreadMessages = () => {\r\n    this.setState({viewdetailscreen: false, threadmessageview: false});\r\n  }\r\n\r\n  viewMessageThread = (parentMessage) => {\r\n\r\n    const message = {...parentMessage};\r\n    const threaditem = {...this.state.item};\r\n    this.setState({\r\n      threadmessageview: true, \r\n      threadmessageparent: message, \r\n      threadmessageitem: threaditem,\r\n      threadmessagetype: this.state.type, \r\n      viewdetailscreen: false\r\n    });\r\n  }\r\n\r\n  onThreadMessageComposed = (composedMessage) => {\r\n\r\n    if(this.state.type !== this.state.threadmessagetype) {\r\n      return false;\r\n    }\r\n\r\n    if((this.state.threadmessagetype === \"group\" && this.state.item.guid !== this.state.threadmessageitem.guid)\r\n    || (this.state.threadmessagetype === \"user\" && this.state.item.uid !== this.state.threadmessageitem.uid)) {\r\n      return false;\r\n    }\r\n\r\n    const message = {...composedMessage};\r\n    this.setState({composedthreadmessage: message});\r\n  }\r\n\r\n  acceptedIncomingCall = (call) => {\r\n\r\n    const type = call.receiverType;\r\n    const id = call.receiverId;\r\n\r\n    CometChat.getConversation(id, type).then(conversation => {\r\n\r\n      this.itemClicked(conversation.conversationWith, type);\r\n      this.setState({ incomingCall: call });\r\n\r\n    }).catch(error => {\r\n\r\n      console.log('error while fetching a conversation', error);\r\n    });\r\n  }\r\n\r\n  rejectedIncomingCall = (incomingCallMessage, rejectedCallMessage) => {\r\n\r\n    if (this.messageScreenRef) {\r\n      this.messageScreenRef.rejectedIncomingCall(incomingCallMessage, rejectedCallMessage);\r\n    }\r\n  }\r\n\r\n  acceptDirectCall = (call) => {\r\n\r\n    const type = call.receiverType;\r\n    const id = call.receiverId;\r\n\r\n    CometChat.getConversation(id, type).then(conversation => {\r\n\r\n      this.itemClicked(conversation.conversationWith, type);\r\n\r\n      if (this.messageScreenRef) {\r\n        this.messageScreenRef.actionHandler(enums.ACTIONS[\"ACCEPT_DIRECT_CALL\"]);\r\n      }\r\n      this.ongoingDirectCall(true);\r\n\r\n    }).catch(error => {\r\n\r\n      console.log('error while fetching a conversation', error);\r\n    });\r\n  }\r\n\r\n  joinDirectCall = () => {\r\n\r\n    //pause alert audio and close the alert popup\r\n    if (this.incomingMessageRef) {\r\n      this.incomingMessageRef.ignoreCall();\r\n    }\r\n    this.ongoingDirectCall(true);\r\n  }\r\n\r\n  ongoingDirectCall = (flag) => {\r\n    this.setState({ ongoingDirectCall: flag });\r\n  }\r\n\r\n  toggleImageView = (message) => {\r\n    this.setState({ imageView: message });\r\n  }\r\n\r\n  membersAdded = (members) => {\r\n\r\n    const messageList = [];\r\n    members.forEach(eachMember => {\r\n\r\n      const message = `${this.loggedInUser.name} ${Translator.translate(\"ADDED\", this.state.lang)} ${eachMember.name}`;\r\n      const sentAt = new Date() / 1000 | 0;\r\n      const messageObj = { \"category\": \"action\", \"message\": message, \"type\": enums.ACTION_TYPE_GROUPMEMBER, \"sentAt\": sentAt };\r\n      messageList.push(messageObj);\r\n    });\r\n\r\n    this.setState({ groupmessage: messageList });\r\n  }\r\n\r\n  memberUnbanned = (members) => {\r\n\r\n    const messageList = [];\r\n    members.forEach(eachMember => {\r\n\r\n      const message = `${this.loggedInUser.name} ${Translator.translate(\"UNBANNED\", this.state.lang)} ${eachMember.name}`;\r\n      const sentAt = new Date() / 1000 | 0;\r\n      const messageObj = { \"category\": \"action\", \"message\": message, \"type\": enums.ACTION_TYPE_GROUPMEMBER, \"sentAt\": sentAt };\r\n      messageList.push(messageObj);\r\n    });\r\n\r\n    this.setState({ groupmessage: messageList });\r\n  }\r\n\r\n  memberScopeChanged = (members) => {\r\n\r\n    const messageList = [];\r\n\r\n    members.forEach(eachMember => {\r\n\r\n      const message = `${this.loggedInUser.name} ${Translator.translate(\"MADE\", this.state.lang)} ${eachMember.name} ${eachMember.scope}`;\r\n      const sentAt = new Date() / 1000 | 0;\r\n      const messageObj = { \"category\": \"action\", \"message\": message, \"type\": enums.ACTION_TYPE_GROUPMEMBER, \"sentAt\": sentAt };\r\n      messageList.push(messageObj);\r\n    });\r\n\r\n    this.setState({ groupmessage: messageList });\r\n  }\r\n\r\n  render() {\r\n\r\n    let threadMessageView = null;\r\n    if(this.state.threadmessageview) {\r\n      threadMessageView = (\r\n        <div css={chatScreenSecondaryStyle(this.props)} className=\"chats__secondary-view\">\r\n          <CometChatMessageThread\r\n          theme={this.props.theme}\r\n          tab={this.state.tab}\r\n          item={this.state.threadmessageitem}\r\n          type={this.state.threadmessagetype}\r\n          parentMessage={this.state.threadmessageparent}\r\n          loggedInUser={this.loggedInUser}\r\n          lang={this.state.lang}\r\n          actionGenerated={this.actionHandler} />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    let detailScreen;\r\n    if(this.state.viewdetailscreen) {\r\n\r\n      if(this.state.type === \"user\") {\r\n\r\n        detailScreen = (\r\n          <div css={chatScreenSecondaryStyle(this.props)} className=\"chats__secondary-view\">\r\n            <CometChatUserDetails\r\n              theme={this.props.theme}\r\n              item={this.state.item} \r\n              type={this.state.type}\r\n              lang={this.state.lang}\r\n              actionGenerated={this.actionHandler} />\r\n          </div>);\r\n\r\n      } else if (this.state.type === \"group\") {\r\n\r\n        detailScreen = (\r\n          <div css={chatScreenSecondaryStyle(this.props)} className=\"chats__secondary-view\">\r\n          <CometChatGroupDetails\r\n            theme={this.props.theme}\r\n            item={this.state.item} \r\n            type={this.state.type}\r\n            lang={this.state.lang}\r\n            actionGenerated={this.actionHandler} />\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n\r\n    let messageScreen = null;\r\n    if(Object.keys(this.state.item).length) {\r\n      messageScreen = (\r\n        <CometChatMessages\r\n        ref={(el) => { this.messageScreenRef = el; }}\r\n        theme={this.props.theme}\r\n        item={this.state.item} \r\n        tab={this.state.tab}\r\n        type={this.state.type}\r\n        composedthreadmessage={this.state.composedthreadmessage}\r\n        groupmessage={this.state.groupmessage}\r\n        loggedInUser={this.loggedInUser}\r\n        lang={this.state.lang}\r\n        parentComponent=\"conversations\"\r\n        incomingCall={this.state.incomingCall}\r\n        actionGenerated={this.actionHandler} />\r\n      );\r\n    }\r\n\r\n    let imageView = null;\r\n    if (this.state.imageView) {\r\n      imageView = (<CometChatImageViewer open={true} close={() => this.toggleImageView(null)} message={this.state.imageView} lang={this.state.lang} />);\r\n    }\r\n    \r\n    let incomingMessageView = (<CometChatIncomingDirectCall ref={el => this.incomingMessageRef = el} theme={this.props.theme} lang={this.state.lang} actionGenerated={this.actionHandler} />);\r\n    if (this.state.ongoingDirectCall) {\r\n      incomingMessageView = null;\r\n    }\r\n\r\n    return (\r\n      <div css={chatScreenStyle(this.props.theme)} className=\"cometchat cometchat--chats\" dir={Translator.getDirection(this.state.lang)}>\r\n        <div css={chatScreenSidebarStyle(this.state, this.props)} className=\"chats__sidebar\">\r\n          <CometChatConversationList\r\n          ref={el => this.chatListRef = el}\r\n          theme={this.props.theme}\r\n          item={this.state.item}\r\n          type={this.state.type}\r\n          lang={this.state.lang}\r\n          groupToUpdate={this.state.groupToUpdate}\r\n          unreadMessages={this.state.unreadMessages}\r\n          onItemClick={this.itemClicked}\r\n          lastMessage={this.state.lastmessage}\r\n          actionGenerated={this.actionHandler}\r\n          enableCloseMenu={Object.keys(this.state.item).length} />\r\n        </div>\r\n        <div css={chatScreenMainStyle(this.state, this.props)} className=\"chats__main\">{messageScreen}</div>\r\n        {detailScreen}\r\n        {threadMessageView}\r\n        {imageView}\r\n        <CometChatIncomingCall theme={this.props.theme} lang={this.state.lang} actionGenerated={this.actionHandler} />\r\n        {incomingMessageView}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatConversationListWithMessages.defaultProps = {\r\n  lang: Translator.getDefaultLanguage(),\r\n  theme: theme\r\n};\r\n\r\nCometChatConversationListWithMessages.propTypes = {\r\n  lang: PropTypes.string,\r\n  theme: PropTypes.object\r\n}\r\n\r\nexport default CometChatConversationListWithMessages;","export const userInfoScreenStyle = (props) =>{\r\n\r\n    return {\r\n        display: \"flex\",\r\n        flexDirection: \"column!important\",\r\n        height: \"calc(100% - 40px)\",\r\n        fontFamily: `${props.theme.fontFamily}`,\r\n        \"*\": {\r\n            boxSizing: \"border-box\",\r\n            fontFamily: `${props.theme.fontFamily}`,\r\n        }\r\n    }\r\n}\r\n\r\nexport const headerStyle = (props) => {\r\n\r\n    return {\r\n        padding: \"16px\",\r\n        position: \"relative\",\r\n        borderBottom: `1px solid ${props.theme.borderColor.primary}`,\r\n        height: \"70px\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n    }\r\n}\r\n\r\nexport const headerTitleStyle = () => {\r\n\r\n    return {\r\n        margin: \"0\",\r\n        fontWeight: \"700\",\r\n        fontSize: \"22px\"\r\n    }\r\n}\r\n\r\nexport const detailStyle = () => {\r\n\r\n    return {\r\n        padding: \"16px\",\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        justifyContent: \"left\",\r\n        alignItems: \"center\",\r\n    }\r\n}\r\n\r\nexport const thumbnailStyle = () => {\r\n\r\n    return {\r\n        display: \"inline-block\",\r\n        width: \"36px\",\r\n        height: \"36px\",\r\n        flexShrink: \"0\",\r\n    }\r\n}\r\n\r\nexport const userDetailStyle = () => {\r\n    \r\n    return {\r\n        width: \"calc(100% - 45px)\",\r\n        flexGrow: \"1\",\r\n        paddingLeft: \"16px\",\r\n        \"&[dir=rtl]\": {\r\n            paddingRight: \"16px\",\r\n            paddingLeft: \"0\",\r\n        }\r\n    }\r\n}\r\n\r\nexport const userNameStyle = () => {\r\n\r\n    return {\r\n        margin: \"0\",\r\n        fontSize: \"15px\",\r\n        fontWeight: \"600\",\r\n        display: \"block\",\r\n        maxWidth: \"100%\",\r\n        overflow: \"hidden\",\r\n        textOverflow: \"ellipsis\",\r\n        whiteSpace: \"nowrap\",\r\n    }\r\n}\r\n\r\nexport const userStatusStyle = (props) => {\r\n\r\n    return {\r\n        fontSize: \"13px\",\r\n        margin: \"0\",\r\n        color: `${props.theme.color.blue}`,\r\n    }\r\n}\r\n\r\nexport const optionsStyle = () => {\r\n\r\n    return {\r\n        height: \"calc(100% - 196px)\",\r\n        overflowY: \"auto\",\r\n        padding: \"0 16px\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        justifyContent: \"left\",\r\n        alignItems: \"flex-start\",\r\n    }\r\n}\r\n\r\nexport const optionTitleStyle = (props) => {\r\n\r\n    return {\r\n        margin: \"5px 0\",\r\n        width: \"100%\",\r\n        fontSize: \"12px\",\r\n        color: `${props.theme.color.helpText}`,\r\n        textTransform: \"uppercase\",\r\n    }\r\n}\r\n\r\nexport const optionListStyle = () => {\r\n\r\n    return {\r\n        padding: \"10px 0\",\r\n        width: \"100%\",\r\n        fontSize: \"15px\"\r\n    }\r\n}\r\n\r\nexport const optionStyle = (img) => {\r\n\r\n    return {\r\n        width: \"100%\",\r\n        padding: \"15px 15px 15px 48px\",\r\n        fontWeight: 600,\r\n        background: `url(${img}) 16px center no-repeat`,\r\n    }\r\n}\r\n\r\nexport const optionNameStyle = () => {\r\n\r\n    return {\r\n        width: \"100%\",\r\n    }\r\n}","export default __webpack_public_path__ + \"static/media/notification-black-icon.1b43e28a.svg\";","export default __webpack_public_path__ + \"static/media/privacy-black-icon.e3bd1921.svg\";","export default __webpack_public_path__ + \"static/media/chat-black-icon.d41417ff.svg\";","export default __webpack_public_path__ + \"static/media/help-black-icon.be7fae3d.svg\";","export default __webpack_public_path__ + \"static/media/report-black-icon.45654f9c.svg\";","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\nimport { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport { CometChatAvatar } from \"../../Shared\";\r\n\r\nimport { theme } from \"../../../resources/theme\";\r\nimport Translator from \"../../../resources/localization/translator\";\r\n\r\nimport {\r\n  userInfoScreenStyle,\r\n  headerStyle,\r\n  headerTitleStyle,\r\n  detailStyle,\r\n  thumbnailStyle,\r\n  userDetailStyle,\r\n  userNameStyle,\r\n  userStatusStyle,\r\n  optionsStyle,\r\n  optionTitleStyle,\r\n  optionListStyle,\r\n  optionStyle,\r\n  optionNameStyle\r\n} from \"./style\";\r\n\r\nimport notificationIcon from \"./resources/notification-black-icon.svg\";\r\nimport privacyIcon from \"./resources/privacy-black-icon.svg\";\r\nimport chatIcon from \"./resources/chat-black-icon.svg\";\r\nimport helpIcon from \"./resources/help-black-icon.svg\";\r\nimport reportIcon from \"./resources/report-black-icon.svg\";\r\n\r\nclass CometChatUserProfile extends React.Component {\r\n\r\n  constructor(props) {\r\n\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: {},\r\n    }\r\n  }\r\n  \r\n  componentDidMount() {\r\n    this.getProfile();\r\n  }\r\n\r\n  getProfile() {\r\n\r\n    CometChat.getLoggedinUser().then(user => {\r\n\r\n      this.setState({ user: user });\r\n\r\n    }).catch(error => {\r\n      console.log(\"[CometChatUserInfoScreen] getProfile getLoggedinUser error\", error);\r\n    });\r\n\r\n  }\r\n\r\n  render() {\r\n\r\n    let avatar = null;\r\n    if(Object.keys(this.state.user).length) {\r\n      avatar = (<CometChatAvatar user={this.state.user} borderColor={this.props.theme.borderColor.primary} />);\r\n    }\r\n\r\n    return (\r\n      <div css={userInfoScreenStyle(this.props)} className=\"userinfo\">\r\n        <div css={headerStyle(this.props)} className=\"userinfo__header\">\r\n          <h4 css={headerTitleStyle()} className=\"header__title\">{Translator.translate(\"MORE\", this.props.lang)}</h4>\r\n        </div>\r\n        <div css={detailStyle()} className=\"userinfo__detail\">\r\n          <div css={thumbnailStyle()} className=\"detail__thumbnail\">{avatar}</div>\r\n          <div css={userDetailStyle()} className=\"detail__user\" dir={Translator.getDirection(this.props.lang)}>\r\n            <div css={userNameStyle()} className=\"user__name\">{this.state.user.name}</div>\r\n            <p css={userStatusStyle(this.props)} className=\"user__status\">{Translator.translate(\"ONLINE\", this.props.lang)}</p>\r\n          </div>\r\n        </div>\r\n        <div css={optionsStyle()} className=\"userinfo__options\">\r\n          <div css={optionTitleStyle(this.props)} className=\"options__title\">{Translator.translate(\"PREFERENCES\", this.props.lang)}</div>\r\n          <div css={optionListStyle()} className=\"options_list\">\r\n            <div css={optionStyle(notificationIcon)} className=\"option option-notification\">\r\n              <div css={optionNameStyle()} className=\"option_name\">{Translator.translate(\"NOTIFICATIONS\", this.props.lang)}</div>\r\n            </div>\r\n            <div css={optionStyle(privacyIcon)} className=\"option option-privacy\">\r\n              <div css={optionNameStyle()} className=\"option_name\">{Translator.translate(\"PRIVACY_AND_SECURITY\", this.props.lang)}</div>\r\n            </div>\r\n            <div css={optionStyle(chatIcon)} className=\"option option-chats\">\r\n              <div css={optionNameStyle()} className=\"option_name\">{Translator.translate(\"CHATS\", this.props.lang)}</div>\r\n            </div>\r\n          </div>\r\n          <div css={optionTitleStyle(this.props)} className=\"options__title\">{Translator.translate(\"OTHER\", this.props.lang)}</div>\r\n          <div css={optionListStyle()} className=\"options_list\">\r\n            <div css={optionStyle(helpIcon)} className=\"option option-help\">\r\n              <div css={optionNameStyle()} className=\"option_name\">{Translator.translate(\"HELP\", this.props.lang)}</div>\r\n            </div>\r\n            <div css={optionStyle(reportIcon)} className=\"option option-report\">\r\n              <div css={optionNameStyle()} className=\"option_name\">{Translator.translate(\"REPORT_PROBLEM\", this.props.lang)}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatUserProfile.defaultProps = {\r\n  lang: Translator.getDefaultLanguage(),\r\n  theme: theme\r\n};\r\n\r\nCometChatUserProfile.propTypes = {\r\n  lang: PropTypes.string,\r\n  theme: PropTypes.object\r\n}\r\n\r\nexport default CometChatUserProfile;","export const footerStyle = () => {\r\n\r\n    return {\r\n        width: \"100%\",\r\n        zIndex: \"1\",\r\n    }\r\n}\r\n\r\nexport const navbarStyle = () => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"space-around\",\r\n    }\r\n}\r\n\r\nexport const itemStyle = () => {\r\n\r\n    return {\r\n        display: \"inline-block\",\r\n        padding: \"8px\",\r\n        cursor: \"pointer\"\r\n    }\r\n}\r\n\r\nexport const itemLinkStyle = (icon, activeStateIcon, isActive, key) => {\r\n\r\n    let activeStateBg = (isActive) ? { background: `url(${activeStateIcon}) center center no-repeat`, } : {};\r\n\r\n    let widthProp = {};\r\n\r\n    if(key === \"groups\") {\r\n        widthProp = { width: \"31px\" }\r\n    } else if (key === \"chats\") {\r\n        widthProp = { width: \"22px\" }\r\n    } else {\r\n        widthProp = { width: \"20px\" }\r\n    }\r\n\r\n    return {\r\n        height: \"20px\",\r\n        ...widthProp,\r\n        display: \"inline-block\",\r\n        background: `url(${icon}) center center no-repeat`,\r\n        ...activeStateBg\r\n    }\r\n}","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { CometChatUserList } from \"../../Users\";\r\nimport { CometChatGroupList } from \"../../Groups\";\r\nimport { CometChatConversationList } from \"../../Chats\";\r\nimport { CometChatUserProfile } from \"../../UserProfile\";\r\n\r\nimport Translator from \"../../../resources/localization/translator\";\r\nimport { theme } from \"../../../resources/theme\";\r\n\r\nimport {\r\n  footerStyle,\r\n  navbarStyle,\r\n  itemStyle,\r\n  itemLinkStyle\r\n} from \"./style\";\r\n\r\nimport chatGreyIcon from \"./resources/chats-grey.png\";\r\nimport chatBlueIcon from \"./resources/chats-blue.png\";\r\nimport contactGreyIcon from \"./resources/contacts-grey.png\";\r\nimport contactBlueIcon from \"./resources/contacts-blue.png\";\r\nimport groupGreyIcon from \"./resources/groups-grey.png\";\r\nimport groupBlueIcon from \"./resources/groups-blue.png\";\r\nimport moreGreyIcon from \"./resources/userinfo-grey.png\";\r\nimport moreBlueIcon from \"./resources/userinfo-blue.png\";\r\n\r\nexport class CometChatNavBar extends React.Component {\r\n\r\n  constructor(props) {\r\n\r\n    super(props);\r\n\r\n    this.chatListRef = React.createRef();\r\n    this.groupListRef = React.createRef();\r\n  }\r\n\r\n  updateLastMessage = (message) => {\r\n\r\n    if (this.props.activeTab !== this.props.tabs[\"CHATS\"]) {\r\n      return false;\r\n    }\r\n    \r\n    this.chatListRef.updateLastMessage(message);\r\n  }\r\n\r\n  removeGroupFromListOnDeleting = (group) => {\r\n\r\n    if (this.props.activeTab === this.props.tabs[\"CHATS\"]) {\r\n\r\n      this.chatListRef.removeGroupFromListOnDeleting(group);\r\n\r\n    } else if (this.props.activeTab === this.props.tabs[\"GROUPS\"]) {\r\n\r\n      this.groupListRef.removeGroupFromListOnDeleting(group);\r\n    }    \r\n  }\r\n\r\n  getDefaultComponent = () => {\r\n\r\n    switch (this.props.activeTab) {\r\n      case \"users\":\r\n        return <CometChatUserList\r\n          theme={this.props.theme}\r\n          item={this.props.item}\r\n          type={this.props.type}\r\n          lang={this.props.lang}\r\n          actionGenerated={this.props.actionGenerated}\r\n          enableCloseMenu={this.props.enableCloseMenu}\r\n          onItemClick={(item, type) => this.props.actionGenerated(\"itemClicked\", type, item)} />;\r\n      case \"calls\":\r\n        return \"calls\";\r\n      case \"chats\":\r\n        return <CometChatConversationList\r\n          ref={el => this.chatListRef = el}\r\n          theme={this.props.theme}\r\n          item={this.props.item}\r\n          type={this.props.type}\r\n          lang={this.props.lang}\r\n          groupToUpdate={this.props.groupToUpdate}\r\n          lastMessage={this.props.lastMessage}\r\n          unreadMessages={this.props.unreadMessages}\r\n          actionGenerated={this.props.actionGenerated}\r\n          enableCloseMenu={this.props.enableCloseMenu}\r\n          onItemClick={(item, type) => this.props.actionGenerated(\"itemClicked\", type, item)} />;\r\n      case \"groups\":\r\n        return <CometChatGroupList\r\n          ref={el => this.groupListRef = el}\r\n          theme={this.props.theme}\r\n          item={this.props.item}\r\n          type={this.props.type}\r\n          lang={this.props.lang}\r\n          groupToLeave={this.props.groupToLeave}\r\n          groupToDelete={this.props.groupToDelete}\r\n          groupToUpdate={this.props.groupToUpdate}\r\n          actionGenerated={this.props.actionGenerated}\r\n          enableCloseMenu={this.props.enableCloseMenu}\r\n          onItemClick={(item, type) => this.props.actionGenerated(\"itemClicked\", type, item)} />;\r\n      case \"info\":\r\n        return <CometChatUserProfile\r\n          theme={this.props.theme}\r\n          lang={this.props.lang}\r\n          onItemClick={(item, type) => this.props.actionGenerated(\"itemClicked\", type, item)} />;\r\n      default:\r\n        return null;\r\n    }\r\n  }\r\n\r\n  render() {\r\n\r\n    const chatsTabActive = (this.props.activeTab === this.props.tabs[\"CHATS\"]) ? true : false;\r\n    const userTabActive = (this.props.activeTab === this.props.tabs[\"USERS\"]) ? true : false;\r\n    const groupsTabActive = (this.props.activeTab === this.props.tabs[\"GROUPS\"]) ? true : false;\r\n    const moreTabActive = (this.props.activeTab === this.props.tabs[\"INFO\"]) ? true : false;\r\n\r\n    return (\r\n      <React.Fragment>\r\n        {this.getDefaultComponent()}\r\n        <div css={footerStyle()} className=\"sidebar__footer\">\r\n          <div css={navbarStyle()} className=\"footer__navbar\">\r\n            <div css={itemStyle()} className=\"navbar__item\" onClick={() => this.props.actionGenerated('tabChanged', this.props.tabs[\"CHATS\"])}>\r\n              <div \r\n              css={itemLinkStyle(chatGreyIcon, chatBlueIcon, chatsTabActive, this.props.tabs[\"CHATS\"])} \r\n              className=\"item__link item__link__chats\"\r\n              title={Translator.translate(\"CHATS\", this.props.lang)}></div>\r\n            </div>\r\n            <div css={itemStyle()} className=\"navbar__item\" onClick={() => this.props.actionGenerated('tabChanged', this.props.tabs[\"USERS\"])}>\r\n              <div \r\n              css={itemLinkStyle(contactGreyIcon, contactBlueIcon, userTabActive, this.props.tabs[\"USERS\"])} \r\n              className=\"item__link item__link__contacts\"\r\n              title={Translator.translate(\"USERS\", this.props.lang)}></div>\r\n            </div>\r\n            <div css={itemStyle()} className=\"navbar__item\" onClick={() => this.props.actionGenerated('tabChanged', this.props.tabs[\"GROUPS\"])}>\r\n              <div \r\n              css={itemLinkStyle(groupGreyIcon, groupBlueIcon, groupsTabActive, this.props.tabs[\"GROUPS\"])} \r\n              className=\"item__link item__link__groups\"\r\n              title={Translator.translate(\"GROUPS\", this.props.lang)}></div>\r\n            </div>\r\n            <div css={itemStyle()} className=\"navbar__item\" onClick={() => this.props.actionGenerated('tabChanged', this.props.tabs[\"INFO\"])}>\r\n              <div \r\n              css={itemLinkStyle(moreGreyIcon, moreBlueIcon, moreTabActive, this.props.tabs[\"INFO\"])} \r\n              className=\"item__link item__link__info\"\r\n              title={Translator.translate(\"MORE\", this.props.lang)}></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatNavBar.defaultProps = {\r\n  lang: Translator.getDefaultLanguage(),\r\n  theme: theme\r\n};\r\n\r\nCometChatNavBar.propTypes = {\r\n  lang: PropTypes.string,\r\n  theme: PropTypes.object\r\n}","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAUCAYAAACJfM0wAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFqADAAQAAAABAAAAFAAAAABm4WA6AAAByElEQVQ4Ea2Vu0vDcBDHmxcpSDeXQv8Cl4KD6CClODkUhGDpA0c3964i4qjg4HMqWJpBCoJWCg4uTlZxKUIySNVCB0sGxSI2id+rTYmxSmh/B9ff3f3uPrnf5VEu8IcUi8U527bnsT0LjUDH4X9gfYHWOI67lGX5WFGUOvxfwnkjhUJhEbFV6IR3z+sDbuJiJUmScslk8sG93wdXKpWxVquVR6LiTvBj4wJvyFvJZDJ5J78L7kHPAaVjDyWA2ygk+A4BePpBp1ujQImBempyW1XVafJ5zHQKwWVyRhVwBMuy9ojD4whMoE5TgEepWRpFzAmyWtFsjMD0jDIVdB0hcJsp9RvWJnCNNZjneZ3AJcbgT0EQzvhQKHSAYTdZwcFax+vd5BOJxDuGvYSAyQB+Gw6HN4hDowhks9kLzGUBpkH+kHJFjHg83qH6LpiMVCp1io1JmNfk+xU6KXQNX7hYOp1+cur6XzcngHc9aprmneP/s94AeCSKokoz9eaJ7kC1WpU0Tdt1x2C/QvehdZyogW9BA909DoK5636AdV3fxI2c6SVYWNVgMJjDv8Szu8iP3R9FuVyWDcO4x/E6gJ/gWTzE3DU/kEE5X7GJonCI9jNfAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAUCAYAAACJfM0wAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFqADAAQAAAABAAAAFAAAAABm4WA6AAAB2UlEQVQ4Ea2UP0hbURTGv3NfooNLh44uHVxcAlVjO0goQiFboDg6WIxd3LNKkY4KDv6pOlgcMoggVF0cXCzUoLiIYAfxHwRa7WCpFl/e6XcfTbipEaJ5F8I957zv/HLeue9cwT2ra057gxLSIuhRoJWypwL84f6D/j4Um80elr4MynEtBLXVq2NG+xgZ4a+9+sldj39aUsWyZ5DbzsqRq6iAX3/SlssbLFD4xhXUaf+ibnjnnSyU9SHYQi9usM7X6yk/ePAuUEN4YUgmbS5tgNDxhqAWohD2fqJ7Vl9Y13TOaZLBrHUaXWyj5weYthyjpWigTlEJW6xtRcoJRmMqUoanZ7/RSJcGaDUQXEdKJYzVXptwiiImq+Cb4fQsR8y9lRhWDfvxkX0uRgVnG0YLA1I0HMPfrLrfzn0E8N2WNnywnHDyOIYbNDL0fz4WzsK2TByZzVfiV8DW2B6Sz/EmPKeg8BB4+KaC98+eIFV4K6fl3PASKjt2T85rouRjz43VtAU7hC7yoPK2p/9rYm6Ad3E88DHlxph8xU9yhjfMMQ/mPDA4Fw8ntWBuXhWYkDFeJC//CQLueU+Q+5qVMzepHrvSivSaNn8/wwHBPqdxxQNm2ffDeiC1NH8BJh+Ms9UtjuYAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFKADAAQAAAABAAAAFAAAAACy3fD9AAACBUlEQVQ4EaVVO0gDQRT0Nmch2KpJ7PwQTGFnqZBCrPxFCUkaKzs7O7UUO0srOyEfAolRC7ExoKCIqSQEgpbCBWMhaBGIJs4ct+FucyLRg83uvDczt3v7dqP1uDyFQkGvVqtLzWZzWdO0KVB8Fs1otVr3Qohjr9ebD4VCn6pcUwPJZHIesX0Ix9WcHeNFj8Cb8Xj8zB4XEsBAg9ku+tPfzKghh1xL056YRxoGAgGabUvcRT9TKpX0bDZ7SY3pzGXybT+YlLG8Ayu3Ad6EGw+cBS5f4wYYhlEGseObgVTVdX0yEonUaJLL5Qbr9foDuEOqKb+pz+cLCu6mm5klOJdmxOFw+AXdhZVzdPSgl2BpODJO0OeE5mZ0xCSHXgJTZZ25PnjrXCKRGJHJdDo9ivGsxGpPL5bKO4T9atKGn1HIR8TgraEN23KOIQw/2nXoyFgAhBraNUze2BC+An5148qYjoGB5rbDecTXUQoOg0wmM9BoNA6RW0RTH4MzLKpRzOIW5bKqmpHHXff7/avg3Kk6rOJe4OdYTYC8BeGXGpeYlwI4bqcqrxWLxd5KpVIGeUwKPB7PCjbiRmK3HsueRjxjyz3h+AbNo5dKpRZQQye2ZNdDTGAxFoudmrtsDoTY69rFEsBsjx6E7bKJRqM7THRrSg21Ute+x2SANw/Gf75gOwxp/J+/gG/oC/OXokvhqgAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFKADAAQAAAABAAAAFAAAAACy3fD9AAACC0lEQVQ4EaVVMUwUURCd+WJBchaSqBA75Ey0sJFtTEiwMFSCJsRSE6LY2NkpncaOkkIgmNBasEBhrDSSaMydjQWFUJJglIIEEgiBG99b/t/c7f4EkJ/szX9vZt7+2ZndU4ms/k/Wtr0q96wh9+FOcHX5sHXYmjqZq/RI+vm27ns+N5rv/CaZtruNAxkHrBZ9Bbzizsjz2mNdbOZdAGamvVP2GmIL4I4SY1qVscxhbtBpC5tkWl6hxJcBH9cyB7lcY/zJlH2ZPFlsLTuVCToaIs/E5FosCOUPsnxlA7Z+yTKCSmXibr/bz8qNpRH9S5Fbs3Zxb1d+msmliOjKuaty3bGbMTGf8CGIEX99qH9gPnpf0VSp5fxoFJ2HWKW96MDpSlyIoRa7zDmLLiQPJDPWHZw339oVPPU7AUdsogjagqMScWaUqqyhEbMEJvII5nLmiP9s53MY9auwGUviZJMXxL8Ab0RjPck55OtU6jC4FEd6Un+qLQJ9M3ZhZ1+m8DiGvEazWXe4a72Z4R7j8q37vAz/KIjRx65XqjKM7Xfiwqo53GmuQArKe/H+gR6UeE/wo4BBjr1VKUtOcaRVlNcTBHDCjuSddQYcs4096WjhDzXS7NXrnbRBnHS+JeCEAI9uqD6qC1mXuYHymxNq5OHMpQaJfGxqozL2P6LMYW5QB25dp/3AlgQpf5q/gH80bbbQie8A+gAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAUCAYAAAB1aeb6AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAH6ADAAQAAAABAAAAFAAAAAAHV+TnAAAC6ElEQVRIDcWWS2hTQRSGm5ex8QGtRYi61FTowkUjVQQhigV14SIQ8qLWjYLuFIrFVVEEbUE3LrpSsE1iJMGAxo3o0gdUQbRCaNy4sKioAWvJ229iRube3JtEELxwmDn/+c/5551Yev7Rl0gk9lSr1YuUG8FWLRbLQ6fTOen3+z+aSVjMAslkcmulUjlGvNdqtT4JBoMvzbjxeHykXq8/wtarHAbw1m637w8EAl9VXPatsqO2FDtYLpeXKHYDm2FGC7FY7ILKkf10Or0JTlYvLOJgQ0zgruTq2xZxRIZIugdxrUoGu0TsuIqJfrFYDBLr1+PSJ3aALfFIX21bxFmqMyRolk8mgE/IvtLuVPqG3VqtNmgUaBGHaFqMgQ0yAM05wf9pVFjFyDPktIhDLKiJah+h78TrKkb/qc7XuPBLNpvtlQZsOkbi942IAqNQS8ztdgvsmVkO+PWuTztX6iYiCYNii1ybs3rc5/NVHA7HUfBFfYw6c6FQ6Lwel77RzGsej2cMwgzJH7DPWBKBUbMZCNzlcu2DN4GlsDnyowx2nL5+m6T2/201J1cOJZvNOguFwjD+Fg5ZnRduCcszwx+So29TqdS2Uqm0HXyA2ZaxL9gbckwPsEacJ7WfF+kyelGKrFMFKFTFTxG7GolEFkSMR2eA5jQWBd8hMPVr5rwAm2UrY16vt6zG/+w5hU7wpOYocgqCRlgkgNtojlBwjfB5gsfB8tgU1iIsOCIH24vdyuVyr3npdgtcfo2ZI3wOwowETdoawofC4fBj+FfgG712Jqm/YfKLmJ8b8EAglvn5+WGA5xQTM2v33Wa5x+CfhDTbjtguhtYq52eYK/3OijPZhXAPr9RUJpPZQOHpdsU7xdDq5Qm/Jnhiz32dEhjgMiPNr6ysHIa7sRO/i/goK9hnZSSaE2+S2Pg3wiBMfzpN8gzhpmZfY9lhfDJkNUHIu/jTsJnlusMAssDfaMXVq/2NkVPBlrFpzs/7XwjARwfSot0XAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAUCAYAAAB1aeb6AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAH6ADAAQAAAABAAAAFAAAAAAHV+TnAAADF0lEQVRIDc1WTUhUURQ+942Omk2oSYtq0aI0cNFiHCcrIosCK2gRWAvJCkehdgbR0EoKoQxq08KfMPvDkKBFTS0i3Y0/WRClEE6rogjpBySZv3f67rOZeXPfe/NctOjB9Z7zne/c751z77ujoH/0BAd4e5rpEpYLMtMS5mcY4ZlO8cVJQjgFGod5QypOR3SmMnDGsMhrJ66/j4OIvcBYbeYIQe+LNdodbRffzXjG1jKGeQ4M8r5knOYhfBP4NYyZ+j6+aOZk7IZhXguRCPw8YRlHB+oSOo1muOpsEQ/0c52epsdILDWTmegyKmwzY9LWE3Qc3CoVz/pMexv6uSbrmwyLOKo9i7ilir855025yybTVgumAKxRrQIZrkUcqONiaG8tM6vn5Lfdwgpmy7ET/6Uk5lymn0II7EDuQcujOc/GEpQoInpjEyGLuNDoiR1RYlC1xHw1wARNOOWgTTdWfNoPt9MQ2jtis9is10NdKj7eJFJejQ4Bn1VjEL43HaILKp7x1f0zcJzqYlTTgwYfww6XAhzzllBXtE18ziSq854hrlhMUQjtCWIsoYDnmypoZLRFpFXuf+HbVt4c4ZKFT+RH1etRBWseml/lo9h4i1h0emtcrxtR4mbEqzGS6NwCp+kdbkbHA5wn3jjIVUmdenCwWiFabhZCG3F106MiQVcnQ2JGxrA91ZqgM7gbWuFuMfOlLXOwzhTy+uA+wIskzZzsaQ8M8Klkmj7g0+lUhWUCcA/wg7gwvNLHTXgSbx6DcDdci7DkyBwIN8K8jfEWOQHM2ceoHBWcAyLv8EKP7tFo/1RIvKzv5ytY2HrbFcpejsUxHUUHnkpXYK/86OekUdkywfYvWnj3VYc4gQ516LrRRlueG4hql4o08k+ExJwG4bCbsFwQnO6dt9jHOvW6CRSKYxvKkkzXJUfueVMhsozhbb+iVbFEmpqRvMaNv4L4gV33uVJDRca+uyQY/43oVOCn02WBvDA043GqxJdCYQS+5QUVB9Vu23GH15WV00PsfQThH8ZnhJ9z2Cse0ErJLmL0Tp8WH/8AzIgQLCup5hkAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFKADAAQAAAABAAAAFAAAAACy3fD9AAAB0klEQVQ4EaVVPUvDUBTte2l+QZcGBCcpuAnpKnTo4KDolqY4CA7u3VTwA+nmD3AQHDRbaamjYEeHOhaHtgid0jWDi5XWcx55oaaipHlwe98999yT93GTiswvo9PpZMfj8e50Ot0TQhRBsUKaP5vNulLKZj6fb5VKpa94uYgDnudtA7tG4Vo8Nx/jQQPENdd1H+dxqQMICIhdwbf/E2MNOeSGNdHCDC1YKBQodqLjBH6z1+tlG43GM2uUMrfJpyUQWaDiCHa4fcEL8H3/jVtYYCUAeKaWZa1L3mZaMT6XGtSSbI0EC/mTSi0Z9llERPwCuwQwIoj5J+wG01vYhBjGO+wC1mWgB3hFto1uWhYHuVyujMM9Q/Puk4it3CE+qlarh8h7xAzDcBCfm6ZZRvhBLBxW1IcEUCyCIFA3j7nKQWSeo9pM5yBIruKHghk2cx+E6IYh8IrkEzCucAU2AXYPTzEXeBZ+hB08YL4F20CsBngDJikQCYJgI6bpYQI70EHoV3EBxzGMO+xK/DTjiRRxS+KVa0FgmEJElw6pJW3bnuA8ahpd1lNDaVGgUqm0AdRTiNWpwfqoJRzHOV1GlDWs1Yv50UME+eWBW/oDuyBI0TR/Ad9XntrCd2oXXwAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFKADAAQAAAABAAAAFAAAAACy3fD9AAABxUlEQVQ4Ea1VPU8CURDcvSNGE2nsTCzFws4IvRYUFhrt1ISOgD2lJH7Gzh+AYmKhtBItLbSzAFoLMSZU1kZtQHnOHHfniQYR3OTdvp3dmfe1AZUfbObKhF7uZdE0ZQnpGMaoW/YIX1JLzobHpXg9q28u7jv1Z+4kljfzzXfZRxhpz7XFVcuWTCmpF0Hc8gJjjEYPzS7EzoH9JkZahLXkkOvphLxJLC87OOK6F3fryQGXluXHUXaPyZ31bDj+Ao+vfIDnO7mFUjfH7LRgNTwhkxZf8x/EuFCEWpbbGp1W7jpHLb4y+8w3XOoNbnYbo+aAKnVVyWEcIW4QQ80DxhawklPz+YlR0Gtawk8jQxKvpHTDVkkQUCPH5ZSuYSQRFhxMZbmc1k1jJA71V2Kujfp9SACran2QTgTFTs5Iy7t5m77p5sIDqDWteuI0nc6ZO3j/haFWRptewicgOoZcA/MT0GyQV7FACPMadn6K3BziKXjPqho9MAUQVzykT1+wIHbWp0iQXuQ9FXGE+yDa07ylUbQqaeUdZXoSCZCoQS3nJdES5wD2Avk/TcmlBkl+25RSku1FlBxyvR0g/mr9/sB+E6R8P38BH3BdnpwmY1jPAAAAAElFTkSuQmCC\"","export const unifiedStyle = (theme) => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        height: \"100%\",\r\n        width: \"100%\",\r\n        boxSizing: \"border-box\",\r\n        fontFamily: `${theme.fontFamily}`,\r\n        position: \"relative\",\r\n        \"*\": {\r\n            boxSizing: \"border-box\",\r\n            fontFamily: `${theme.fontFamily}`,\r\n            \"::-webkit-scrollbar\": {\r\n                width: \"8px\",\r\n                height: \"4px\",\r\n            },\r\n            \"::-webkit-scrollbar-track\": {\r\n                background: \"#ffffff00\"\r\n            },\r\n            \"::-webkit-scrollbar-thumb\": {\r\n                background: \"#ccc\",\r\n                \"&:hover\": {\r\n                    background: \"#aaa\"\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const unifiedSidebarStyle = (state, props) => {\r\n\r\n    const sidebarView = (state.sidebarview) ? {\r\n        left: \"0\",\r\n        boxShadow : \"rgba(0, 0, 0, .4) -30px 0 30px 30px\"\r\n    } : {};\r\n\r\n    const mq = [...props.theme.breakPoints];\r\n\r\n    return {\r\n\r\n        width: \"280px\",\r\n        borderRight: `1px solid ${props.theme.borderColor.primary}`,\r\n        height: \"100%\",\r\n        position: \"relative\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        \"> .contacts, .chats, .groups\": {\r\n            height: \"calc(100% - 40px)\",\r\n        },\r\n        [`@media ${mq[0]}`]: {\r\n            position: \"absolute!important\",\r\n            left: \"-100%\",\r\n            top: \"0\",\r\n            bottom: \"0\",\r\n            width: \"100%!important\",\r\n            zIndex: \"2\",\r\n            backgroundColor: `${props.theme.backgroundColor.white}`,\r\n            transition: \"all .3s ease-out\",\r\n            ...sidebarView\r\n        }\r\n    }\r\n}\r\n\r\nexport const unifiedMainStyle = (state, props) => {\r\n\r\n    const mq = [...props.theme.breakPoints];\r\n\r\n    const secondaryViewWidth = (state.threadmessageview || state.viewdetailscreen) ? {\r\n\r\n        width: \"calc(100% - 680px)!important\",\r\n        [`@media ${mq[1]}, ${mq[2]}`]: {\r\n            width: \"100%!important\",\r\n        },\r\n        [`@media ${mq[3]}, ${mq[4]}`]: {\r\n            width: \"0!important\",\r\n            display: \"none\",\r\n        },\r\n\r\n    } : {\r\n        width: \"calc(100% - 280px)!important\",\r\n        [`@media ${mq[1]}, ${mq[2]}`]: {\r\n            width: \"100%!important\",\r\n        },\r\n\r\n    };\r\n\r\n    return {\r\n        width: \"calc(100% - 280px)\",\r\n        height: \"100%\",\r\n        order: \"2\",\r\n        ...secondaryViewWidth,\r\n    }\r\n}\r\n\r\nexport const unifiedSecondaryStyle = (props) => {\r\n    \r\n    const mq = [...props.theme.breakPoints];\r\n\r\n    return {\r\n        float: \"right\",\r\n        borderLeft: `1px solid ${props.theme.borderColor.primary}`,\r\n        height: \"100%\",\r\n        width: \"400px\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        order: \"3\",\r\n        [`@media ${mq[1]}, ${mq[2]}, ${mq[3]}, ${mq[4]}`]: {\r\n            position: \"absolute!important\",\r\n            right: \"0!important\",\r\n            top: \"0\",\r\n            bottom: \"0\",\r\n            width: \"100%!important\",\r\n            zIndex: \"2\",\r\n            backgroundColor: `${props.theme.backgroundColor.white}`,\r\n        }\r\n    }\r\n}\r\n","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\nimport { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport { CometChatNavBar } from \"./CometChatNavBar\";\r\nimport { CometChatMessages, CometChatImageViewer, CometChatMessageThread } from \"../Messages\";\r\nimport { CometChatUserDetails } from \"../Users\";\r\nimport { CometChatGroupDetails } from \"../Groups\";\r\nimport { CometChatIncomingCall, CometChatIncomingDirectCall } from \"../Calls\";\r\n\r\nimport * as enums from \"../../util/enums.js\";\r\n\r\nimport { theme } from \"../../resources/theme\";\r\nimport Translator from \"../../resources/localization/translator\";\r\n\r\nimport {\r\n  unifiedStyle,\r\n  unifiedSidebarStyle,\r\n  unifiedMainStyle,\r\n  unifiedSecondaryStyle\r\n} from \"./style\";\r\n\r\nclass CometChatUI extends React.Component {\r\n\r\n  loggedInUser = null;\r\n\r\n  constructor(props) {\r\n    \r\n    super(props);\r\n\r\n    this.tabs = {\r\n      \"CHATS\": \"chats\",\r\n      \"USERS\": \"users\",\r\n      \"CALLS\": \"calls\",\r\n      \"GROUPS\": \"groups\",\r\n      \"INFO\": \"info\"\r\n    }\r\n    \r\n    this.state = {\r\n      darktheme: false,\r\n      viewdetailscreen: false,\r\n      item: {},\r\n      type: \"user\",\r\n      activeTab: this.tabs[\"CHATS\"],\r\n      groupToUpdate: {},\r\n      threadmessageview: false,\r\n      threadmessagetype: null,\r\n      threadmessageitem: {},\r\n      threadmessageparent: {},\r\n      composedthreadmessage: {},\r\n      incomingCall: null,\r\n      sidebarview: false,\r\n      imageView: null,\r\n      groupmessage: {},\r\n      lastmessage: {},\r\n      lang: props.lang,\r\n      unreadMessages: [],\r\n      ongoingDirectCall: false\r\n    }\r\n\r\n    this.messageScreenRef = React.createRef();\r\n    this.navBarRef = React.createRef();\r\n    this.incomingMessageRef = React.createRef();\r\n\r\n    CometChat.getLoggedinUser().then((user) => {\r\n      this.loggedInUser = user;\r\n\r\n    }).catch((error) => {\r\n      console.log(\"[CometChatUnified] getLoggedinUser error\", error);\r\n    });\r\n  }\r\n  \r\n  componentDidMount() {\r\n\r\n    if(!Object.keys(this.state.item).length) {\r\n      this.toggleSideBar();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n\r\n    if (prevProps.lang !== this.props.lang) {\r\n      this.setState({ lang: this.props.lang });\r\n    }\r\n  }\r\n\r\n  changeTheme = (e) => {\r\n    this.setState({\r\n      darktheme: !this.state.darktheme\r\n    })\r\n  }\r\n\r\n  navBarAction = (action, type, item) => {\r\n    \r\n    switch(action) {\r\n      case \"itemClicked\":\r\n        this.itemClicked(item, type);\r\n      break;\r\n      case \"tabChanged\":\r\n        this.tabChanged(type);\r\n      break;\r\n      case \"closeMenuClicked\":\r\n        this.toggleSideBar();\r\n      break;\r\n      default:\r\n      break;\r\n    }\r\n  }\r\n  \r\n  itemClicked = (item, type) => {\r\n\r\n    this.toggleSideBar();\r\n    this.setState({ item: {...item}, type, viewdetailscreen: false });\r\n  }\r\n\r\n  tabChanged = (tab) => {\r\n\r\n    this.setState({ activeTab: tab });\r\n    this.setState({viewdetailscreen: false});\r\n  }\r\n\r\n  actionHandler = (action, item, count, ...otherProps) => {\r\n    \r\n    switch(action) {\r\n      case \"blockUser\":\r\n        this.blockUser();\r\n      break;\r\n      case \"unblockUser\":\r\n        this.unblockUser();\r\n      break;\r\n      case \"viewDetail\":\r\n      case \"closeDetailClicked\":\r\n        this.toggleDetailView();\r\n      break;\r\n      // eslint-disable-next-line no-lone-blocks\r\n      case \"menuClicked\": {\r\n        \r\n        this.toggleSideBar();\r\n        this.setState({ item: {} });\r\n      }\r\n      break;\r\n      case \"groupUpdated\":\r\n        this.groupUpdated(item, count, ...otherProps);\r\n      break;\r\n      case enums.ACTIONS[\"GROUP_DELETED\"]: \r\n        this.deleteGroup(item);\r\n      break;\r\n      case enums.ACTIONS[\"GROUP_LEFT\"]:\r\n        this.leaveGroup(item);\r\n      break;\r\n      case \"membersUpdated\":\r\n        this.updateMembersCount(item, count);\r\n      break;\r\n      case \"viewMessageThread\":\r\n        this.viewMessageThread(item);\r\n      break;\r\n      case \"closeThreadClicked\":\r\n        this.closeThreadMessages();\r\n      break;\r\n      case \"threadMessageComposed\":\r\n        this.onThreadMessageComposed(item);\r\n        this.updateLastMessage(item[0]);\r\n        break;\r\n      case \"acceptedIncomingCall\":\r\n        this.acceptedIncomingCall(item);\r\n        break;\r\n      case \"rejectedIncomingCall\":\r\n        this.rejectedIncomingCall(item, count);\r\n        break;\r\n      case \"viewActualImage\":\r\n        this.toggleImageView(item);\r\n      break;\r\n      case \"membersAdded\": \r\n        this.membersAdded(item);\r\n      break;\r\n      case \"memberUnbanned\":\r\n        this.memberUnbanned(item);\r\n      break;\r\n      case \"memberScopeChanged\":\r\n        this.memberScopeChanged(item);\r\n      break;\r\n      case \"messageComposed\": \r\n        this.navBarRef.updateLastMessage(item[0]);\r\n      break;\r\n      case \"messageEdited\":\r\n      case \"messageDeleted\":\r\n        this.updateLastMessage(item[0]);\r\n      break;\r\n      case \"updateThreadMessage\":\r\n        this.updateThreadMessage(item[0], count);\r\n      break;\r\n      case \"unreadMessages\":\r\n        this.setState({ unreadMessages: [...item] });\r\n      break;\r\n      case enums.ACTIONS[\"ACCEPT_DIRECT_CALL\"]:\r\n        this.acceptDirectCall(item);\r\n        break;\r\n      case enums.ACTIONS[\"JOIN_DIRECT_CALL\"]:\r\n        this.joinDirectCall(item);\r\n        break;\r\n      case enums.ACTIONS[\"START_DIRECT_CALL\"]:\r\n        this.ongoingDirectCall(true);\r\n        break;\r\n      case enums.ACTIONS[\"END_DIRECT_CALL\"]:\r\n        this.ongoingDirectCall(false);\r\n        break;\r\n      default:\r\n      break;\r\n    }\r\n  }\r\n\r\n  updateLastMessage = (message) => {\r\n    this.setState({ lastmessage: message });\r\n  }\r\n\r\n  updateThreadMessage = (message, action) => {\r\n\r\n    if (this.state.threadmessageview === false || message.id !== this.state.threadmessageparent.id) {\r\n      return false;\r\n    }\r\n\r\n    if (action === \"delete\") {\r\n      this.setState({ threadmessageparent: { ...message }, threadmessageview: false });\r\n    } else {\r\n      this.setState({ threadmessageparent: { ...message } });\r\n    }\r\n\r\n  }\r\n\r\n  blockUser = () => {\r\n\r\n    let usersList = [this.state.item.uid];\r\n    CometChat.blockUsers(usersList).then(list => {\r\n\r\n      this.setState({item: {...this.state.item, blockedByMe: true}});\r\n\r\n    }).catch(error => {\r\n      console.log(\"Blocking user fails with error\", error);\r\n    });\r\n  }\r\n\r\n  unblockUser = () => {\r\n    \r\n    let usersList = [this.state.item.uid];\r\n    CometChat.unblockUsers(usersList).then(list => {\r\n\r\n        this.setState({item: {...this.state.item, blockedByMe: false}});\r\n\r\n      }).catch(error => {\r\n      console.log(\"unblocking user fails with error\", error);\r\n    });\r\n  }\r\n\r\n  toggleDetailView = () => {\r\n\r\n    let viewdetail = !this.state.viewdetailscreen;\r\n    this.setState({viewdetailscreen: viewdetail,  threadmessageview: false});\r\n  }\r\n\r\n  toggleSideBar = () => {\r\n\r\n    const sidebarview = this.state.sidebarview;\r\n    this.setState({ sidebarview: !sidebarview });\r\n  }\r\n\r\n  closeThreadMessages = () => {\r\n    this.setState({viewdetailscreen: false, threadmessageview: false});\r\n  }\r\n\r\n  viewMessageThread = (parentMessage) => {\r\n\r\n    const message = {...parentMessage};\r\n    const threaditem = {...this.state.item};\r\n    this.setState({\r\n      threadmessageview: true, \r\n      threadmessageparent: message, \r\n      threadmessageitem: threaditem,\r\n      threadmessagetype: this.state.type, \r\n      viewdetailscreen: false\r\n    });\r\n  }\r\n\r\n  onThreadMessageComposed = (composedMessage) => {\r\n\r\n    if(this.state.type !== this.state.threadmessagetype) {\r\n      return false;\r\n    }\r\n\r\n    if((this.state.threadmessagetype === \"group\" && this.state.item.guid !== this.state.threadmessageitem.guid)\r\n    || (this.state.threadmessagetype === \"user\" && this.state.item.uid !== this.state.threadmessageitem.uid)) {\r\n      return false;\r\n    }\r\n\r\n    const message = { ...composedMessage };\r\n    this.setState({composedthreadmessage: message});\r\n  }\r\n\r\n  deleteGroup = (group) => {\r\n\r\n    this.toggleSideBar();\r\n    this.setState({ item: {}, type: CometChat.RECEIVER_TYPE.GROUP, viewdetailscreen: false});\r\n    this.navBarRef.removeGroupFromListOnDeleting(group);\r\n  }\r\n\r\n  leaveGroup = (group) => {\r\n\r\n    this.toggleSideBar();\r\n    this.setState({ item: {}, type: CometChat.RECEIVER_TYPE.GROUP, viewdetailscreen: false});\r\n  }\r\n\r\n  updateMembersCount = (item, count) => {\r\n\r\n    //console.log(\"updateMembersCount item\", item);\r\n    const group = Object.assign({}, this.state.item, {membersCount: count});\r\n    this.setState({item: group, groupToUpdate: group});\r\n  }\r\n\r\n  groupUpdated = (message, key, group, options) => {\r\n    \r\n    switch(key) {\r\n      case enums.GROUP_MEMBER_BANNED:\r\n      case enums.GROUP_MEMBER_KICKED: {\r\n        \r\n        if(options.user.uid === this.loggedInUser.uid) {\r\n          this.setState({item: {}, type: \"group\", viewdetailscreen: false});\r\n        }\r\n        break;\r\n      }\r\n      case enums.GROUP_MEMBER_SCOPE_CHANGED: {\r\n        \r\n        if(options.user.uid === this.loggedInUser.uid) {\r\n\r\n          const newObj = Object.assign({}, this.state.item, {\"scope\": options[\"scope\"]})\r\n          this.setState({item: newObj, type: \"group\", viewdetailscreen: false});\r\n        }\r\n        break;\r\n      }\r\n      default:\r\n      break;\r\n    }\r\n  }\r\n\r\n  acceptedIncomingCall = (call) => {\r\n\r\n    const type = call.receiverType;\r\n    const id = call.receiverId;\r\n\r\n    CometChat.getConversation(id, type).then(conversation => {\r\n\r\n      this.itemClicked(conversation.conversationWith, type);\r\n      this.setState({ incomingCall: call });\r\n\r\n    }).catch(error => {\r\n\r\n      console.log('error while fetching a conversation', error);\r\n    });\r\n  }\r\n\r\n  rejectedIncomingCall = (incomingCallMessage, rejectedCallMessage) => {\r\n\r\n    if (this.messageScreenRef) {\r\n      this.messageScreenRef.rejectedIncomingCall(incomingCallMessage, rejectedCallMessage);\r\n    }\r\n  }\r\n\r\n  acceptDirectCall = (call) => {\r\n\r\n    const type = call.receiverType;\r\n    const id = call.receiverId;\r\n\r\n    CometChat.getConversation(id, type).then(conversation => {\r\n\r\n      this.itemClicked(conversation.conversationWith, type);\r\n      \r\n      if (this.messageScreenRef) {\r\n        this.messageScreenRef.actionHandler(enums.ACTIONS[\"ACCEPT_DIRECT_CALL\"]);\r\n      }\r\n      this.ongoingDirectCall(true);\r\n      \r\n    }).catch(error => {\r\n\r\n      console.log('error while fetching a conversation', error);\r\n    });\r\n  }\r\n\r\n  joinDirectCall = () => {\r\n\r\n    //pause alert audio and close the alert popup\r\n    if (this.incomingMessageRef) {\r\n      this.incomingMessageRef.ignoreCall();\r\n    }\r\n    this.ongoingDirectCall(true);\r\n  }\r\n\r\n  ongoingDirectCall = (flag) => {\r\n    this.setState({ ongoingDirectCall: flag });\r\n  }\r\n\r\n  membersAdded = (members) => {\r\n    \r\n    const messageList = [];\r\n    members.forEach(eachMember => {\r\n\r\n      const message = `${this.loggedInUser.name} ${Translator.translate(\"ADDED\", this.state.lang)} ${eachMember.name}`;\r\n      const sentAt = new Date() / 1000 | 0;\r\n      const messageObj = { \r\n        \"category\": CometChat.CATEGORY_ACTION, \r\n        \"message\": message, \r\n        \"type\": enums.ACTION_TYPE_GROUPMEMBER, \r\n        \"sentAt\": sentAt, \r\n        \"action\": CometChat.ACTION_TYPE.MEMBER_ADDED,\r\n        \"actionBy\": { ...this.loggedInUser }, \r\n        \"actionOn\": { ...eachMember } \r\n      };\r\n\r\n      messageList.push(messageObj);\r\n    });\r\n    \r\n    this.setState({ groupmessage: messageList });\r\n  }\r\n\r\n  memberUnbanned = (members) => {\r\n\r\n    const messageList = [];\r\n    members.forEach(eachMember => {\r\n\r\n      const message = `${this.loggedInUser.name} ${Translator.translate(\"UNBANNED\", this.state.lang)} ${eachMember.name}`;\r\n      const sentAt = new Date() / 1000 | 0;\r\n      const messageObj = { \r\n        \"category\": CometChat.CATEGORY_ACTION, \r\n        \"message\": message, \r\n        \"type\": enums.ACTION_TYPE_GROUPMEMBER, \r\n        \"sentAt\": sentAt,\r\n        \"action\": CometChat.ACTION_TYPE.MEMBER_UNBANNED,\r\n        \"actionBy\": { ...this.loggedInUser },\r\n        \"actionOn\": { ...eachMember } \r\n      };\r\n\r\n      messageList.push(messageObj);\r\n    });\r\n\r\n    this.setState({ groupmessage: messageList });\r\n  }\r\n\r\n  memberScopeChanged = (members) => {\r\n\r\n    const messageList = [];\r\n\r\n    members.forEach(eachMember => {\r\n\r\n      const newScope = Translator.translate(eachMember.scope, this.state.lang);\r\n\r\n      const message = `${this.loggedInUser.name} ${Translator.translate(\"MADE\", this.state.lang)} ${eachMember.name} ${newScope}`;\r\n      const sentAt = new Date() / 1000 | 0;\r\n      const messageObj = { \r\n        \"category\": CometChat.CATEGORY_ACTION, \r\n        \"message\": message, \r\n        \"type\": enums.ACTION_TYPE_GROUPMEMBER, \r\n        \"sentAt\": sentAt,\r\n        \"action\": CometChat.ACTION_TYPE.MEMBER_SCOPE_CHANGED,\r\n        \"actionBy\": { ...this.loggedInUser },\r\n        \"actionOn\": { ...eachMember } \r\n      };\r\n      messageList.push(messageObj);\r\n    });\r\n\r\n    this.setState({ groupmessage: messageList });\r\n  }\r\n\r\n  toggleImageView = (message) => {\r\n    this.setState({ imageView: message });\r\n  }\r\n  \r\n  render() {\r\n\r\n    let threadMessageView = null;\r\n    if(this.state.threadmessageview) {\r\n      threadMessageView = (\r\n        <div css={unifiedSecondaryStyle(this.props)} className=\"unified__secondary-view\">\r\n          <CometChatMessageThread\r\n          theme={this.props.theme}\r\n          activeTab={this.state.activeTab}\r\n          item={this.state.threadmessageitem}\r\n          type={this.state.threadmessagetype}\r\n          parentMessage={this.state.threadmessageparent}\r\n          loggedInUser={this.loggedInUser}\r\n          lang={this.state.lang}\r\n          actionGenerated={this.actionHandler} />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    let detailScreen = null;\r\n    if(this.state.viewdetailscreen) {\r\n\r\n      if(this.state.type === \"user\") {\r\n\r\n        detailScreen = (\r\n          <div css={unifiedSecondaryStyle(this.props)} className=\"unified__secondary-view\">\r\n            <CometChatUserDetails\r\n              theme={this.props.theme}\r\n              item={this.state.item} \r\n              type={this.state.type}\r\n              lang={this.state.lang}\r\n              actionGenerated={this.actionHandler} />\r\n          </div>\r\n          );\r\n\r\n      } else if (this.state.type === \"group\") {\r\n\r\n        detailScreen = (\r\n          <div css={unifiedSecondaryStyle(this.props)} className=\"unified__secondary-view\">\r\n          <CometChatGroupDetails\r\n            theme={this.props.theme}\r\n            item={this.state.item} \r\n            type={this.state.type}\r\n            lang={this.state.lang}\r\n            actionGenerated={this.actionHandler} />\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n    \r\n    let messageScreen = null;\r\n    if(Object.keys(this.state.item).length) {\r\n      messageScreen = (\r\n        <CometChatMessages \r\n        ref={el => this.messageScreenRef = el}\r\n        theme={this.props.theme}\r\n        item={this.state.item} \r\n        activeTab={this.state.activeTab}\r\n        type={this.state.type}\r\n        composedthreadmessage={this.state.composedthreadmessage}\r\n        groupmessage={this.state.groupmessage}\r\n        loggedInUser={this.loggedInUser}\r\n        lang={this.state.lang}\r\n        parentComponent=\"unified\"\r\n        incomingCall={this.state.incomingCall}\r\n        actionGenerated={this.actionHandler} />\r\n      );\r\n    }\r\n\r\n    let imageView = null;\r\n    if (this.state.imageView) {\r\n      imageView = (<CometChatImageViewer open={true} close={() => this.toggleImageView(null)} message={this.state.imageView} lang={this.state.lang} />);\r\n    }\r\n\r\n    let incomingMessageView = (<CometChatIncomingDirectCall ref={el => this.incomingMessageRef = el} theme={this.props.theme} lang={this.state.lang} actionGenerated={this.actionHandler} />);\r\n    if (this.state.ongoingDirectCall) {\r\n      incomingMessageView = null;\r\n    }\r\n\r\n    return (\r\n      <div css={unifiedStyle(this.props.theme)} className=\"cometchat cometchat--unified\" dir={Translator.getDirection(this.state.lang)}>\r\n        <div css={unifiedSidebarStyle(this.state, this.props)} className=\"unified__sidebar\">\r\n          <CometChatNavBar \r\n          ref={el => this.navBarRef = el}\r\n          theme={this.props.theme}\r\n          type={this.state.type}\r\n          item={this.state.item}\r\n          activeTab={this.state.activeTab}\r\n          groupToUpdate={this.state.groupToUpdate}\r\n          lastMessage={this.state.lastmessage}\r\n          lang={this.state.lang}\r\n          tabs={this.tabs}\r\n          unreadMessages={this.state.unreadMessages}\r\n          actionGenerated={this.navBarAction}\r\n          enableCloseMenu={Object.keys(this.state.item).length} />\r\n        </div>\r\n        <div css={unifiedMainStyle(this.state, this.props)} className=\"unified__main\">{messageScreen}</div>\r\n        {detailScreen}\r\n        {threadMessageView}\r\n        {imageView}\r\n        <CometChatIncomingCall theme={this.props.theme} lang={this.state.lang} actionGenerated={this.actionHandler} />\r\n        {incomingMessageView}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatUI.defaultProps = {\r\n  lang: Translator.getDefaultLanguage(),\r\n  theme: theme\r\n};\r\n\r\nCometChatUI.propTypes = {\r\n  lang: PropTypes.string,\r\n  theme: PropTypes.object\r\n}\r\n\r\nexport default CometChatUI;","// Description: display cometchat ui as messaging inbox\nimport React from 'react';\nimport { withLayout } from '../wrappers/layout';\nimport { CometChatConversationListWithMessages } from '../CometChatWorkspace/src';\n\n// Main func/page content\nconst InboxPage = () => (\n  <div\n    className=\"absolute inset-0 top-auto w-screen bg-white\"\n    style={{\n      height: '90vh',\n    }}\n  >\n    <CometChatConversationListWithMessages />\n  </div>\n);\n\nexport default withLayout(InboxPage);\n","// Description: SSO login component handling firebase authentication\n// Import FirebaseAuth and firebase.\nimport React, { useEffect, useState } from 'react';\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\nimport firebase from 'firebase/compat/app';\nimport 'firebase/compat/auth';\n\n// Configure FirebaseUI.\nconst uiConfig = {\n  // Popup signin flow rather than redirect flow.\n  signInFlow: 'popup',\n  // Redirect to /signedIn after sign in is successful.\n  // Alternatively you can provide a callbacks.signInSuccess function.\n  signInSuccessUrl: '/gregister',\n  // We will display Google and Facebook as auth providers.\n  signInOptions: [\n    firebase.auth.GoogleAuthProvider.PROVIDER_ID,\n    firebase.auth.FacebookAuthProvider.PROVIDER_ID,\n  ],\n};\n\n// Component main function\nfunction FirebaseSSO() {\n  const [isSignedIn, setIsSignedIn] = useState(false); // Local signed-in state.\n\n  useEffect(() => {\n    const unregisterAuthObserver = firebase.auth().onAuthStateChanged((user) => {\n      setIsSignedIn(!!user);\n    });\n    // Make sure we un-register Firebase observers when the component unmounts.\n    return () => unregisterAuthObserver();\n  }, []);\n\n  // If not signed in, display the SSO button UI\n  if (!isSignedIn) {\n    return (\n      <div className=\"flex flex-col items-center w-full\">\n        <StyledFirebaseAuth uiConfig={uiConfig} firebaseAuth={firebase.auth()} />\n      </div>\n    );\n  }\n  // Otherwise, show some text confirming login by displaying name\n  return (\n    <div className=\"flex flex-col items-center w-full\">\n      <p>\n        Welcome to AdventureTogether\n        {' '}\n        {firebase.auth().currentUser.displayName}\n      </p>\n      {/* code to enable a sign-out button currently not in use\n      <a onClick={() => firebase.auth().signOut()}>Sign-out</a> */}\n    </div>\n  );\n}\n\nexport default FirebaseSSO;\n","// Description: A page which allows a user to log in to an existing account\nimport React, { useReducer, useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport firebase from 'firebase/compat/app';\nimport 'firebase/compat/auth';\nimport FirebaseLogin from '../components/FirebaseRegister';\nimport { loginCometChatUser } from '../cometchat';\nimport { withLayout } from '../wrappers/layout';\n\n// Page initial state\nconst initialState = {\n  email: '',\n  password: '',\n};\n\n// Reducer to process inputs\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'email':\n      return { ...state, email: action.payload };\n    case 'password':\n      return { ...state, password: action.payload };\n    default:\n      throw new Error();\n  }\n};\n\n// Main func\nconst LoginPage = () => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const [error, setError] = useState('');\n  const history = useHistory();\n\n  // Link reducer\n  const handleOnChange = (evt) => {\n    const { target } = evt;\n    dispatch({\n      type: target.name,\n      payload: target.value,\n    });\n  };\n\n  // Log in function, called on submit (email/pw only)\n  // If the user opts to log in with SSO, this is bypassed\n  const loginUser = async (evt) => {\n    evt.preventDefault();\n\n    try {\n      const doc = await firebase\n        .auth()\n        .signInWithEmailAndPassword(state.email, state.password);\n\n      await loginCometChatUser(doc.user.uid);\n      history.push('/discover');\n    } catch (err) {\n      setError(err.message);\n      console.log(`Unable to login: ${err.message}`);\n    }\n  };\n\n  // Page content\n  // You will notice <FirebaseLogin /> in the code. This singular line links\n  // in the Firebase UI SSO component. Currently, our system lacks logic to differentiate\n  // a SSO registration from a SSO login, so this will need to be implemented.\n  return (\n    <div className=\"bg-white rounded-2xl border-2 border-gray-200 flex flex-col justify-center items-center mx-auto p-10 w-full md:w-7/12\">\n      <div className=\"flex flex-col justify-center items-center\">\n        <Link to=\"/\">\n          <svg\n            className=\"w-10\"\n            viewBox=\"0 0 24 24\"\n            focusable=\"false\"\n            aria-hidden=\"true\"\n            role=\"presentation\"\n          >\n            <defs>\n              <radialGradient\n                id=\"svg-fill-radial__tinder\"\n                cx=\"0.5\"\n                cy=\"1\"\n                fr=\"0\"\n                fx=\"0.5\"\n                fy=\"1\"\n                r=\"1\"\n                spreadMethod=\"pad\"\n              >\n                <stop offset=\"0%\" stopColor=\"#ff7854\" />\n                <stop offset=\"100%\" stopColor=\"#fd267d\" />\n              </radialGradient>\n            </defs>\n            <path\n              d=\"M8.21 10.08c-.02 0-.04 0-.06-.02-.67-.9-.84-2.44-.89-3.03 0-.11-.13-.18-.23-.12C4.93 8.08 3 10.86 3 13.54 3 18.14 6.2 22 11.7 22c5.15 0 8.7-3.98 8.7-8.46 0-5.87-4.2-9.77-7.93-11.53a.13.13 0 0 0-.19.14c.48 3.16-.18 6.6-4.07 7.93z\"\n              fill=\"url(#svg-fill-radial__tinder)\"\n              fillRule=\"nonzero\"\n            />\n          </svg>\n        </Link>\n        <h3 className=\"text-2xl font-extrabold italic uppercase my-4\">\n          Get Started\n        </h3>\n        <div\n          className=\"text-sm text-gray-800 text-center\"\n          data-nosnippet=\"true\"\n        >\n          By clicking Log in, you agree to our\n          {' '}\n          <a\n            className=\"underline focus-outline-style text-gray-600\"\n            href=\"#\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            aria-describedby=\"open-in-new-window\"\n          >\n            Terms\n          </a>\n          . Learn how we process your data in our\n          {' '}\n          <a\n            className=\"underline focus-outline-style text-gray-600\"\n            href=\"#\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            aria-describedby=\"open-in-new-window\"\n          >\n            Privacy Policy\n          </a>\n          {' '}\n          and\n          {' '}\n          <a\n            className=\"underline focus-outline-style text-gray-600\"\n            href=\"#\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            aria-describedby=\"open-in-new-window\"\n          >\n            Cookie Policy\n          </a>\n          .\n        </div>\n      </div>\n      <div className=\"text-center w-full divide-y-2 divide-gray-100 divide-solid\">\n        <form className=\"my-5 w-full\" onSubmit={loginUser}>\n          {error && (\n            <p className=\"text-red-500 font-bold text-base py-2 \">{error}</p>\n          )}\n          <label\n            htmlFor=\"email\"\n            className=\"sr-only font-bold text-base md:ml-1\"\n          >\n            Email\n          </label>\n          <input\n            id=\"email\"\n            name=\"email\"\n            type=\"email\"\n            autoComplete=\"email\"\n            required\n            onChange={handleOnChange}\n            value={state.email}\n            className=\"my-5 appearance-none rounded-full relative block w-full py-3 px-4 font-bold border-2 border-gray-400 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-yellow-500 focus:border-yellow-500 text-base\"\n            placeholder=\"Email\"\n          />\n          <label\n            htmlFor=\"password\"\n            className=\"sr-only font-bold text-base md:ml-1\"\n          >\n            Password\n          </label>\n          <input\n            id=\"password\"\n            name=\"password\"\n            type=\"password\"\n            autoComplete=\"password\"\n            required\n            onChange={handleOnChange}\n            value={state.password}\n            className=\"my-5 appearance-none rounded-full relative block w-full py-3 px-4 font-bold border-2 border-gray-500 placeholder-gray-400 text-gray-900 focus:outline-none focus:ring-yellow-500 focus:border-yellow-500 text-base\"\n            placeholder=\"Password\"\n          />\n          <button\n            type=\"submit\"\n            className=\"w-full bg-gradient-to-r from-pink-600 to-yellow-500 rounded-full hover:bg-gray-200 py-4 px-16 block whitespace-no-wrap text-white font-bold uppercase\"\n          >\n            Continue\n          </button>\n          <br />\n          Sign in with Google:\n          <FirebaseLogin />\n        </form>\n        <div className=\"py-4\">\n          <h3 className=\"text-2xl font-extrabold italic uppercase my-4\">\n            Get the app!\n          </h3>\n          <div className=\"flex justify-between items-center\">\n            <img width=\"130\" src=\"/appStore.webp\" alt=\"AppStore Download\" />\n            <img\n              width=\"170\"\n              src=\"/playStore.webp\"\n              alt=\"PlayStore Download\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default withLayout(LoginPage, { bgImage: true });\n","// Description: A page which logs out and then redirects the user home\nimport React, { useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport firebase from 'firebase/compat/app';\nimport 'firebase/compat/auth';\nimport { logoutCometChatUser } from '../cometchat';\n\nexport default function LogoutPage() {\n  const history = useHistory();\n\n  useEffect(() => {\n    firebase\n      .auth()\n      .signOut()\n      .then(async () => {\n        await logoutCometChatUser();\n        history.push('/');\n      });\n  }, []);\n\n  return <div />;\n}\n","// Description: A function to retrieve a localStored item by key name\nexport default function localStoreGet(storageKey) {\n  return JSON.parse(window.localStorage.getItem(`${storageKey}`));\n}\n","// Description: An async function to create a dating profile for an email-registered user\nimport firebase from 'firebase/compat';\nimport localStoreGet from './localStoreGet';\nimport { loginCometChatUser, registerCometChatUser } from '../cometchat';\n\nexport default async function registerEmailProfile(imageState, nameState, descState) {\n  const bDay = localStoreGet('localBirthdate');\n  const doc = localStoreGet('doc');\n  const { uid } = doc.user;\n  const imageRef = firebase.storage().ref(`/profiles/${uid}`);\n\n  await imageRef.put(imageState);\n\n  const imageUrl = await imageRef.getDownloadURL();\n\n  await firebase.firestore().collection('users').doc(uid).set({\n    name: nameState,\n    description: descState,\n    imageUrl,\n    likes: [],\n    dislikes: [],\n    favorites: [],\n    matches: [],\n    birthdate: bDay,\n    height: '',\n    gender: '',\n    ethnicity: '',\n    outdoorActivities: [],\n    eyeColor: '',\n    hairColor: '',\n    bodyType: '',\n    education: '',\n    religion: '',\n    ambition: '',\n    alcoholUse: '',\n    smoking: '',\n    childStatus: '',\n    astrologySign: '',\n    id: uid,\n  })\n    .catch((err) => {\n      console.log(`Unable to register user: ${err.message}`);\n    });\n\n  await registerCometChatUser(nameState, uid);\n  await loginCometChatUser(uid);\n}\n","// Description: a page for a user who signed up with the e-mail/password flow\n// register their dating profile\nimport React, { useReducer, useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport 'firebase/compat/auth';\nimport 'firebase/compat/storage';\nimport 'firebase/compat/firestore';\nimport registerEmailProfile from '../methods/registerEmailProfile';\nimport { withLayout } from '../wrappers/layout';\n\n// Document initial state\nconst initialState = {\n  name: '',\n  description: '',\n  image: '',\n};\n\n// Reducer to process inputs\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'name':\n      return { ...state, name: action.payload };\n    case 'description':\n      return { ...state, description: action.payload };\n    case 'image':\n      return { ...state, image: action.payload };\n    default:\n      throw new Error();\n  }\n};\n\n// Page main function\nconst RegisterPage = () => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const [error, setError] = useState('');\n  const history = useHistory();\n\n  // Link reducer to input\n  const handleOnChange = (evt) => {\n    const { target } = evt;\n    dispatch({\n      type: target.name,\n      payload: target.value,\n    });\n  };\n\n  // Link reducer to photo upload ui element\n  const handleFileChange = (evt) => {\n    const { target } = evt;\n    dispatch({\n      type: target.name,\n      payload: target.files[0],\n    });\n  };\n\n  // Async function to register an email/pw user's dating profile\n  async function registerUser(evt) {\n    // prevent default inputs\n    evt.preventDefault();\n    // await dating profile creation\n    await registerEmailProfile(state.image, state.name, state.description);\n    // once done, redirect user to discover page\n    history.push('/discover');\n  }\n\n  // Page content\n  return (\n    <div className=\"my-10 bg-white rounded-2xl border-2 border-gray-200 flex flex-col justify-center items-center mx-auto p-10 w-full md:w-7/12\">\n      <div className=\"flex flex-col justify-center items-center\">\n        <Link to=\"/\">\n          <svg\n            className=\"w-10\"\n            viewBox=\"0 0 24 24\"\n            focusable=\"false\"\n            aria-hidden=\"true\"\n            role=\"presentation\"\n          >\n            <defs>\n              <radialGradient\n                id=\"svg-fill-radial__tinder\"\n                cx=\"0.5\"\n                cy=\"1\"\n                fr=\"0\"\n                fx=\"0.5\"\n                fy=\"1\"\n                r=\"1\"\n                spreadMethod=\"pad\"\n              >\n                <stop offset=\"0%\" stopColor=\"#ff7854\" />\n                <stop offset=\"100%\" stopColor=\"#fd267d\" />\n              </radialGradient>\n            </defs>\n            <path\n              d=\"M8.21 10.08c-.02 0-.04 0-.06-.02-.67-.9-.84-2.44-.89-3.03 0-.11-.13-.18-.23-.12C4.93 8.08 3 10.86 3 13.54 3 18.14 6.2 22 11.7 22c5.15 0 8.7-3.98 8.7-8.46 0-5.87-4.2-9.77-7.93-11.53a.13.13 0 0 0-.19.14c.48 3.16-.18 6.6-4.07 7.93z\"\n              fill=\"url(#svg-fill-radial__tinder)\"\n              fillRule=\"nonzero\"\n            />\n          </svg>\n        </Link>\n        <h3 className=\"text-2xl font-extrabold italic uppercase my-4\">\n          Get Started\n        </h3>\n        <div\n          className=\"text-sm text-gray-800 text-center\"\n          data-nosnippet=\"true\"\n        >\n          By clicking Log in, you agree to our\n          {' '}\n          <a\n            className=\"underline focus-outline-style text-gray-600\"\n            href=\"#\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            aria-describedby=\"open-in-new-window\"\n          >\n            Terms\n          </a>\n          . Learn how we process your data in our\n          {' '}\n          <a\n            className=\"underline focus-outline-style text-gray-600\"\n            href=\"#\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            aria-describedby=\"open-in-new-window\"\n          >\n            Privacy Policy\n          </a>\n          {' '}\n          and\n          {' '}\n          <a\n            className=\"underline focus-outline-style text-gray-600\"\n            href=\"#\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            aria-describedby=\"open-in-new-window\"\n          >\n            Cookie Policy\n          </a>\n          .\n        </div>\n      </div>\n      <div className=\"text-center w-full divide-y-2 divide-gray-100 divide-solid\">\n        <form className=\"my-5 w-full\" onSubmit={registerUser}>\n          {error && (\n            <p className=\"text-red-500 font-bold text-base py-2 \">{error}</p>\n          )}\n          <label htmlFor=\"name\" className=\"sr-only font-bold text-base md:ml-1\">\n            Name\n          </label>\n          <input\n            id=\"name\"\n            name=\"name\"\n            type=\"name\"\n            autoComplete=\"name\"\n            required\n            onChange={handleOnChange}\n            value={state.name}\n            className=\"my-5 appearance-none rounded-full relative block w-full py-3 px-4 font-bold border-2 border-gray-400 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-yellow-500 focus:border-yellow-500 text-base\"\n            placeholder=\"Name\"\n            minLength={3}\n          />\n          <label\n            htmlFor=\"description\"\n            className=\"sr-only font-bold text-base md:ml-1\"\n          >\n            Description\n          </label>\n          <textarea\n            id=\"description\"\n            name=\"description\"\n            autoComplete=\"description\"\n            rows=\"5\"\n            required\n            onChange={handleOnChange}\n            value={state.description}\n            className=\"my-5 appearance-none rounded-xl relative block w-full py-3 px-4 font-bold border-2 border-gray-400 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-yellow-500 focus:border-yellow-500 text-base\"\n            placeholder=\"Describe yourself...\"\n            maxLength=\"255\"\n          />\n          <label htmlFor=\"name\" className=\"sr-only font-bold text-base md:ml-1\">\n            Profile Image\n          </label>\n          <input\n            id=\"image\"\n            name=\"image\"\n            type=\"file\"\n            accept=\".png,.jpeg,.jpg,.webp\"\n            required\n            onChange={handleFileChange}\n            value={state.image.fileNamer}\n            className=\"my-5 appearance-none rounded-full relative block w-full py-3 px-4 font-bold border-2 border-gray-400 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-yellow-500 focus:border-yellow-500 text-base\"\n            placeholder=\"Name\"\n            minLength={3}\n          />\n          <button\n            type=\"submit\"\n            className=\"w-full bg-gradient-to-r from-pink-600 to-yellow-500 rounded-full hover:bg-gray-200 py-4 px-16 block whitespace-no-wrap text-white font-bold uppercase\"\n          >\n            Continue\n          </button>\n        </form>\n        <div className=\"py-4\">\n          <h3 className=\"text-2xl font-extrabold italic uppercase my-4\">\n            Get the app!\n          </h3>\n          <div className=\"flex justify-between items-center\">\n            <img width=\"130\" src=\"/appStore.webp\" alt=\"AppStore Download\" />\n            <img\n              width=\"170\"\n              src=\"/playStore.webp\"\n              alt=\"PlayStore Download\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default withLayout(RegisterPage, { bgImage: true });\n","// Description: a page which informs the user they are not old enough to sign up with our service\nimport React from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport 'firebase/compat/auth';\nimport 'firebase/compat/storage';\nimport 'firebase/compat/firestore';\nimport { withLayout } from '../wrappers/layout';\n\nconst SorryPage = () => {\n  const history = useHistory();\n\n  const goHome = () => {\n    history.push('/');\n  };\n\n  return (\n    <div className=\"my-10 bg-white rounded-2xl border-2 border-gray-200 flex flex-col justify-center items-center mx-auto p-10 w-full md:w-7/12\">\n      <div className=\"flex flex-col justify-center items-center\">\n        <Link to=\"/\">\n          <svg\n            className=\"w-10\"\n            viewBox=\"0 0 24 24\"\n            focusable=\"false\"\n            aria-hidden=\"true\"\n            role=\"presentation\"\n          >\n            <defs>\n              <radialGradient\n                id=\"svg-fill-radial__tinder\"\n                cx=\"0.5\"\n                cy=\"1\"\n                fr=\"0\"\n                fx=\"0.5\"\n                fy=\"1\"\n                r=\"1\"\n                spreadMethod=\"pad\"\n              >\n                <stop offset=\"0%\" stopColor=\"#ff7854\" />\n                <stop offset=\"100%\" stopColor=\"#fd267d\" />\n              </radialGradient>\n            </defs>\n            <path\n              d=\"M8.21 10.08c-.02 0-.04 0-.06-.02-.67-.9-.84-2.44-.89-3.03 0-.11-.13-.18-.23-.12C4.93 8.08 3 10.86 3 13.54 3 18.14 6.2 22 11.7 22c5.15 0 8.7-3.98 8.7-8.46 0-5.87-4.2-9.77-7.93-11.53a.13.13 0 0 0-.19.14c.48 3.16-.18 6.6-4.07 7.93z\"\n              fill=\"url(#svg-fill-radial__tinder)\"\n              fillRule=\"nonzero\"\n            />\n          </svg>\n        </Link>\n        <h3 className=\"text-2xl font-extrabold italic uppercase my-4\">\n          Sorry!\n        </h3>\n        <div\n          className=\"text-sm text-gray-800 text-center\"\n          data-nosnippet=\"true\"\n        >\n          Unfortunately you must be at least 18 years of age to register with our service.\n        </div>\n      </div>\n      <div className=\"text-center w-full divide-y-2 divide-gray-100 divide-solid\">\n        <form className=\"my-5 w-full\" onSubmit={goHome}>\n          <button\n            type=\"submit\"\n            className=\"w-full bg-gradient-to-r from-pink-600 to-yellow-500 rounded-full hover:bg-gray-200 py-4 px-16 block whitespace-no-wrap text-white font-bold uppercase\"\n          >\n            Cancel Sign-Up\n          </button>\n        </form>\n        <div className=\"py-4\">\n          <h3 className=\"text-2xl font-extrabold italic uppercase my-4\">\n            Get the app!\n          </h3>\n          <div className=\"flex justify-between items-center\">\n            <img width=\"130\" src=\"/appStore.webp\" alt=\"AppStore Download\" />\n            <img\n              width=\"170\"\n              src=\"/playStore.webp\"\n              alt=\"PlayStore Download\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default withLayout(SorryPage, { bgImage: true });\n","// Description: An async function to create a firebase user with a provided email and password\nimport firebase from 'firebase/compat';\nimport localStorePut from './localStorePut';\nimport localStoreGet from './localStoreGet';\n\nexport default async function createEmailUser(email, password) {\n  await firebase\n    .auth()\n    .createUserWithEmailAndPassword(email, password)\n    .then(async (doc) => {\n      await localStorePut('doc', doc);\n    })\n    .catch((err) => {\n      console.log(`Unable to register user: ${err.message}`);\n    });\n  console.log(localStoreGet('doc'));\n}\n","// Description: A page which allows the user to select a sign-up method and create\n// a firebase account with our app. This does not create a firestore dating profile.\nimport React, { useReducer, useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport 'firebase/compat/auth';\nimport 'firebase/compat/storage';\nimport 'firebase/compat/firestore';\nimport FirebaseLogin from '../components/FirebaseRegister';\nimport createEmailUser from '../methods/createEmailUser';\nimport { withLayout } from '../wrappers/layout';\n\n// Document initial state\nconst initialState = {\n  email: '',\n  password: '',\n  confirmPassword: '',\n};\n\n// Reducer to process inputs\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'email':\n      return { ...state, email: action.payload };\n    case 'password':\n      return { ...state, password: action.payload };\n    case 'confirmPassword':\n      return { ...state, confirmPassword: action.payload };\n    default:\n      throw new Error();\n  }\n};\n\n// Page main function\nconst SignupPage = () => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const [error, setError] = useState('');\n  const history = useHistory();\n\n  // Link reducer\n  const handleOnChange = (evt) => {\n    const { target } = evt;\n    dispatch({\n      type: target.name,\n      payload: target.value,\n    });\n  };\n\n  // Async function to register email/password user with firebase\n  // The function is NOT called for SSO registration, which is handled at component level\n  async function registerUser(evt) {\n    evt.preventDefault();\n    if (state.password !== state.confirmPassword) {\n      setError('Error: Passwords do not match.');\n      return;\n    }\n    await createEmailUser(state.email, state.password);\n    history.push('/register');\n  }\n\n  // Page content\n  // You will notice <FirebaseLogin /> in the code. This singular line links\n  // in the Firebase UI SSO component.\n  return (\n    <div className=\"my-10 bg-white rounded-2xl border-2 border-gray-200 flex flex-col justify-center items-center mx-auto p-10 w-9/12 lg:w-1/2 md:w-7/12 sm:w-8/12\">\n      <div className=\"flex flex-col justify-center items-center\">\n        <Link to=\"/\">\n          <svg\n            className=\"w-10\"\n            viewBox=\"0 0 24 24\"\n            focusable=\"false\"\n            aria-hidden=\"true\"\n            role=\"presentation\"\n          >\n            <defs>\n              <radialGradient\n                id=\"svg-fill-radial__tinder\"\n                cx=\"0.5\"\n                cy=\"1\"\n                fr=\"0\"\n                fx=\"0.5\"\n                fy=\"1\"\n                r=\"1\"\n                spreadMethod=\"pad\"\n              >\n                <stop offset=\"0%\" stopColor=\"#ff7854\" />\n                <stop offset=\"100%\" stopColor=\"#fd267d\" />\n              </radialGradient>\n            </defs>\n            <path\n              d=\"M8.21 10.08c-.02 0-.04 0-.06-.02-.67-.9-.84-2.44-.89-3.03 0-.11-.13-.18-.23-.12C4.93 8.08 3 10.86 3 13.54 3 18.14 6.2 22 11.7 22c5.15 0 8.7-3.98 8.7-8.46 0-5.87-4.2-9.77-7.93-11.53a.13.13 0 0 0-.19.14c.48 3.16-.18 6.6-4.07 7.93z\"\n              fill=\"url(#svg-fill-radial__tinder)\"\n              fillRule=\"nonzero\"\n            />\n          </svg>\n        </Link>\n        <h3 className=\"text-2xl font-extrabold italic uppercase my-4\">\n          Get Started\n        </h3>\n        <div\n          className=\"text-sm text-gray-800 text-center\"\n          data-nosnippet=\"true\"\n        >\n          By clicking Log in, you agree to our\n          {' '}\n          <a\n            className=\"underline focus-outline-style text-gray-600\"\n            href=\"#\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            aria-describedby=\"open-in-new-window\"\n          >\n            Terms\n          </a>\n          . Learn how we process your data in our\n          {' '}\n          <a\n            className=\"underline focus-outline-style text-gray-600\"\n            href=\"#\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            aria-describedby=\"open-in-new-window\"\n          >\n            Privacy Policy\n          </a>\n          {' '}\n          and\n          {' '}\n          <a\n            className=\"underline focus-outline-style text-gray-600\"\n            href=\"#\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            aria-describedby=\"open-in-new-window\"\n          >\n            Cookie Policy\n          </a>\n          .\n        </div>\n      </div>\n      <div className=\"text-center w-full divide-y-2 divide-gray-100 divide-solid\">\n        <form className=\"my-5 w-full\" onSubmit={registerUser}>\n          {error && (\n            <p className=\"text-red-500 font-bold text-base py-2 \">{error}</p>\n          )}\n          <label\n            htmlFor=\"email\"\n            className=\"sr-only font-bold text-base md:ml-1\"\n          >\n            Email\n          </label>\n          <input\n            id=\"email\"\n            name=\"email\"\n            type=\"email\"\n            autoComplete=\"email\"\n            required\n            onChange={handleOnChange}\n            value={state.email}\n            className=\"my-5 appearance-none rounded-full relative block w-full py-3 px-4 font-bold border-2 border-gray-400 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-yellow-500 focus:border-yellow-500 text-base\"\n            placeholder=\"Email\"\n          />\n          <label\n            htmlFor=\"password\"\n            className=\"sr-only font-bold text-base md:ml-1\"\n          >\n            Password\n          </label>\n          <input\n            id=\"password\"\n            name=\"password\"\n            type=\"password\"\n            autoComplete=\"password\"\n            required\n            onChange={handleOnChange}\n            value={state.password}\n            className=\"my-5 appearance-none rounded-full relative block w-full py-3 px-4 font-bold border-2 border-gray-400 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-yellow-500 focus:border-yellow-500 text-base\"\n            placeholder=\"Password\"\n          />\n          <label\n            htmlFor=\"password\"\n            className=\"sr-only font-bold text-base md:ml-1\"\n          >\n            Re-Enter Password\n          </label>\n          <input\n            id=\"confirmPassword\"\n            name=\"confirmPassword\"\n            type=\"password\"\n            autoComplete=\"password\"\n            required\n            onChange={handleOnChange}\n            value={state.confirmPassword}\n            className=\"my-5 appearance-none rounded-full relative block w-full py-3 px-4 font-bold border-2 border-gray-400 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-yellow-500 focus:border-yellow-500 text-base\"\n            placeholder=\"Re-Enter Password\"\n            minLength={6}\n          />\n          <button\n            type=\"submit\"\n            className=\"w-full bg-gradient-to-r from-pink-600 to-yellow-500 rounded-full hover:bg-gray-200 py-4 px-16 block whitespace-no-wrap text-white font-bold uppercase\"\n          >\n            Continue\n          </button>\n        </form>\n        <div className=\"py-4\">\n          <h3 className=\"text-2xl font-extrabold italic uppercase my-4\">\n            Register with Google Sign-In\n          </h3>\n          <div className=\"flex justify-between items-center\">\n            <FirebaseLogin />\n          </div>\n        </div>\n        <div className=\"py-4\">\n          <h3 className=\"text-2xl font-extrabold italic uppercase my-4\">\n            Get the app!\n          </h3>\n          <div className=\"flex justify-between items-center\">\n            <img width=\"130\" src=\"/appStore.webp\" alt=\"AppStore Download\" />\n            <img\n              width=\"170\"\n              src=\"/playStore.webp\"\n              alt=\"PlayStore Download\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default withLayout(SignupPage, { bgImage: true });\n","// Description: An async function to create a dating profile from a google SSO login\nimport firebase from 'firebase/compat';\nimport localStoreGet from './localStoreGet';\nimport { loginCometChatUser, registerCometChatUser } from '../cometchat';\n\nexport default async function registerGoogleProfile(descState) {\n  const bDay = localStoreGet('localBirthdate');\n  const user = firebase.auth().currentUser;\n  const userid = user.uid;\n  const uname = firebase.auth().currentUser.displayName;\n\n  await firebase.firestore().collection('users').doc(userid).set({\n    name: uname,\n    description: descState,\n    imageUrl: firebase.auth().currentUser.photoURL,\n    likes: [],\n    dislikes: [],\n    favorites: [],\n    matches: [],\n    birthdate: bDay,\n    height: '',\n    gender: '',\n    ethnicity: '',\n    outdoorActivities: [],\n    eyeColor: '',\n    hairColor: '',\n    bodyType: '',\n    education: '',\n    religion: '',\n    ambition: '',\n    alcoholUse: '',\n    smoking: '',\n    childStatus: '',\n    astrologySign: '',\n    id: userid,\n  })\n    .catch((err) => {\n      console.log(`Unable to register user: ${err.message}`);\n    });\n\n  await registerCometChatUser(uname, userid);\n  await loginCometChatUser(userid);\n}\n","// Description: A page to support profile creation for a Google SSO sign-on\nimport React, { useReducer, useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport 'firebase/compat/auth';\nimport 'firebase/compat/storage';\nimport 'firebase/compat/firestore';\nimport registerGoogleProfile from '../methods/registerGoogleProfile';\nimport { withLayout } from '../wrappers/layout';\n\n// Page initial state\nconst initialState = {\n  description: '',\n};\n\n// Reducer to manage input\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'description':\n      return { ...state, description: action.payload };\n    default:\n      throw new Error();\n  }\n};\n\n// Page main function\nconst GRegisterPage = () => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const [error] = useState('');\n  const history = useHistory();\n\n  // Call in reducer to handle input\n  const handleOnChange = (evt) => {\n    const { target } = evt;\n    dispatch({\n      type: target.name,\n      payload: target.value,\n    });\n  };\n\n  // Async function to call dating profile creation function\n  async function registerUser(evt) {\n    evt.preventDefault();\n    // Await dating profile creation for google sign-in type\n    await registerGoogleProfile(state.description);\n    // Once user has been registered, then redirct the to /discover\n    history.push('/discover');\n  }\n\n  // Page content\n  return (\n    <div className=\"my-10 bg-white rounded-2xl border-2 border-gray-200 flex flex-col justify-center items-center mx-auto p-10 w-full md:w-7/12\">\n      <div className=\"flex flex-col justify-center items-center\">\n        <Link to=\"/\">\n          <svg\n            className=\"w-10\"\n            viewBox=\"0 0 24 24\"\n            focusable=\"false\"\n            aria-hidden=\"true\"\n            role=\"presentation\"\n          >\n            <defs>\n              <radialGradient\n                id=\"svg-fill-radial__tinder\"\n                cx=\"0.5\"\n                cy=\"1\"\n                fr=\"0\"\n                fx=\"0.5\"\n                fy=\"1\"\n                r=\"1\"\n                spreadMethod=\"pad\"\n              >\n                <stop offset=\"0%\" stopColor=\"#ff7854\" />\n                <stop offset=\"100%\" stopColor=\"#fd267d\" />\n              </radialGradient>\n            </defs>\n            <path\n              d=\"M8.21 10.08c-.02 0-.04 0-.06-.02-.67-.9-.84-2.44-.89-3.03 0-.11-.13-.18-.23-.12C4.93 8.08 3 10.86 3 13.54 3 18.14 6.2 22 11.7 22c5.15 0 8.7-3.98 8.7-8.46 0-5.87-4.2-9.77-7.93-11.53a.13.13 0 0 0-.19.14c.48 3.16-.18 6.6-4.07 7.93z\"\n              fill=\"url(#svg-fill-radial__tinder)\"\n              fillRule=\"nonzero\"\n            />\n          </svg>\n        </Link>\n        <h3 className=\"text-2xl font-extrabold italic uppercase my-4\">\n          Get Started\n        </h3>\n        <div\n          className=\"text-sm text-gray-800 text-center\"\n          data-nosnippet=\"true\"\n        >\n          By clicking Log in, you agree to our\n          {' '}\n          <a\n            className=\"underline focus-outline-style text-gray-600\"\n            href=\"#\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            aria-describedby=\"open-in-new-window\"\n          >\n            Terms\n          </a>\n          . Learn how we process your data in our\n          {' '}\n          <a\n            className=\"underline focus-outline-style text-gray-600\"\n            href=\"#\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            aria-describedby=\"open-in-new-window\"\n          >\n            Privacy Policy\n          </a>\n          {' '}\n          and\n          {' '}\n          <a\n            className=\"underline focus-outline-style text-gray-600\"\n            href=\"#\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            aria-describedby=\"open-in-new-window\"\n          >\n            Cookie Policy\n          </a>\n          .\n        </div>\n      </div>\n      <div className=\"text-center w-full divide-y-2 divide-gray-100 divide-solid\">\n        Tell us a bit more about yourself...\n        <form className=\"my-5 w-full\" onSubmit={registerUser}>\n          {error && (\n            <p className=\"text-red-500 font-bold text-base py-2 \">{error}</p>\n          )}\n          <label\n            htmlFor=\"description\"\n            className=\"sr-only font-bold text-base md:ml-1\"\n          >\n            Description\n          </label>\n          <textarea\n            id=\"description\"\n            name=\"description\"\n            autoComplete=\"description\"\n            rows=\"5\"\n            required\n            onChange={handleOnChange}\n            value={state.description}\n            className=\"my-5 appearance-none rounded-xl relative block w-full py-3 px-4 font-bold border-2 border-gray-400 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-yellow-500 focus:border-yellow-500 text-base\"\n            placeholder=\"Describe yourself...\"\n            maxLength=\"255\"\n          />\n          <button\n            type=\"submit\"\n            className=\"w-full bg-gradient-to-r from-pink-600 to-yellow-500 rounded-full hover:bg-gray-200 py-4 px-16 block whitespace-no-wrap text-white font-bold uppercase\"\n          >\n            Continue\n          </button>\n        </form>\n        <div className=\"py-4\">\n          <h3 className=\"text-2xl font-extrabold italic uppercase my-4\">\n            Get the app!\n          </h3>\n          <div className=\"flex justify-between items-center\">\n            <img width=\"130\" src=\"/appStore.webp\" alt=\"AppStore Download\" />\n            <img\n              width=\"170\"\n              src=\"/playStore.webp\"\n              alt=\"PlayStore Download\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default withLayout(GRegisterPage, { bgImage: true });\n","// Description: our core app component. Routing is handled here, so any new pages need\n// to be added to the routes or they will not work.\nimport React, { useEffect } from 'react';\nimport firebase from 'firebase/compat';\nimport 'firebase/compat/auth';\nimport {\n  Route, BrowserRouter, Switch, Redirect,\n} from 'react-router-dom';\nimport IndexPage from './pages';\nimport AgePage from './pages/age';\nimport DiscoverPage from './pages/discover';\nimport InboxPage from './pages/inbox';\nimport LoginPage from './pages/login';\nimport LogoutPage from './pages/logout';\nimport RegisterPage from './pages/register';\nimport SorryPage from './pages/sorry';\nimport SignupPage from './pages/signup';\nimport GRegisterPage from './pages/gregister';\n\n// Main function, essentially \"if user exists then retrieve user\" on every page load (I think)\nfunction App() {\n  useEffect(() => {\n    firebase.auth().onAuthStateChanged((user) => {\n      if (user) {\n        // store the user on local storage\n        firebase\n          .firestore()\n          .doc(`/users/${user.uid}`)\n          .get()\n          .then((doc) => {\n            localStorage.setItem('user', JSON.stringify({\n              ...doc.data(),\n              id: doc.id,\n            }));\n          });\n      } else {\n        // removes the user from local storage on logOut\n        localStorage.removeItem('user');\n      }\n    });\n  }, []);\n\n  // This is where the routing magic happens. If you need to add a new page just use the existing\n  // routes as templates to add in new ones. I don't think order matters, but I would group\n  // private and non-private routes and add in any new pages before the last one with the *\n  // to keep things neat and play it safe.\n  return (\n    <>\n      <BrowserRouter>\n        <Switch>\n          <Route exact path=\"/\">\n            <IndexPage />\n          </Route>\n          <PrivateRoute path=\"/discover\">\n            <DiscoverPage />\n          </PrivateRoute>\n          <PrivateRoute path=\"/inbox\">\n            <InboxPage />\n          </PrivateRoute>\n          <Route path=\"/login\">\n            <LoginPage />\n          </Route>\n          <Route path=\"/logout\">\n            <LogoutPage />\n          </Route>\n          <Route path=\"/register\">\n            <RegisterPage />\n          </Route>\n          <Route path=\"/gregister\">\n            <GRegisterPage />\n          </Route>\n          <Route path=\"/age\">\n            <AgePage />\n          </Route>\n          <Route path=\"/sorry\">\n            <SorryPage />\n          </Route>\n          <Route path=\"/signup\">\n            <SignupPage />\n          </Route>\n          <Route path=\"*\">\n            <IndexPage />\n          </Route>\n        </Switch>\n      </BrowserRouter>\n    </>\n  );\n}\n\nfunction PrivateRoute({ children, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      render={({ location }) => (localStorage.getItem('user') ? (\n        children\n      ) : (\n        <Redirect\n          to={{\n            pathname: '/login',\n            state: { from: location },\n          }}\n        />\n      ))}\n    />\n  );\n}\n\nexport default App;\n","// Description: As I understand it, this is our entry point. Significant changes to this page,\n// if any, should not be necessary in this project.\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { FirebaseAuthProvider } from '@react-firebase/auth';\nimport { FirestoreProvider } from '@react-firebase/firestore';\nimport firebase from 'firebase/compat';\nimport { CometChat } from '@cometchat-pro/chat';\nimport { firebaseConfig, cometConfig } from './environment';\n\nimport './styles/index.css';\nimport './styles/tailwind.css';\nimport App from './App';\n\nconst appSetting = new CometChat.AppSettingsBuilder()\n  .subscribePresenceForAllUsers()\n  .setRegion(cometConfig.region)\n  .build();\n\nCometChat.init(cometConfig.appId, appSetting).then(\n  () => {\n    if (CometChat.setSource) {\n      CometChat.setSource('ui-kit', 'web', 'reactjs');\n    }\n    console.log('Initialization completed successfully');\n\n    ReactDOM.render(\n      <React.StrictMode>\n        <FirebaseAuthProvider {...firebaseConfig} firebase={firebase}>\n          <FirestoreProvider {...firebaseConfig} firebase={firebase}>\n            <App />\n          </FirestoreProvider>\n        </FirebaseAuthProvider>\n      </React.StrictMode>,\n      document.getElementById('root'),\n    );\n  },\n  (error) => {\n    console.log('Initialization failed with error:', error);\n    // Check the reason for error and take appropriate action.\n  },\n);\n","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\nimport { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport { theme } from \"../../../resources/theme\";\r\nimport Translator from \"../../../resources/localization/translator\";\r\n\r\nimport { actionMessageStyle, actionMessageTxtStyle } from \"./style\"\r\n\r\nclass CometChatActionMessageBubble extends React.Component {\r\n\r\n    loggedInUser = null;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.loggedInUser = props.loggedInUser;\r\n    }\r\n\r\n    getCallActionMessage = (message) => {\r\n\r\n        const call = message;\r\n        let actionMessage = null;\r\n\r\n        switch (call.status) {\r\n\r\n            case CometChat.CALL_STATUS.INITIATED: {\r\n\r\n                actionMessage = Translator.translate(\"CALL_INITIATED\", this.props.lang);\r\n                if (call.type === CometChat.CALL_TYPE.AUDIO) {\r\n\r\n                    if (call.receiverType === CometChat.RECEIVER_TYPE.USER) {\r\n\r\n                        actionMessage = (call.callInitiator.uid === this.loggedInUser.uid) ? Translator.translate(\"OUTGOING_AUDIO_CALL\", this.props.lang) : Translator.translate(\"INCOMING_AUDIO_CALL\", this.props.lang);\r\n\r\n                    } else if (call.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\r\n\r\n                        if (call.action === CometChat.CALL_STATUS.INITIATED) {\r\n\r\n                            actionMessage = (call.callInitiator.uid === this.loggedInUser.uid) ? Translator.translate(\"OUTGOING_AUDIO_CALL\", this.props.lang) : Translator.translate(\"INCOMING_AUDIO_CALL\", this.props.lang);\r\n\r\n                        } else if (call.action === CometChat.CALL_STATUS.REJECTED) {\r\n\r\n                            actionMessage = (call.sender.uid === this.loggedInUser.uid) ? Translator.translate(\"CALL_REJECTED\", this.props.lang) : (`${call.sender.name} ${Translator.translate(\"REJECTED_CALL\", this.props.lang)}`);\r\n                        }\r\n                    }\r\n\r\n                } else if (call.type === CometChat.CALL_TYPE.VIDEO) {\r\n\r\n                    if (call.receiverType === CometChat.RECEIVER_TYPE.USER) {\r\n\r\n                        actionMessage = (call.callInitiator.uid === this.loggedInUser.uid) ? Translator.translate(\"OUTGOING_VIDEO_CALL\", this.props.lang) : Translator.translate(\"INCOMING_VIDEO_CALL\", this.props.lang);\r\n\r\n                    } else if (call.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\r\n\r\n                        if (call.action === CometChat.CALL_STATUS.INITIATED) {\r\n\r\n                            actionMessage = (call.callInitiator.uid === this.loggedInUser.uid) ? Translator.translate(\"OUTGOING_VIDEO_CALL\", this.props.lang) : Translator.translate(\"INCOMING_VIDEO_CALL\", this.props.lang);\r\n\r\n                        } else if (call.action === CometChat.CALL_STATUS.REJECTED) {\r\n\r\n                            actionMessage = (call.sender.uid === this.loggedInUser.uid) ? Translator.translate(\"CALL_REJECTED\", this.props.lang) : (`${call.sender.name} ${Translator.translate(\"REJECTED_CALL\", this.props.lang)}`);\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n            }\r\n            case CometChat.CALL_STATUS.ONGOING: {\r\n\r\n                if (call.receiverType === CometChat.RECEIVER_TYPE.USER) {\r\n\r\n                    actionMessage = Translator.translate(\"CALL_ACCEPTED\", this.props.lang);\r\n\r\n                } else if (call.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\r\n\r\n                    if (call.action === CometChat.CALL_STATUS.ONGOING) {\r\n\r\n                        actionMessage = (call.sender.uid === this.loggedInUser.uid) ? Translator.translate(\"CALL_ACCEPTED\", this.props.lang) : (`${call.sender.name} ${Translator.translate(\"JOINED\", this.props.lang)}`);\r\n\r\n                    } else if (call.action === CometChat.CALL_STATUS.REJECTED) {\r\n\r\n                        actionMessage = (call.sender.uid === this.loggedInUser.uid) ? Translator.translate(\"CALL_REJECTED\", this.props.lang) : (`${call.sender.name} ${Translator.translate(\"REJECTED_CALL\", this.props.lang)}`);\r\n\r\n                    } else if (call.action === \"left\") {\r\n\r\n                        if (call.sender.uid === this.loggedInUser.uid) {\r\n\r\n                            actionMessage = `${Translator.translate(\"YOU\", this.props.lang)} ${Translator.translate(\"LEFT_THE_CALL\", this.props.lang)}`;\r\n\r\n                        } else {\r\n                            actionMessage = `${call.sender.name} ${Translator.translate(\"LEFT_THE_CALL\", this.props.lang)}`;\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n            }\r\n            case CometChat.CALL_STATUS.UNANSWERED: {\r\n\r\n                actionMessage = Translator.translate(\"CALL_UNANSWERED\", this.props.lang);\r\n\r\n                if (call.type === CometChat.CALL_TYPE.AUDIO && (call.receiverType === CometChat.RECEIVER_TYPE.USER || call.receiverType === CometChat.RECEIVER_TYPE.GROUP)) {\r\n\r\n                    actionMessage = (call.callInitiator.uid === this.loggedInUser.uid) ? Translator.translate(\"UNANSWERED_AUDIO_CALL\", this.props.lang) : Translator.translate(\"MISSED_AUDIO_CALL\", this.props.lang);\r\n\r\n                } else if (call.type === CometChat.CALL_TYPE.VIDEO && (call.receiverType === CometChat.RECEIVER_TYPE.USER || call.receiverType === CometChat.RECEIVER_TYPE.GROUP)) {\r\n\r\n                    actionMessage = (call.callInitiator.uid === this.loggedInUser.uid) ? Translator.translate(\"UNANSWERED_VIDEO_CALL\", this.props.lang) : Translator.translate(\"MISSED_VIDEO_CALL\", this.props.lang);\r\n                }\r\n                break;\r\n            }\r\n            case CometChat.CALL_STATUS.REJECTED:\r\n                actionMessage = Translator.translate(\"CALL_REJECTED\", this.props.lang);\r\n                break;\r\n            case CometChat.CALL_STATUS.ENDED:\r\n                actionMessage = Translator.translate(\"CALL_ENDED\", this.props.lang);\r\n                break;\r\n            case CometChat.CALL_STATUS.CANCELLED:\r\n                actionMessage = Translator.translate(\"CALL_CANCELLED\", this.props.lang);\r\n                break;\r\n            case CometChat.CALL_STATUS.BUSY:\r\n                actionMessage = Translator.translate(\"CALL_BUSY\", this.props.lang);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n        return actionMessage;\r\n    }\r\n\r\n    getActionMessage = (message) => {\r\n\r\n        let actionMessage = null;\r\n\r\n        if (message.hasOwnProperty(\"actionBy\") === false || message.hasOwnProperty(\"actionOn\") === false) {\r\n            return actionMessage;\r\n        }\r\n        \r\n        if (message.action !== CometChat.ACTION_TYPE.MEMBER_JOINED\r\n        && message.action !== CometChat.ACTION_TYPE.MEMBER_LEFT\r\n        && (message.actionBy.hasOwnProperty(\"name\") === false || message.actionOn.hasOwnProperty(\"name\") === false)) {\r\n            return actionMessage;\r\n        }\r\n        \r\n        if (message.action === CometChat.ACTION_TYPE.MEMBER_SCOPE_CHANGED) {\r\n\r\n            if (message.hasOwnProperty(\"data\") && message.data.hasOwnProperty(\"extras\")) {\r\n\r\n                if (message.data.extras.hasOwnProperty(\"scope\")) {\r\n\r\n                    if (message.data.extras.scope.hasOwnProperty(\"new\") === false) { return actionMessage; }\r\n\r\n                } else { return actionMessage; }\r\n\r\n            } else { return actionMessage; }\r\n        }\r\n        \r\n        if (message.action === CometChat.ACTION_TYPE.MEMBER_SCOPE_CHANGED \r\n            && (message.data.extras.hasOwnProperty(\"scope\") === false || message.data.extras.scope.hasOwnProperty(\"new\") === false)) {\r\n            return actionMessage;\r\n        }\r\n\r\n        const byEntity = message.actionBy;\r\n        const onEntity = message.actionOn;\r\n\r\n        const byString = byEntity.name;\r\n        const forString = (message.action !== CometChat.ACTION_TYPE.MEMBER_JOINED && message.action !== CometChat.ACTION_TYPE.MEMBER_LEFT) ? onEntity.name : \"\";\r\n        \r\n        switch (message.action) {\r\n\r\n            case \"added\":\r\n                actionMessage = `${byString} ${Translator.translate(\"ADDED\", this.props.lang)} ${forString}`;\r\n                break;\r\n            case CometChat.ACTION_TYPE.MEMBER_JOINED:\r\n                actionMessage = `${byString} ${Translator.translate(\"JOINED\", this.props.lang)}`;\r\n                break;\r\n            case CometChat.ACTION_TYPE.MEMBER_LEFT:\r\n                actionMessage = `${byString} ${Translator.translate(\"LEFT\", this.props.lang)}`;\r\n                break;\r\n            case CometChat.ACTION_TYPE.MEMBER_KICKED:\r\n                actionMessage = `${byString} ${Translator.translate(\"KICKED\", this.props.lang)} ${forString}`;\r\n                break;\r\n            case CometChat.ACTION_TYPE.MEMBER_BANNED:\r\n                actionMessage = `${byString} ${Translator.translate(\"BANNED\", this.props.lang)} ${forString}`;\r\n                break;\r\n            case CometChat.ACTION_TYPE.MEMBER_UNBANNED:\r\n                actionMessage = `${byString} ${Translator.translate(\"UNBANNED\", this.props.lang)} ${forString}`;\r\n                break;\r\n            case CometChat.ACTION_TYPE.MEMBER_SCOPE_CHANGED: {\r\n                const newScope = message[\"data\"][\"extras\"][\"scope\"][\"new\"];\r\n                actionMessage = `${byString} ${Translator.translate(\"MADE\", this.props.lang)} ${forString} ${Translator.translate(newScope, this.props.lang)}`;\r\n                break;\r\n            }\r\n            default:\r\n                break;\r\n        }\r\n\r\n        return actionMessage;\r\n    }\r\n\r\n    getMessage = (message) => {\r\n\r\n        let actionMessage = null;\r\n        \r\n        if (message.category === CometChat.CATEGORY_CALL) {\r\n\r\n            actionMessage = this.getCallActionMessage(message);\r\n\r\n        } else if (message.category === CometChat.CATEGORY_ACTION) {\r\n            \r\n            actionMessage = this.getActionMessage(message);\r\n        }\r\n\r\n        return actionMessage;\r\n    }\r\n\r\n    render () {\r\n\r\n        return (\r\n            <div css={actionMessageStyle()} className=\"action__message\">\r\n                <p css={actionMessageTxtStyle()}>{this.getMessage(this.props.message)}</p>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatActionMessageBubble.defaultProps = {\r\n    lang: Translator.getDefaultLanguage(),\r\n    theme: theme,\r\n};\r\n\r\nCometChatActionMessageBubble.propTypes = {\r\n    lang: PropTypes.string,\r\n    theme: PropTypes.object,\r\n}\r\n\r\nexport default CometChatActionMessageBubble; ","export const actionMessageStyle = () => {\r\n\r\n    return {\r\n        padding: \"8px 16px\",\r\n        marginBottom: \"16px\",\r\n        textAlign: \"center\",\r\n    }\r\n}\r\n\r\nexport const actionMessageTxtStyle = () => {\r\n\r\n    return {\r\n        fontSize: \"13.5px\",\r\n        margin: \"0\",\r\n        lineHeight: \"20px\",\r\n    }\r\n}","export const messageContainerStyle = (props) => {\r\n\r\n    const alignment = (props.messageOf === \"sender\") ? {\r\n        alignSelf: \"flex-end\"\r\n    } : {\r\n        alignSelf: \"flex-start\"\r\n    };\r\n\r\n    return {\r\n        marginBottom: \"16px\",\r\n        paddingLeft: \"16px\",\r\n        paddingRight: \"16px\",\r\n        maxWidth: \"65%\",\r\n        clear: \"both\",\r\n        flexShrink: \"0\",\r\n        ...alignment\r\n    }\r\n}\r\n\r\nexport const messageWrapperStyle = (props) => {\r\n\r\n    const alignment = (props.messageOf === \"sender\") ? {\r\n        display: \"flex\",\r\n        flexDirection : \"column\",\r\n    } : {};\r\n\r\n    return {\r\n        flex: \"1 1\",\r\n        position: \"relative\",\r\n        width: \"100%\",\r\n        ...alignment\r\n    }\r\n}\r\n\r\nexport const messageTxtWrapperStyle = (props) => {\r\n\r\n    const alignment = (props.messageOf === \"sender\") ? {\r\n        alignSelf: \"flex-end\",\r\n    } : {\r\n        alignSelf: \"flex-start\",\r\n    };\r\n\r\n    return {\r\n        display: \"inline-block\",\r\n        borderRadius: \"12px\",\r\n        padding: \"8px 12px\",\r\n        alignSelf: \"flex-end\",\r\n        Width: \"100%\",\r\n        backgroundColor: `${props.theme.backgroundColor.secondary}`,\r\n        fontStyle: \"italic\",\r\n        ...alignment\r\n    }\r\n}\r\n\r\nexport const messageTxtStyle = (props) => {\r\n\r\n    return {\r\n        fontSize: \"14px!important\",\r\n        margin: \"0\",\r\n        lineHeight: \"20px!important\",\r\n        color: `${props.theme.color.helpText}`\r\n    }\r\n}\r\n\r\nexport const messageInfoWrapperStyle = (props) => {\r\n\r\n    const alignment = (props.messageOf === \"sender\") ? {\r\n        alignSelf : \"flex-end\",\r\n    } : {\r\n        alignSelf: \"flex-start\",\r\n    };\r\n\r\n    return alignment\r\n}\r\n\r\nexport const messageTimeStampStyle = (props) => {\r\n\r\n    return {\r\n        display: \"inline-block\",\r\n        fontSize: \"11px\",\r\n        fontWeight: 500,\r\n        lineHeight: \"12px\",\r\n        textTransform: \"uppercase\",\r\n        color: `${props.theme.color.helpText}`,\r\n    }\r\n}\r\n\r\nexport const messageThumbnailStyle = () => {\r\n\r\n    return {\r\n        width: \"36px\",\r\n        height: \"36px\",\r\n        margin: \"12px 0\",\r\n        float: \"left\",\r\n    }\r\n}\r\n\r\nexport const messageDetailStyle = (props) => {\r\n\r\n    let paddingSpace = {};\r\n    if (props.messageOf === \"receiver\" && props.message.receiverType === 'group') {\r\n\r\n        paddingSpace = {\r\n            paddingLeft: \"5px\"\r\n        };\r\n    }\r\n\r\n    return {\r\n        flex: \"1 1\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        position: \"relative\",\r\n        ...paddingSpace\r\n    }\r\n}\r\n\r\nexport const nameWrapperStyle = (props) => {\r\n\r\n    let paddingSpace = {};\r\n    if (props.messageOf === \"receiver\" && props.message.receiverType === 'group') {\r\n\r\n        paddingSpace = {\r\n            padding: \"3px 5px\"\r\n        };\r\n    }\r\n\r\n    return {\r\n        alignSelf: \"flex-start\",\r\n        ...paddingSpace,\r\n    }\r\n}\r\n\r\nexport const nameStyle = (props) => {\r\n    return {\r\n        fontSize: \"10px\",\r\n        color: `${props.theme.color.helpText}`,\r\n    }\r\n}","import React from \"react\";\r\nimport dateFormat from \"dateformat\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\nimport { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport { CometChatAvatar } from \"../../Shared\";\r\n\r\nimport { theme } from \"../../../resources/theme\";\r\nimport Translator from \"../../../resources/localization/translator\";\r\n\r\nimport {\r\n    messageContainerStyle,\r\n    messageWrapperStyle,\r\n    messageTxtWrapperStyle,\r\n    messageTxtStyle,\r\n    messageInfoWrapperStyle,\r\n    messageTimeStampStyle,\r\n    messageThumbnailStyle,\r\n    messageDetailStyle,\r\n    nameWrapperStyle,\r\n    nameStyle\r\n} from \"./style\";\r\n\r\nconst CometChatDeleteMessageBubble = (props) => {\r\n\r\n    let message = null;\r\n    const messageDate = (props.message.sentAt * 1000);\r\n    if(props.messageOf === \"sender\") {\r\n\r\n        message = (\r\n            <React.Fragment>\r\n                <div css={messageTxtWrapperStyle(props)} className=\"message__txt__wrapper\">\r\n                    <p css={messageTxtStyle(props)} className=\"message__txt\">{Translator.translate(\"YOU_DELETED_THIS_MESSAGE\", props.lang)}</p>                         \r\n                </div>\r\n                <div css={messageInfoWrapperStyle(props)} className=\"message__info__wrapper\">\r\n                    <span css={messageTimeStampStyle(props)} className=\"message__timestamp\">{dateFormat(messageDate, \"shortTime\")}</span>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n\r\n    } else if(props.messageOf === \"receiver\") {\r\n\r\n        let avatar = null, name = null;\r\n\r\n        if (props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\r\n\r\n            avatar = (\r\n                <div css={messageThumbnailStyle()} className=\"message__thumbnail\">\r\n                    <CometChatAvatar user={props.message.sender} />\r\n                </div>\r\n            )\r\n            name = (\r\n            <div css={nameWrapperStyle(props)} className=\"message__name__wrapper\">\r\n                <span css={nameStyle(props)} className=\"message__name\">{props.message.sender.name}</span>\r\n            </div>);\r\n        } \r\n\r\n        message = (\r\n            <React.Fragment>\r\n                {avatar}\r\n                <div css={messageDetailStyle(props)} className=\"message__details\">\r\n                    {name}\r\n                    <div css={messageTxtWrapperStyle(props)} className=\"message__txt__wrapper\">\r\n                        <p css={messageTxtStyle(props)} className=\"message__txt\">{Translator.translate(\"THIS_MESSAGE_DELETED\", props.lang)}</p>\r\n                    </div>\r\n                    <div css={messageInfoWrapperStyle(props)} className=\"message__info__wrapper\">\r\n                        <span css={messageTimeStampStyle(props)} className=\"message__timestamp\">{dateFormat(messageDate, \"shortTime\")}</span>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div css={messageContainerStyle(props)} className=\"message__deleted\">\r\n            <div css={messageWrapperStyle(props)} className=\"message__wrapper\">{message}</div>                            \r\n        </div>\r\n    )\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatDeleteMessageBubble.defaultProps = {\r\n    lang: Translator.getDefaultLanguage(),\r\n    theme: theme\r\n};\r\n\r\nCometChatDeleteMessageBubble.propTypes = {\r\n    lang: PropTypes.string,\r\n    theme: PropTypes.object\r\n}\r\n\r\nexport default CometChatDeleteMessageBubble;\r\n","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Picker } from \"emoji-mart\";\r\n\r\nimport Translator from \"../../../resources/localization/translator\";\r\n\r\nimport {\r\n    pickerStyle\r\n} from \"./style\";\r\n\r\nclass CometChatEmojiKeyboard extends React.Component {\r\n\r\n    categories = {};\r\n    title = \"\";\r\n\r\n    constructor(props) {\r\n\r\n        super(props);\r\n\r\n        const categories = {\r\n            people: Translator.translate(\"SMILEY_PEOPLE\", props.lang),\r\n            nature: Translator.translate(\"ANIMALES_NATURE\", props.lang),\r\n            foods: Translator.translate(\"FOOD_DRINK\", props.lang),\r\n            activity: Translator.translate(\"ACTIVITY\", props.lang),\r\n            places: Translator.translate(\"TRAVEL_PLACES\", props.lang),\r\n            objects: Translator.translate(\"OBJECTS\", props.lang),\r\n            symbols: Translator.translate(\"SYMBOLS\", props.lang),\r\n            flags: Translator.translate(\"FLAGS\", props.lang)\r\n        }\r\n\r\n        const title = Translator.translate(\"PICK_YOUR_EMOJI\", props.lang);\r\n\r\n        this.state = {\r\n            categories: categories, \r\n            title: title\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n\r\n        if(prevProps.lang !== this.props.lang) {\r\n\r\n            const categories = {\r\n                search: Translator.translate(\"SEARCH\", this.props.lang),\r\n                people: Translator.translate(\"SMILEY_PEOPLE\", this.props.lang),\r\n                nature: Translator.translate(\"ANIMALES_NATURE\", this.props.lang),\r\n                foods: Translator.translate(\"FOOD_DRINK\", this.props.lang),\r\n                activity: Translator.translate(\"ACTIVITY\", this.props.lang),\r\n                places: Translator.translate(\"TRAVEL_PLACES\", this.props.lang),\r\n                objects: Translator.translate(\"OBJECTS\", this.props.lang),\r\n                symbols: Translator.translate(\"SYMBOLS\", this.props.lang),\r\n                flags: Translator.translate(\"FLAGS\", this.props.lang)\r\n            }\r\n\r\n            const title = Translator.translate(\"PICK_YOUR_EMOJI\", this.props.lang);\r\n\r\n            this.setState({ categories: { ...categories}, title: title });\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        const exclude = [\"search\", \"recent\"];\r\n        return(\r\n            <div css={pickerStyle()}>\r\n            <Picker\r\n            title={this.state.title}\r\n            emoji=\"point_up\"\r\n            native\r\n            onClick={this.props.emojiClicked}\r\n            showPreview={false}\r\n            exclude={exclude}\r\n            i18n={{ categories: this.state.categories }} \r\n            style={{ bottom: \"100px\", \"zIndex\": \"2\", \"width\": \"100%\", height: \"230px\" }} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatEmojiKeyboard.defaultProps = {\r\n    lang: Translator.getDefaultLanguage(),\r\n};\r\n\r\nCometChatEmojiKeyboard.propTypes = {\r\n    lang: PropTypes.string,\r\n}\r\n\r\nexport default CometChatEmojiKeyboard;","export const pickerStyle = () => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        \".emoji-mart\": {\r\n            borderRadius: \"5px 5px 0 0\",\r\n            borderBottom: \"0px\",\r\n            \".emoji-mart-category-list\": {\r\n                \" > li\": {\r\n                    width: \"50px\",\r\n                    height: \"30px\",\r\n                    margin: \"8px\",\r\n                    \".emoji-mart-emoji\": {\r\n                        width: \"50px\",\r\n                        height: \"30px\",\r\n                        padding: \"0px\",\r\n                        \" > span\": {\r\n                            width: \"50px!important\",\r\n                            height: \"30px!important\",\r\n                            cursor: \"pointer\",\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n        },\r\n        \".emoji-mart-scroll\": {\r\n            height: \"200px\"\r\n        },\r\n        \".emoji-mart-preview, .emoji-mart-search\": {\r\n            display: \"none\"\r\n        },\r\n        \".emoji-mart-category\": {\r\n            \".emoji-mart-emoji:hover:before\": {\r\n                background: \"none\",\r\n                borderRadius: \"0px\",\r\n            }\r\n        }\r\n    }\r\n}","export const imageWrapperStyle = (img) => {\r\n\r\n    return {\r\n        position: \"absolute\",\r\n        top: \"0\",\r\n        left: \"0\",\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        padding: \"2%\",\r\n        zIndex: \"9999\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        background: `url(${img}) no-repeat right top #fff`,\r\n        cursor: \"pointer\",\r\n    }\r\n}\r\n\r\nexport const imgStyle = () => {\r\n\r\n    return {\r\n        objectFit: \"contain\"\r\n    }\r\n}","export default __webpack_public_path__ + \"static/media/ring.b56d0148.svg\";","import React, { useRef } from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { CometChatBackdrop } from \"../../Shared\";\r\n\r\nimport {\r\n    imageWrapperStyle,\r\n    imgStyle,\r\n} from \"./style\";\r\n\r\nimport srcIcon from \"./resources/ring.svg\";\r\nimport closeIcon from \"./resources/close.png\";\r\n\r\nconst CometChatImageViewer = (props) => {\r\n\r\n    let imgRef = useRef();\r\n\r\n    let img = new Image();\r\n    img.src = props.message.data.url;\r\n    img.onload = () => {\r\n\r\n        if (imgRef) {\r\n            imgRef.src = img.src;\r\n        }\r\n    };\r\n\r\n    return(\r\n        <React.Fragment>\r\n            <CometChatBackdrop show={props.open} clicked={props.close} />\r\n            <div css={imageWrapperStyle(closeIcon)} onClick={props.close} className=\"image__wrapper\">\r\n                <img src={srcIcon} css={imgStyle()} alt={srcIcon} ref={el => { imgRef = el; }} />\r\n            </div>            \r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\n\r\n// Specifies the default values for props:\r\nCometChatImageViewer.defaultProps = {\r\n    count: 0,\r\n    close: () => { }\r\n};\r\n\r\nCometChatImageViewer.propTypes = {\r\n    show: PropTypes.bool,\r\n    close: PropTypes.func,\r\n}\r\n\r\nexport default CometChatImageViewer;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFaADAAQAAAABAAAAFQAAAAAIGxIOAAACcElEQVQ4EZ2UPYgTQRiGs3MJhoAHBoNgIQd3vYiVjaV2IhHCZqMcWFgqCqcQ9U4Uf++wsFCw8DfJhuUKUUhhk0KwUlA4sFA4EJSAhAsWggSzPt+6EyZze6dxYJj53vf93vl2ftZJbdLCMFSNRmOP4zhT9Dy9C7bquu475uFGqU4SgdF2kqskeow7bA34V7Aa3I1KpbK2jreBer1eAbtLn7S5hHhNKXWiXC4vm5wyAyqcJ67R/8VQUrdRbUDenAS6DT8fYhbBI02MM8b763qeF0heZOr7/s7BYPCRODeOmaX9nslkZkql0rfo86nwkm3I6s/pvpUYheBP6M8sbrLf718QTLVarS2YupYgBfaaz/HA71jcEvAs2BsLT7HQ0Xa7nVa9Xm8/5NYEwVW5CbRTcJExSYvEc/H+X7ZzKCTf6XT2KYTTNikxggm4x9qY+SEqPBsbPkAycnMMj+k0B1QwgJGpNm42myu8ohcssBdsM0MppiCrrXsRpjMV3sTwfRAEu/j0t8RLJp8wlwehPicQEYTBdV7LeflkTvYTlcpdPAd+a6Mc8VO5XK6N6KctgryHQdXYwwy6mjZGf9/OIf5B3qvo8pO4zF4cMUUY3Cb+Ar7IODwU8F/Ep8FnGE/Shw3OpxAvLQjuFzmwwwgntIL5GT03x1hj312R9OEWZBJVwEF8YJUrAvxvI3+Bg5Sn/ufty4RVHP4BTxnl1zdWw/AhX31cJ5l7FXLSx9gKqXigBX8ZRTdvGop++Oszk7nsu9nja2AH4z00aXnjclgtCqiydSsjJEGiqRZx4QvczwOYTIHlWaDLfDWbzb4sFotdrbPH34IuDwr79+D1AAAAAElFTkSuQmCC\"","export const messagePreviewContainerStyle = (props) => {\r\n\r\n    return {\r\n        display: \"inline-block\",\r\n        borderRadius: \"12px\",\r\n        backgroundColor: `${props.theme.backgroundColor.white}`,\r\n        boxShadow: \"0px 1px 2px 1px rgba(0,0,0,0.18)\",\r\n        alignSelf: \"flex-start\",\r\n        width: \"auto\",\r\n    }\r\n}\r\n\r\nexport const messagePreviewWrapperStyle = () => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        flexDirection: \"column\"\r\n    }\r\n}\r\n\r\nexport const previewImageStyle = (img) => {\r\n\r\n    return {\r\n        background: `url(${img}) no-repeat center center`,\r\n        backgroundSize: \"contain\",\r\n        height: \"150px\",\r\n        margin: \"12px 0\",\r\n    }\r\n}\r\n\r\nexport const previewDataStyle = (props) => {\r\n\r\n    return {\r\n        borderTop: `1px solid  ${props.theme.borderColor.primary}`,\r\n        borderBottom: `1px solid  ${props.theme.borderColor.primary}`,\r\n        padding: \"12px\",\r\n    }\r\n}\r\n\r\nexport const previewTitleStyle = (props) => {\r\n\r\n    return {\r\n        whiteSpace: \"pre-wrap\",\r\n        wordBreak: \"break-word\",\r\n        textAlign: \"left\",\r\n        width: \"auto\",\r\n        color: `${props.theme.color.helpText}`,\r\n        fontWeight: \"700\",\r\n        marginBottom: \"8px\",\r\n    }\r\n}\r\n\r\nexport const previewDescStyle = (props) => {\r\n\r\n    return {\r\n        whiteSpace: \"pre-wrap\",\r\n        wordBreak: \"break-word\",\r\n        textAlign: \"left\",\r\n        width: \"auto\",\r\n        color: `${props.theme.color.helpText}`,\r\n        fontStyle: \"italic\",\r\n        fontSize: \"13px\",\r\n    }\r\n}\r\n\r\nexport const previewTextStyle = (props) => {\r\n\r\n    return {\r\n        whiteSpace: \"pre-wrap\",\r\n        wordBreak: \"break-word\",\r\n        textAlign: \"left\",\r\n        width: \"auto\",\r\n        \".message__txt__wrapper\": {\r\n            backgroundColor: \"transparent\",\r\n            color: `${props.theme.color.helpText}`,\r\n            fontStyle: \"normal\",\r\n            padding: \"8px 0\",\r\n        }\r\n    }\r\n}\r\n\r\nexport const previewLinkStyle = (props) => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        padding: \"12px\",\r\n        \"> a\": {\r\n            display: \"inline-block\",\r\n            color: `${props.theme.color.blue}`,\r\n            fontWeight: \"700\",\r\n        }\r\n    }\r\n}\r\n","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\r\n\r\nimport { theme } from \"../../../resources/theme\";\r\nimport Translator from \"../../../resources/localization/translator\";\r\n\r\nimport {\r\n    messagePreviewContainerStyle,\r\n    messagePreviewWrapperStyle,\r\n    previewImageStyle,\r\n    previewDataStyle,\r\n    previewTitleStyle,\r\n    previewDescStyle,\r\n    previewLinkStyle,\r\n    previewTextStyle,\r\n} from \"./style\";\r\n\r\nclass CometChatLinkPreview extends React.PureComponent {\r\n\r\n    constructor(props) {\r\n\r\n        super(props);\r\n\r\n        this.state = {\r\n            message: props.message,\r\n            messageText: props.messageText\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        const linkPreviewData = checkMessageForExtensionsData(this.state.message, \"link-preview\");\r\n        const linkObject = linkPreviewData[\"links\"][0];\r\n\r\n        const pattern = /(http:|https:)?\\/\\/(www\\.)?(youtube.com|youtu.be)(\\S+)?/;\r\n        const linkText = (linkObject[\"url\"].match(pattern)) ? Translator.translate(\"VIEW_ON_YOUTUBE\", this.props.lang) : Translator.translate(\"VISIT\", this.props.lang);\r\n\r\n        return (\r\n            <div css={messagePreviewContainerStyle(this.props)} className=\"message__preview\">\r\n                <div css={messagePreviewWrapperStyle()} className=\"preview__card\">\r\n                    <div css={previewImageStyle(linkObject[\"image\"])} className=\"card__image\"></div>\r\n                    <div css={previewDataStyle(this.props)} className=\"card__info\">\r\n                        <div css={previewTitleStyle(this.props)} className=\"card__title\"><span>{linkObject[\"title\"]}</span></div>\r\n                        <div css={previewDescStyle(this.props)} className=\"card__desc\"><span>{linkObject[\"description\"]}</span></div>\r\n                        <div css={previewTextStyle(this.props)} className=\"card__text\">{this.state.messageText}</div>\r\n                    </div>\r\n                    <div css={previewLinkStyle(this.props)} className=\"card__link\">\r\n                        <a href={linkObject[\"url\"]} target=\"_blank\" rel=\"noopener noreferrer\">{linkText}</a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatLinkPreview.defaultProps = {\r\n    lang: Translator.getDefaultLanguage(),\r\n    theme: theme\r\n};\r\n\r\nCometChatLinkPreview.propTypes = {\r\n    lang: PropTypes.string,\r\n    theme: PropTypes.object\r\n}\r\n\r\nexport default CometChatLinkPreview;","export const messageActionStyle = (props) => {\r\n\r\n    const topPos = (props.name) ? { top: \"-4px\"} : { top: \"-30px\" };\r\n    const alignment = (props.message.messageFrom === \"receiver\") ? { alignSelf: \"flex-start\" } : { alignSelf: \"flex-end\" };\r\n    const direction = (props.message.messageFrom === \"receiver\") ? { \r\n        flexDirection: \"row-reverse\",\r\n        \"li:not(:first-of-type)\": {\r\n            marginRight: \"8px\",\r\n        }\r\n\r\n    } : {\r\n        \"li:not(:last-of-type)\": {\r\n            marginRight: \"8px\",\r\n        }\r\n    };\r\n\r\n    return {\r\n        position: \"absolute\",\r\n        zIndex: \"1\",\r\n        display: \"flex\",\r\n        listStyleType: \"none\",\r\n        padding: \"8px\",\r\n        margin: \"0\",\r\n        height: \"35px\",\r\n        border: `1px solid ${props.theme.borderColor.primary}`,\r\n        backgroundColor: `${props.theme.backgroundColor.white}`,\r\n        borderRadius: \"4px\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        ...alignment,\r\n        ...topPos,\r\n        ...direction,\r\n    }\r\n}\r\n\r\nexport const actionGroupStyle = (props) => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        position: \"relative\",\r\n    }\r\n}\r\n\r\nexport const groupButtonStyle = (props, img) => {\r\n\r\n    return {\r\n        outline: \"0\",\r\n        border: \"0\",\r\n        height: \"24px\",\r\n        width: \"24px\",\r\n        borderRadius: \"4px\",\r\n        alignItems: \"center\",\r\n        display: \"inline-flex\",\r\n        justifyContent: \"center\",\r\n        position: \"relative\",\r\n        background: `url(${img}) center center / 20px 19px no-repeat`,\r\n    }\r\n}","export default __webpack_public_path__ + \"static/media/add-reaction.738e657c.png\";","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\nimport { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport { validateWidgetSettings } from \"../../../util/common\";\r\n\r\nimport { theme } from \"../../../resources/theme\";\r\nimport Translator from \"../../../resources/localization/translator\";\r\n\r\nimport {\r\n  messageActionStyle,\r\n  actionGroupStyle,\r\n  groupButtonStyle\r\n} from \"./style\";\r\n\r\nimport replyIcon from \"./resources/startthread.png\";\r\nimport deleteIcon from \"./resources/deletemessage.png\";\r\nimport editIcon from \"./resources/edit.png\";\r\nimport reactIcon from \"./resources/add-reaction.png\";\r\nimport translateIcon from \"./resources/translate.png\";\r\n\r\nclass CometChatMessageActions extends React.PureComponent {\r\n\r\n  toggleTooltip = (event, flag) => {\r\n\r\n    const elem = event.target;\r\n\r\n    if (flag) {\r\n      elem.setAttribute(\"title\", elem.dataset.title);\r\n    } else {\r\n      elem.removeAttribute(\"title\");\r\n    }\r\n  }\r\n\r\n  render() {\r\n\r\n    //don't show the tooltip while the message is being sent\r\n    if (this.props.message.hasOwnProperty(\"sentAt\") === false) {\r\n      return false;\r\n    }\r\n\r\n    let reactToMessage = (\r\n      <li css={actionGroupStyle(this.props)} className=\"action__group\">\r\n        <button\r\n          type=\"button\"\r\n          onMouseEnter={event => this.toggleTooltip(event, true)}\r\n          onMouseLeave={event => this.toggleTooltip(event, false)}\r\n          css={groupButtonStyle(this.props, reactIcon)}\r\n          className=\"group__button button__reacttomessage\"\r\n          data-title={Translator.translate(\"ADD_REACTION\", this.props.lang)}\r\n          onClick={() => this.props.actionGenerated(\"reactToMessage\", this.props.message)}></button>\r\n      </li>\r\n    );\r\n\r\n    //if message reactions are disabled in chat widget\r\n    if (validateWidgetSettings(this.props.widgetsettings, \"allow_message_reactions\") === false) {\r\n      reactToMessage = null;\r\n    }\r\n    \r\n    let threadedChats = (\r\n      <li css={actionGroupStyle(this.props)} className=\"action__group\">\r\n        <button\r\n        type=\"button\"\r\n        onMouseEnter={event => this.toggleTooltip(event, true)}\r\n        onMouseLeave={event => this.toggleTooltip(event, false)}\r\n        css={groupButtonStyle(this.props, replyIcon)}\r\n        className=\"group__button button__threadedchats\" \r\n        data-title={(this.props.message.replyCount) ? Translator.translate(\"REPLY_TO_THREAD\", this.props.lang) : Translator.translate(\"REPLY_IN_THREAD\", this.props.lang) }\r\n        onClick={() => this.props.actionGenerated(\"viewMessageThread\", this.props.message)}></button>\r\n      </li>\r\n    );\r\n\r\n    //if threaded messages are disabled in chat widget\r\n    if (validateWidgetSettings(this.props.widgetconfig, \"threaded-chats\") === false \r\n      || validateWidgetSettings(this.props.widgetsettings, \"enable_threaded_replies\") === false\r\n      || this.props.message.parentMessageId) {\r\n      threadedChats = null;\r\n    }\r\n\r\n    let deleteMessage = (\r\n      <li css={actionGroupStyle(this.props)} className=\"action__group\">\r\n        <button\r\n        type=\"button\"\r\n        onMouseEnter={event => this.toggleTooltip(event, true)}\r\n        onMouseLeave={event => this.toggleTooltip(event, false)}\r\n        css={groupButtonStyle(this.props, deleteIcon)}\r\n        className=\"group__button button__delete\" \r\n        data-title={Translator.translate(\"DELETE_MESSAGE\", this.props.lang)}\r\n        onClick={() => this.props.actionGenerated(\"deleteMessage\", this.props.message)}></button>\r\n      </li>\r\n    );\r\n\r\n    //if deleting messages are disabled in chat widget\r\n    if (validateWidgetSettings(this.props.widgetsettings, \"enable_deleting_messages\") === false\r\n      || this.props.message.messageFrom === \"receiver\") {\r\n      deleteMessage = null;\r\n    }\r\n\r\n    let editMessage = (\r\n      <li css={actionGroupStyle(this.props)} className=\"action__group\">\r\n        <button\r\n        type=\"button\"\r\n        onMouseEnter={event => this.toggleTooltip(event, true)}\r\n        onMouseLeave={event => this.toggleTooltip(event, false)}\r\n        css={groupButtonStyle(this.props, editIcon)}\r\n        className=\"group__button button__edit\" \r\n        data-title={Translator.translate(\"EDIT_MESSAGE\", this.props.lang)}\r\n        onClick={() => this.props.actionGenerated(\"editMessage\", this.props.message)}></button>\r\n      </li>\r\n    );\r\n\r\n    //if editing messages are disabled in chat widget\r\n    if (validateWidgetSettings(this.props.widgetsettings, \"enable_editing_messages\") === false\r\n    || this.props.message.messageFrom === \"receiver\"\r\n    || this.props.message.type !== CometChat.MESSAGE_TYPE.TEXT) {\r\n      editMessage = null;\r\n    }\r\n\r\n    let translateMessage = (\r\n      <li css={actionGroupStyle(this.props)} className=\"action__group\">\r\n        <button\r\n        type=\"button\"\r\n        onMouseEnter={event => this.toggleTooltip(event, true)}\r\n        onMouseLeave={event => this.toggleTooltip(event, false)}\r\n        css={groupButtonStyle(this.props, translateIcon)}\r\n        className=\"group__button button__translate\"\r\n        data-title={Translator.translate(\"TRANSLATE_MESSAGE\", this.props.lang)}\r\n        onClick={() => this.props.translateMessage(this.props.message)}></button>\r\n      </li>\r\n    );\r\n\r\n    if (validateWidgetSettings(this.props.widgetsettings, \"enable_message_translation\") === false\r\n    || this.props.message.type !== CometChat.MESSAGE_TYPE.TEXT) {\r\n      translateMessage = null;\r\n    }\r\n\r\n    let tooltip = (\r\n      <ul css={messageActionStyle(this.props)} className=\"message__actions\">\r\n        {reactToMessage}\r\n        {threadedChats}\r\n        {editMessage}\r\n        {deleteMessage}\r\n        {translateMessage}\r\n      </ul>\r\n    );\r\n\r\n    if (threadedChats === null && deleteMessage === null && editMessage === null && reactToMessage === null && translateMessage === null) {\r\n      tooltip = null;\r\n    }\r\n\r\n    return tooltip;\r\n  }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatMessageActions.defaultProps = {\r\n  lang: Translator.getDefaultLanguage(),\r\n  theme: theme\r\n};\r\n\r\nCometChatMessageActions.propTypes = {\r\n  lang: PropTypes.string,\r\n  theme: PropTypes.object\r\n}\r\n\r\nexport default CometChatMessageActions;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAUCAYAAACJfM0wAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFqADAAQAAAABAAAAFAAAAABm4WA6AAACz0lEQVQ4EZ2UTWjScRjH+/+dTfOlYCCxSEJsizVadarBCAk6BPZysEMozqDZorJLh3aSHYpk2RtBwshMXRDbLjutYFBBx4qoLlN6YdSpmpYJ6rTP00FUspwPfP09r9/f7//4/H7KmuaixGKxbkVResFWsJnUPHgPFovF4qLP51tuVq40BoLBYIfNZjugqqqfmANCU2NOpVIp41silkBPut3ud405dcSJRKKPhMsUHGItUbSA/gxdCr+vrKys1Wg0Fvy78e/Dtwt8BjcLhUKk9guqxPF4fJDkhyRZWGN86vXh4eG32H+VaDSqY5MjfNl5EvqpmWPDC5x+SQr+EENqJ+EJtp7gGYJTEmxF2GCLVqsdI/c4mM7lcqf9fv8vlZ6q7HYVZ3e5XD67GlLZmM//wNddgmMGc79erx8Sv5JMJneyvuCkc5AeFmcbIhO0h9ZEqZ1lo3EVwpMYCqs425UKf6xMyQIENoPBsEHaMIIhE5Bql1XqaGOO5SOwAKPKz1dI+e9UPXrbwomFSwvoRLEshjReWjLYNiuFnZ2d61l2gC+lUikjhLMYGchHI5GIBFctMtOM3ABcQ/C8sVqtGVUGGscNHL1GozEEuXxOy+JyuTSQymRdhGOZXj92OBwlaYU0PgT5I+CD/D5ibYWZQ6xzOp0Hyb1N7SYw6fF4Xktt9Uozh13M4V12dZLwiVgolUpNcoEKklgrQqjT6frJH8V/DHwDIW7dHW5dUXKrxGKEw2G9xWI5gTrBBpl8Pt+XzWbz+NzY29jQQGwj2I5tx/6BPs96jZM+R6+KpqqhmM3mSk9PTxdFR8E4J8qaTKZ76OcI7wUD6DKn8tBM0cKxdDp9KxAIyPzWSd2Jud42dp+nWE7yFF3eZHl7r4BpiH4yr1nehwx2BTSVjtoIRKcgteOTInmbZyCa8Hq9L2vzWtHriCl4BXkR8gfcntC/3uP/kf8G3uhClzSuHPgAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAUCAYAAACAl21KAAADTUlEQVQ4T43UX2gcRRwH8O939jZpkyipLUHxT8EqBRUL0geL+CAq+CIigoI+tQ+2Su/2rNm9Ng1kI7V3u5tLdjcn2iqCVoniS62BKFStbf1La1VQ1FQpbdQ2Ji1JPUl72f1JTrPXbiO6T8P8Zj7zm9/ODLHAJwWjG3G8CcCSJEx1HhLvR2vmEdoDp9PTmO6QbVuXY2r6GJR6BhltJInHWIbZ2qtQqp9OsO2/oc78GjD6BEvalrGrOHnhBLGMd6HxZxb9Jy+BxNxogNq1SUDkKkAeBfAcqGZSEx4COAXI3sZ4RmhiSDGzFZC3QuROECOAqi1UtwX61gCogjgCFXXVaySFTasQ174C5Wq6lV//DySWcQCQL+iGT8+N/xvqNlfg3MxRZPSVLPb/KGbucbResZu2PS5mLotYH2K5PCFWPo9r2l9mzp4Wc+MRKG0PnaCnAdl2B6qTpxBzNcvhYbGMjyFxF73Bj8TMfg/R1rLP/1TM7Alk9Lvri3VmR6FrO1j0+y6EWlCdrELT7mLJ3ydm9gMocehU3rsIsoxxLF60mr3OcbGM36BUL0sDLyRQfXtmNkJGf4DF/mGxjBFoeJ7FYE8qo2no6kZuD06JZZwF8QSd4LU0NAVoG+j5Q2JmdwPyOr3KW6mMzoGLOlAqTaOQj0D1IJ2Bty+GLOMXiPTSC3eKlX8TGoZZ9HfNQ/AGPoOVi3HTbYsxMaFh/Pgf0HkPt4fvp6DcD6DaQcfvl4LxCmIeoOe/lEDXXf8lTozOwA0VtuY7UItPIqNuZzH4PL21Q9C0d1jye8UydgLxN3QHKw2o/VuMnfmdbtDcOC5NN7NY/i6VUX4fIIfoBp2y+alBxPExukE5gdraf0J18ii9wcuTA9zSsnzuD6ZrNAzBGL1gg1hGH8AzdP1nE6hZjaEWHaYbdMgW8w7MzhxEa2bp/JOSPCNiZt8AGNELH5PN+R7EmK1DlvE1MlwLvXkCf1Y/pFdZIWbuPkBGcMMtTVy/vn43G5CVexGCK+mF94ttN9WDtn1eHOcyFgpn62ftn7YUcg9DuGuuXvP3sgFtyXcikh5ItA4Z/eS/XlwRHVHUDaqldINVl0K23Ybq6SGQ90LiZKUFQapRUNbRCQ/Ox/8CRNajNq37aVYAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAUCAYAAABiS3YzAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFaADAAQAAAABAAAAFAAAAAA1ezu+AAACWklEQVQ4Ea2UT4gScRTHHR0R0hQ66MUVFuvQXjp2iqiFrnnolChLGFKxVBDbYaOsDnvZJXKR0JBAhQK7eOtU0CGoS5du6mWhQ2YlmE4b6vR5sj8Jx3+H/cHjzbz3vp/fvzej2Q5hZLNZn8fjuWCaZrjT6ezoh8C0AVyGcw/TvV5vQRNooVBY1jTtkt1ul6RDYrMGK/rKip4Cs/O8ivbYYDDYQ7PS7XZ3tWKxeBzYWwJLs0AHORjmHnYDzQdia9gjiQFdj8fjwrHpzJLDL5F4jT0haUhi2uj3+81Wq9X0+/3r1NzHOujK7Xb7k9II9Jy8CDAWi8nsMwdH5Q4EAlepf4j2J8XblUolXS6X+0poVw8UjYIqNu4zmYwH0HVqt8k12dVWtVrNRCKRoByjqh9BOaPhpanEuM/n80d9Pt9N6rbIGcAf1+v1XDgcPs/7LraiNCOoCkzypVLJ63K57giI/G/sQTQazYVCoQCxi7yfwP5iwzG3T9PptIvKTcQb+F9seZOzfyZqXZcr0SwLmwnlSzlCL8oNC1DOcAPgCwHK6PV6psNhbeup0FQqpbvd7gjau9g3gLcBvhTYvGFZuhIEg0Evz0lu+j3AtUWBop8Kpcn/YLdqtdoqwDdqskX81O0nk8kugM+LQMZrRitli+Z4cpF3jseiG0HnNf+kCQ5aynL9OhN9pNdOY9f41AzaZH8S4P8YMJPz1lnIKfRn0O5jP1SNnOkVEu8Ixim67HQ6eyo5y1Mnu3Sg7eBfNRqNL6pe/aRP0sTylZxViQX9d+qeG4axk0gk5I81HP8ApbX2i1+ISsQAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAApCAYAAABOScuyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAARFSURBVHgB1VlbVtpQFD2J+PoqHYHpCMQRgA6gRf98Ap2AOAJrJyCOgOBj+dfaCWgcgTgC0hGU/rl80b2Te12XNGiCgLjXCveRm2Tfc8/d5yRYEsHR0VHBtu0iqvlOp+NYlpWVEQHPa+N5TVSvb29va5VKxY+OsXSlXq9np6am6qgWZXzggvieSTwgrMheoerI+MEH6QWQbrOR4c/k5GRNusn6j4+PDSxR8+HhoSkjQiaTceCO86hWDT4OjPkT5SIbFqzLjpa+CCQbd3d3VT2jt8Lx8bELfy7pNgy4uLm56dmYVdUY529sbJTfmixBHih83VZCwDJYggCw7oGMESJ8vvDHRmfOGDAyf00CuKZnNB3+2KbO3t/f+zJGmJmZ+c81bXlneHeEMynHM8g4UJYy6xMTE821tbWzZ8bS3bLT09M5uN489oiP8Q2eYwqA67fRXpZhEoZmF1Dsss7Yj6InYUwsBxW6wLhgQ1Pj9Tn0O+aGHxphIBBzWMxnckRLUdDjBqp+6+Tk5ALCf4l2DfVtCfMVB0eW59TwnfX19RdVKhVhugOKgoSh+wCk95Wge3HjVebHCTLkktwcJmkRKC9RUFtp9TrulygrTLXpkHPoTM6D/2lXKPW8uW23QeQ3yJFMUFenWiDrsQ9WdSUFUhHGQ7icjOuN1dVVX8LQmaUl48arJfaU1jvQeVdeicSE4Q7cIA6ONgMM3YPLGtxExfnYB9j2vqr6TGFBfk5Ct+LGNX14sIThDjpJYu7c4mFkUyUlYV1AxqWv8bjpcCyrN4qmnqyEPuxLQiTedHhQXlVdwxcDN+GSU8IksvkoZfR1jOebjFaNYAwsW0aRVz7syiAJKx91WEf2v2OmnziXJWkGgShhLXcgJ4NCIpdQSw+DdS5icuUzdS4f5xaDRiILI5muoKjEnVNWfGniO3CZroliM9KvU6ez/US61IiLYEoWU+Ndppe+bszOzs7LGAF67xjNwKW6COOVZAEbR8YF2OxmNufzx6ag6x5sBGrqx3EgzUiqUwGFgGcGZq8hau2qziwi2jm0dgXa6aPdwYS6boTxAmnr+SBqLq+BeshryKqPJ47ugzH5sSf8VAXxZ5pYjVzn4rjGw6+lm7APwq2YhzC55/1yKlXsSAog8GRVVpdDWYp8hDyA0lSfCBOI+3UMKie49y9cXIySpSthdX5ImNgMDCDvIQ4s6vaTrDE4wDJ7Elqm88wNPkg82fNBkuXrF/mYZAkrOvD09NTBwAKqn7lEIOOoU5/UjZ5mHCFrfpD5g/6/0gdJJkxwzyb2USPuk5mV5EZqEi2TcC+ywBUetjSs73N9RbpnLOsOkyzRVy4RR5b+Bin7JkNGasKUmwhZavX3UZAl+rGw6a8dfKH/urW15cqIkIjwzc1NG0Ghq49KgGMFZD0ZIRKpBIGQa+qsD+lZ6jenfQ0SEyYODw+LDKFQgrO3+lvhH4A2LUSCk2wcAAAAAElFTkSuQmCC\"","import { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport * as enums from \"../../../util/enums.js\";\r\n\r\nexport class MessageHeaderManager {\r\n\r\n    userListenerId = \"head_user_\" + new Date().getTime();\r\n    msgListenerId = \"head_message_\" + new Date().getTime();\r\n    groupListenerId = \"head_group_\" + new Date().getTime();\r\n\r\n    attachListeners(callback) {\r\n        \r\n        CometChat.addUserListener(\r\n            this.userListenerId,\r\n            new CometChat.UserListener({\r\n                onUserOnline: onlineUser => {\r\n                    /* when someuser/friend comes online, user will be received here */\r\n                    callback(enums.USER_ONLINE, onlineUser);\r\n                },\r\n                onUserOffline: offlineUser => {\r\n                    /* when someuser/friend went offline, user will be received here */\r\n                    callback(enums.USER_OFFLINE, offlineUser);\r\n                }\r\n            })\r\n        );\r\n\r\n        CometChat.addMessageListener(\r\n            this.msgListenerId,\r\n            new CometChat.MessageListener({\r\n                onTypingStarted: typingIndicator => {\r\n                    callback(enums.TYPING_STARTED, typingIndicator);\r\n                },\r\n                onTypingEnded: typingIndicator => {\r\n                    callback(enums.TYPING_ENDED, typingIndicator);\r\n                }\r\n            })\r\n        );\r\n\r\n        CometChat.addGroupListener(\r\n            this.groupListenerId,\r\n            new CometChat.GroupListener({\r\n                onGroupMemberKicked: (message, kickedUser, kickedBy, kickedFrom) => {\r\n                    callback(enums.GROUP_MEMBER_KICKED, kickedFrom, kickedUser);\r\n                }, \r\n                onGroupMemberBanned: (message, bannedUser, bannedBy, bannedFrom) => {\r\n                    callback(enums.GROUP_MEMBER_BANNED, bannedFrom, bannedUser);\r\n                }, \r\n                onMemberAddedToGroup: (message, userAdded, userAddedBy, userAddedIn) => {\r\n                    callback(enums.GROUP_MEMBER_ADDED, userAddedIn);\r\n                }, \r\n                onGroupMemberLeft: (message, leavingUser, group) => {\r\n                    callback(enums.GROUP_MEMBER_LEFT, group, leavingUser);\r\n                }, \r\n                onGroupMemberJoined: (message, joinedUser, joinedGroup) => {\r\n                    callback(enums.GROUP_MEMBER_JOINED, joinedGroup);\r\n                }\r\n            })\r\n        );\r\n\r\n    }\r\n\r\n    removeListeners() {\r\n\r\n        CometChat.removeUserListener(this.userListenerId);\r\n        CometChat.removeMessageListener(this.msgListenerId);\r\n        CometChat.removeGroupListener(this.groupListenerId);\r\n    }\r\n}","export const chatHeaderStyle = (props) => {\r\n\r\n    return {\r\n        padding: \"16px\",\r\n        width: \"100%\",\r\n        backgroundColor: `${props.theme.backgroundColor.white}`,\r\n        zIndex: \"1\",\r\n        borderBottom: `1px solid ${props.theme.borderColor.primary}`,\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        justifyContent: \"space-between\",\r\n    }\r\n}\r\n\r\nexport const chatDetailStyle = () => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        alignItems: \"center\",\r\n        width: \"calc(100% - 116px)\",\r\n    }\r\n}\r\n\r\nexport const chatSideBarBtnStyle = (img, props) => {\r\n\r\n    const displayValue = (props.hasOwnProperty(\"sidebar\") && props.sidebar === 0) ? { display: \"none!important\"} : {};\r\n\r\n    const mq = [`@media (min-width : 320px) and (max-width: 767px)`];\r\n\r\n    return {\r\n        cursor: \"pointer\",\r\n        display: \"none\",\r\n        background: `url(${img}) center center no-repeat`,\r\n        width: \"24px\",\r\n        height: \"24px\",\r\n        float: \"left\",\r\n        [mq[0]]: {\r\n            display: \"block\"\r\n        },\r\n        ...displayValue\r\n    }\r\n}\r\n\r\nexport const chatThumbnailStyle = () => {\r\n\r\n    return {\r\n        display: \"inline-block\",\r\n        width: \"36px\",\r\n        height: \"36px\",\r\n        flexShrink: \"0\",\r\n        margin: \"0 16px\",\r\n    }\r\n}\r\n\r\nexport const chatUserStyle = () => {\r\n\r\n    const mq = [`@media (min-width : 320px) and (max-width: 767px)`];\r\n\r\n    return {\r\n        width: \"calc(100% - 50px)\",\r\n        padding: \"0\",\r\n        flexGrow: \"1\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        [mq[0]]: {\r\n            width: \"calc(100% - 80px)!important\"\r\n        }\r\n    }\r\n}\r\n\r\nexport const chatNameStyle = () => {\r\n\r\n    return {\r\n        margin: \"0\",\r\n        fontSize: \"15px\",\r\n        fontWeight: \"600\",\r\n        width: \"100%\",\r\n        overflow: \"hidden\",\r\n        textOverflow: \"ellipsis\",\r\n        whiteSpace: \"nowrap\",\r\n    }\r\n}\r\n\r\nexport const chatStatusStyle = (props, state) => {\r\n\r\n    let status = {};\r\n    if (props.type === \"user\") {\r\n\r\n\r\n\r\n        status = {\r\n            color: `${props.theme.color.blue}`,\r\n            textTransform: \"capitalize\",\r\n        };\r\n\r\n        if (state.presence === \"offline\") {\r\n            status = {\r\n                color: `${props.theme.color.helpText}`,\r\n                textTransform: \"capitalize\",\r\n            }\r\n        } \r\n\r\n        if (state.status.includes(\"typing\")) {\r\n\r\n            status = {\r\n                color: `${props.theme.color.helpText}`,\r\n                textTransform: \"none\",\r\n                fontStyle: \"italic\"\r\n            };\r\n        }\r\n        \r\n    } else if (props.type === \"group\") {\r\n\r\n        status = {\r\n            color: `${props.theme.color.helpText}`,\r\n        }\r\n\r\n        if (state.status.includes(\"typing\")) {\r\n\r\n            status = {\r\n                color: `${props.theme.color.helpText}`,\r\n                fontStyle: \"italic\"\r\n            };\r\n        }\r\n    }\r\n\r\n    return {\r\n        fontSize: \"13px\",\r\n        width: \"100%\",\r\n\r\n        ...status\r\n    }\r\n}\r\n\r\nexport const chatOptionWrapStyle = () => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        justifyContent: \"space-between\",\r\n        alignItems: \"center\",\r\n        width: \"auto\",\r\n    }\r\n}\r\n\r\nexport const chatOptionStyle = (img) => {\r\n\r\n    return {\r\n        width: \"24px\",\r\n        height: \"24px\",\r\n        cursor: \"pointer\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        margin: \"0 0 0 16px\",\r\n    }\r\n}","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFKADAAQAAAABAAAAFAAAAACy3fD9AAACtklEQVQ4EZ1UUUiTURQ+5/9xVCYaRCsUAumtQkhXFEUzyYg0emn1MIqls3qISisIkZmURDSKiqhpSEEvEzKoqJDKepnTFVH2ElEiWT6Ek5IsbTt9R/uH0VZbBy733HO/7zvn3Hv/nwlWfFmy2CCfxMnLRINk0o5INffpXqZmbA2KSUw3IFbPTC+EKF9i9MDRJvMzFVO88S5Ke0moAqINkRpeb5tBy+Db4uPU+l+CIG9GZc8rvdSsAqGdPIgEB+BucgTEm6moIUJLINDVyBy3yE9381X4d9C+3xmU2VY8ndkAKBfE4SRgP5LljI7QhiR7KUMG2n2PtgunI8qvSTbiPowYRF9P3/uXb6C6x3gqGxtFtNpJGx6j8xBai7EH7b+04unMWmE7iPbbreROEJjs8D9i6FlmZEbEy52osA8Xc2JlUGYqGwlOI9E8jJMZqQE81SbTEYgUjI9QnQqgzUc4ioOI1Za0iD6htA3FTRk+vyAqqjRMWtdTxSGNQuy4fkFwDyGJfwpJtPyKFMVjtMicRZ1hN3+24jonBJ1tkjc6Qc9QVXaWjVZ0e7hfAcUBacZxHEUyvag6MKpAugDfxPZXg+lwbw1fVKxaQlAXmjn2A7eOp4Tsq6zsEN0H4BlAPkHIDtZDnFUTjqUWa/3S7nIW7er18NBvgpOiLbImHqf7AL/BugKtDmgcR1KKSSv8YMuj/SEXj2nc0SJu4M/BnWCTyv4QVBDIq0G8hc3vJtOWsJe7NZ7KgF8A/BMW+pJUUIkALcXUgXby0daxHBud7fLwt1SiJQEJY29hSkElQjQXgpcguB3LAcOg+p5qus6MWn6Z/k/fRsmHZQOqbPqroEWCcDn8UxhFIAwJ0z0k6sftz0WsFAkXQ6wD621pCVrCjlYpw9/cBbITIgWIRzFeYdwsnEOBdhfHfgIOSveEJ4dt6QAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAUCAYAAAB1aeb6AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAH6ADAAQAAAABAAAAFAAAAAAHV+TnAAACiElEQVRIDb1Wz0tUURT+zhud0fwFI5UbMYrJNokxMwaF1EJauIt+EARG1Ogf0CowJypa9QfUm1lNYWS6DoKiooJSyyGiRemiFkWYo4bWhPNO3518MJjDjOnrwuXcd+495/vOPffe8wRsh1Ja8+0H+iHoFmCnKqqMvtxGmyXaTnH9C9r2j/fJx3Js5eCQ1n7P4BUXh9in6SitwEw5xu4aEdRAsZt2zSSxYAF7R3vlrTvvSlWViI0mkvtsdBK+odcozxH0TrAaZ+73yIK7eC3y2JD6pmYxQBID9PVkrE8OFNpHkrpHcxikbhd7kgRiErY1bRR1ldj66LTMFhqsdWwii9p4xx0IbWnGpnvdkjU+Omw9nFPcIim/ChwS1MZqNFoctHJ+cr3ABkREiIsJdmvmC3YYXdTW8zlghMNFpqeLeMMcBzI51DE9CFAxT7lRbS7vKIf6iK0pR3GV328q/YjyHDwmAXL50yrcwUbLJQe36XMbwUaCVTi12lnyDJynvoXbGn8Zw+XldPwVn9l2TxoP11lu86ViwAbUM3B6fl0qKu/ASyF7GTkflHApfO8iF9iRhMbNw1OMhHfgik/q4GI0gbumcK1GwDNwXwVOEHCQVe4IK+azfUltWUnAgGd5J+tXTqzju8HY8nGZY/E4Sd8X2NuyDkY7EtpJMj7Xt8WEvOfzup3VLW/kTvyLXM5vO22dYBMmjY/xXrlCIsf56tc6Dh6SyFF+/3R+Yd7icXjANQEqrhfLjXFSqpmSyooWZ2VpZUBP3Ypm7MZiMuyz0Mm5DwzUz57iriyaet5ANmkqTE6mSWKCW5MpBVY4T5uyfyb238Tm5z3y1djnr4EhQAe8FuiiDFH+l9+o3xTf5Es4uYHyAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAUCAYAAACTQC2+AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGqADAAQAAAABAAAAFAAAAADz+QhrAAAB5klEQVRIDbVVTSiEURQ99/OFYuEnikZKslPKpCyUhUQsUCw1JWNpZ2M7e3Z+pihZsbKQha0VpvyUWMhC2ClZyJh513nGxxgS5nl15913591z3vvuffdK94qW3D4gpsAQgBDFo+Q/BEmCnBNsZi8qcWld1FkoJmm8gmBbgMefsvBwRfSN0Gefvokcv0pV9NBWSun3RTFEh5uGctSvj0g6Z/O3y85lLbtPIqKCjURUYrmbWxe0mbYjEQz63BTiiVZ/S5ILatcdS1qVTKMmZXhP4DQxIcf8YtdchDyahFf88ef6iiCwPaQQJ8kh10eUAWu3oaB4bgJvETl4YD+jkcB7163t7Y9gQz4zT37Cz9TE2ajBWTaWU6L9CZkiuJVPwylR26IOGkU7A6OeYH53XC4CRqdEacUYgftszhnBAfU3IqfJEJz+q9npjUgwZysEi4BKAXayCZ0S8YFuEtzKp+GUKBzXGAxGWW0MYzLMYroXMDqNEd9OC/OgjslQT7LGgMTOTomI9xSAe4r7QLezb3OeL7ko25iHHvELUZ1KwuxG5dzi8IYW2/jULrnoGl7TgnwrOJPhjqBWXsZLm1DUsk1s/VvjY4GtIFsvJdP4KosxzVZOO1u5MmP+EDf6hOkbztzj9fdjK998BobvpZEpTxuHAAAAAElFTkSuQmCC\"","import React from \"react\";\r\nimport dateFormat from \"dateformat\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\nimport { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport { MessageHeaderManager } from \"./controller\";\r\n\r\nimport { CometChatAvatar, CometChatUserPresence } from \"../../Shared\";\r\n\r\nimport * as enums from \"../../../util/enums.js\";\r\nimport { validateWidgetSettings } from \"../../../util/common\";\r\n\r\nimport { theme } from \"../../../resources/theme\";\r\nimport Translator from \"../../../resources/localization/translator\";\r\n\r\nimport { \r\n  chatHeaderStyle, \r\n  chatDetailStyle, \r\n  chatSideBarBtnStyle, \r\n  chatThumbnailStyle,\r\n  chatUserStyle,\r\n  chatNameStyle,\r\n  chatStatusStyle,\r\n  chatOptionWrapStyle,\r\n  chatOptionStyle\r\n} from \"./style\";\r\n\r\nimport menuIcon from \"./resources/menuicon.png\";\r\nimport audioCallIcon from \"./resources/audiocall.png\";\r\nimport videoCallIcon from \"./resources/videocall.png\";\r\nimport detailPaneIcon from \"./resources/detailpane.png\";\r\n\r\nclass CometChatMessageHeader extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      status: \"\",\r\n      presence: \"offline\",\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n    this.MessageHeaderManager = new MessageHeaderManager();\r\n    this.MessageHeaderManager.attachListeners(this.updateHeader);\r\n\r\n    if (this.props.type === CometChat.RECEIVER_TYPE.USER) {\r\n      this.setStatusForUser();\r\n    } else {\r\n      this.setStatusForGroup();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n\r\n    this.MessageHeaderManager.removeListeners();\r\n    this.MessageHeaderManager = new MessageHeaderManager();\r\n    this.MessageHeaderManager.attachListeners(this.updateHeader);\r\n\r\n    if (this.props.type === CometChat.RECEIVER_TYPE.USER\r\n    && (prevProps.item.uid !== this.props.item.uid\r\n    || (prevProps.item.uid === this.props.item.uid && prevProps.lang !== this.props.lang))) {\r\n\r\n      this.setStatusForUser();\r\n\r\n    } else if (this.props.type === CometChat.RECEIVER_TYPE.GROUP\r\n    && (prevProps.item.guid !== this.props.item.guid \r\n    || (prevProps.item.guid === this.props.item.guid && prevProps.item.membersCount !== this.props.item.membersCount)\r\n    || (prevProps.item.guid === this.props.item.guid && prevProps.lang !== this.props.lang)) ) {\r\n\r\n      this.setStatusForGroup();\r\n    }\r\n  }\r\n\r\n  setStatusForUser = () => {\r\n\r\n    let status = \"\";\r\n    const presence = (this.props.item.status === \"online\") ? \"online\" : \"offline\";\r\n\r\n    if(this.props.item.status === \"offline\" && this.props.item.lastActiveAt) {\r\n\r\n      const lastActive = (this.props.item.lastActiveAt * 1000);\r\n      const messageDate = dateFormat(lastActive, \"dS mmm yyyy, h:MM TT\");\r\n\r\n      status = `${Translator.translate(\"LAST_ACTIVE_AT\", this.props.lang)} : ${messageDate}`;\r\n\r\n    } else if(this.props.item.status === \"offline\") {\r\n      \r\n      status = (Translator.translate(\"OFFLINE\", this.props.lang));\r\n\r\n    } else if (this.props.item.status === \"online\") {\r\n\r\n      status = (Translator.translate(\"ONLINE\", this.props.lang));\r\n    }\r\n\r\n    this.setState({status: status, presence: presence});\r\n  }\r\n\r\n  setStatusForGroup = () => {\r\n\r\n    let membersText = (Translator.translate(\"MEMBERS\", this.props.lang));\r\n    const status = `${this.props.item.membersCount} ${membersText}`;\r\n    this.setState({status: status});\r\n  }\r\n\r\n  componentWillUnmount() {\r\n\r\n    this.MessageHeaderManager.removeListeners();\r\n    this.MessageHeaderManager = null;\r\n  }\r\n\r\n  updateHeader = (key, item, groupUser) => {\r\n    \r\n    switch(key) {\r\n\r\n      case enums.USER_ONLINE:\r\n      case enums.USER_OFFLINE: {\r\n        if(this.props.type === \"user\" && this.props.item.uid === item.uid) {\r\n\r\n          //if user presence is disabled in chat widget\r\n          if (validateWidgetSettings(this.props.widgetsettings, \"show_user_presence\") === false) {\r\n            return false;\r\n          }\r\n          let status = \"\";\r\n          \r\n          if (item.status === \"offline\") {\r\n\r\n            status = Translator.translate(\"OFFLINE\", this.props.lang);\r\n\r\n          } else if (item.status === \"online\") {\r\n\r\n            status = Translator.translate(\"ONLINE\", this.props.lang);\r\n          }\r\n\r\n          this.setState({ status: status, presence: item.status });\r\n        }\r\n        break;\r\n      }\r\n      case enums.GROUP_MEMBER_KICKED:\r\n      case enums.GROUP_MEMBER_BANNED:\r\n      case enums.GROUP_MEMBER_LEFT:\r\n        if(this.props.type === \"group\" \r\n        && this.props.item.guid === item.guid\r\n        && this.props.loggedInUser.uid !== groupUser.uid) {\r\n\r\n          let membersCount = parseInt(item.membersCount);\r\n          const status = `${membersCount} ${Translator.translate(\"MEMBERS\", this.props.lang)}`;\r\n          this.setState({status: status});\r\n        }\r\n      break;\r\n      case enums.GROUP_MEMBER_JOINED:\r\n        if(this.props.type === \"group\" && this.props.item.guid === item.guid) {\r\n\r\n          let membersCount = parseInt(item.membersCount);\r\n          const status = `${membersCount} ${(Translator.translate(\"MEMBERS\", this.props.lang))}`;\r\n          this.setState({status: status});\r\n        }\r\n      break;\r\n      case enums.GROUP_MEMBER_ADDED:\r\n        if(this.props.type === \"group\" && this.props.item.guid === item.guid) {\r\n\r\n          let membersCount = parseInt(item.membersCount);\r\n          const status = `${membersCount} ${(Translator.translate(\"MEMBERS\", this.props.lang))}`;\r\n          this.setState({status: status});\r\n        }\r\n      break;\r\n      case enums.TYPING_STARTED: {\r\n        \r\n        if (this.props.type === \"group\" && this.props.type === item.receiverType && this.props.item.guid === item.receiverId) {\r\n\r\n          const typingText = `${item.sender.name} ${Translator.translate(\"IS_TYPING\", this.props.lang)}`;\r\n          this.setState({ status: typingText });\r\n          this.props.actionGenerated(\"showReaction\", item);\r\n\r\n        } else if (this.props.type === \"user\" && this.props.type === item.receiverType && this.props.item.uid === item.sender.uid) {\r\n\r\n          const typingText = `${Translator.translate(\"TYPING\", this.props.lang)}`;\r\n          this.setState({ status: typingText });\r\n          this.props.actionGenerated(\"showReaction\", item);\r\n        }\r\n        \r\n        break;\r\n      }\r\n      case enums.TYPING_ENDED: {\r\n\r\n        if (this.props.type === \"group\" && this.props.type === item.receiverType && this.props.item.guid === item.receiverId) {\r\n\r\n          this.setStatusForGroup();\r\n          this.props.actionGenerated(\"stopReaction\", item);\r\n\r\n        } else if (this.props.type === \"user\" && this.props.type === item.receiverType && this.props.item.uid === item.sender.uid) {\r\n          \r\n          this.props.actionGenerated(\"stopReaction\", item);\r\n\r\n          if(this.state.presence === \"online\") {\r\n            this.setState({ status: Translator.translate(\"ONLINE\", this.props.lang), presence: \"online\" });\r\n          } else {\r\n            this.setStatusForUser();\r\n          }\r\n        }\r\n        break;\r\n      }\r\n      default:\r\n      break;\r\n    }\r\n  }\r\n    \r\n  toggleTooltip = (event, flag) => {\r\n\r\n    const elem = event.target;\r\n    const scrollWidth = elem.scrollWidth;\r\n    const clientWidth = elem.clientWidth;\r\n\r\n    if(scrollWidth <= clientWidth) {\r\n      return false;\r\n    }\r\n\r\n    if(flag) {\r\n      elem.setAttribute(\"title\", elem.textContent);\r\n    } else {\r\n      elem.removeAttribute(\"title\");\r\n    }\r\n    \r\n  }\r\n\r\n  render() {\r\n\r\n    let avatar, presence;\r\n    let chatWithClassName = \"chat__user\", chatNameClassName = \"user__name\", chatStatusClassName = \"user__status\";\r\n    if (this.props.type === enums.CHAT_WITH_USER) {\r\n\r\n      avatar = (<CometChatAvatar user={this.props.item} />);\r\n      presence = (\r\n        <CometChatUserPresence\r\n        widgetsettings={this.props.widgetsettings}\r\n        status={this.state.presence}\r\n        borderColor={this.props.theme.borderColor.primary} />\r\n      );\r\n\r\n    } else {\r\n\r\n      chatWithClassName = \"chat__group\"; chatNameClassName = \"group__name\"; chatStatusClassName = \"group__members\";\r\n      avatar = (<CometChatAvatar group={this.props.item} />);\r\n    }\r\n\r\n    let status = (\r\n      <span css={chatStatusStyle(this.props, this.state)} className={chatStatusClassName}>{this.state.status}</span>\r\n    );\r\n\r\n    const audioCallText = Translator.translate(\"AUDIO_CALL\", this.props.lang);\r\n    let audioCallBtn = ( \r\n      <div title={audioCallText} onClick={() => this.props.actionGenerated(\"audioCall\")} css={chatOptionStyle(audioCallIcon)}>\r\n        <img src={audioCallIcon} alt={audioCallText} />\r\n      </div>);\r\n    \r\n    const videoCallText = Translator.translate(\"VIDEO_CALL\", this.props.lang);\r\n    let videoCallBtn = (\r\n      <div title={videoCallText} onClick={() => this.props.actionGenerated(\"videoCall\")} css={chatOptionStyle(videoCallIcon)}>\r\n        <img src={videoCallIcon} alt={videoCallText} />\r\n      </div>);\r\n\r\n    const viewDetailText = Translator.translate(\"VIEW_DETAIL\", this.props.lang);\r\n    let viewDetailBtn = (<div title={viewDetailText}  onClick={() => this.props.actionGenerated(\"viewDetail\")} css={chatOptionStyle(detailPaneIcon)}>\r\n      <img src={detailPaneIcon} alt={viewDetailText} />\r\n    </div>);\r\n    \r\n    if(this.props.viewdetail === false) {\r\n      viewDetailBtn = null;\r\n    }\r\n\r\n    if (this.props.item.blockedByMe === true || this.props.audiocall === false || this.props.type === enums.CHAT_WITH_GROUP) {\r\n      audioCallBtn = null;\r\n    }\r\n\r\n    if(this.props.item.blockedByMe === true || this.props.videocall === false) {\r\n      videoCallBtn = null;\r\n    }\r\n\r\n    //if audiocall is disabled in chat widget\r\n    if (validateWidgetSettings(this.props.widgetsettings, \"enable_voice_calling\") === false) {\r\n      audioCallBtn = null;\r\n    }\r\n\r\n    //if videocall is disabled in chat widget\r\n    if (validateWidgetSettings(this.props.widgetsettings, \"enable_video_calling\") === false) {\r\n      videoCallBtn = null;\r\n    }\r\n\r\n    //if user presence is disabled in chat widget\r\n    if (validateWidgetSettings(this.props.widgetsettings, \"show_user_presence\") === false && this.props.type === \"user\") {\r\n      status = null;\r\n    }\r\n\r\n    return (\r\n      <div css={chatHeaderStyle(this.props)} className=\"chat__header\">\r\n        <div css={chatDetailStyle()} className=\"chat__details\">\r\n          <div css={chatSideBarBtnStyle(menuIcon, this.props)} className=\"chat__sidebar-menu\" onClick={() => this.props.actionGenerated(\"menuClicked\")}></div>\r\n          <div css={chatThumbnailStyle()} className=\"chat__thumbnail\">\r\n            {avatar}\r\n            {presence}\r\n          </div>\r\n          <div css={chatUserStyle()} className={chatWithClassName}>\r\n            <h6 css={chatNameStyle()} className={chatNameClassName}\r\n            onMouseEnter={event => this.toggleTooltip(event, true)} \r\n            onMouseLeave={event => this.toggleTooltip(event, false)}>{this.props.item.name}</h6>\r\n            {status}\r\n          </div>\r\n        </div>\r\n        <div css={chatOptionWrapStyle()} className=\"chat__options\">\r\n          {audioCallBtn}\r\n          {videoCallBtn}\r\n          {viewDetailBtn}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatMessageHeader.defaultProps = {\r\n  lang: Translator.getDefaultLanguage(),\r\n  theme: theme,\r\n  item: {},\r\n  type: \"\"\r\n};\r\n\r\nCometChatMessageHeader.propTypes = {\r\n  lang: PropTypes.string,\r\n  theme: PropTypes.object,\r\n  item: PropTypes.object,\r\n  type: PropTypes.string\r\n}\r\n\r\nexport default CometChatMessageHeader;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAW0lEQVRIS2NkoDFgpLH5DKMWEAxh+gbR0qVL/xN0EhEKoqOj4Q5H8QHNLSDCcSQroW8ckOw8IjTQNw5GIxlblNA3FdE8DmhuARHJmmQl9I0Dkp1HhIZRHxAMJAAC5RgZMxAd6wAAAABJRU5ErkJggg==\"","import { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport * as enums from \"../../../util/enums\";\r\nimport { validateWidgetSettings } from \"../../../util/common\";\r\n\r\nclass MessageFilter {\r\n\r\n    categories = {};\r\n    types = null;\r\n\r\n    constructor() {\r\n\r\n        this.categories = { \r\n            [CometChat.CATEGORY_MESSAGE]: CometChat.CATEGORY_MESSAGE, \r\n            [enums.CATEGORY_CUSTOM]: enums.CATEGORY_CUSTOM,\r\n            [CometChat.CATEGORY_ACTION]: CometChat.CATEGORY_ACTION,\r\n            [CometChat.CATEGORY_CALL]: CometChat.CATEGORY_CALL,\r\n        };\r\n\r\n        this.types = {\r\n            [CometChat.MESSAGE_TYPE.TEXT]: CometChat.MESSAGE_TYPE.TEXT,\r\n            [CometChat.MESSAGE_TYPE.IMAGE]: CometChat.MESSAGE_TYPE.IMAGE,\r\n            [CometChat.MESSAGE_TYPE.VIDEO]: CometChat.MESSAGE_TYPE.VIDEO,\r\n            [CometChat.MESSAGE_TYPE.AUDIO]: CometChat.MESSAGE_TYPE.AUDIO,\r\n            [CometChat.MESSAGE_TYPE.FILE]: CometChat.MESSAGE_TYPE.FILE,\r\n            [enums.CUSTOM_TYPE_POLL]: enums.CUSTOM_TYPE_POLL,\r\n            [enums.CUSTOM_TYPE_STICKER]: enums.CUSTOM_TYPE_STICKER,\r\n            [enums.CUSTOM_TYPE_DOCUMENT]: enums.CUSTOM_TYPE_DOCUMENT,\r\n            [enums.CUSTOM_TYPE_WHITEBOARD]: enums.CUSTOM_TYPE_WHITEBOARD,\r\n            [enums.CUSTOM_TYPE_MEETING]: enums.CUSTOM_TYPE_MEETING,\r\n            [enums.ACTION_TYPE_GROUPMEMBER]: enums.ACTION_TYPE_GROUPMEMBER,\r\n            [CometChat.CALL_TYPE.AUDIO]: CometChat.CALL_TYPE.AUDIO,\r\n            [CometChat.CALL_TYPE.VIDEO]: CometChat.CALL_TYPE.VIDEO\r\n        }\r\n    }\r\n\r\n    getCategories = (widgetSettings) => {\r\n\r\n        if (validateWidgetSettings(widgetSettings, \"hide_join_leave_notifications\") === true) {\r\n            delete this.categories[CometChat.CATEGORY_ACTION];\r\n        }\r\n\r\n        if (validateWidgetSettings(widgetSettings, \"show_call_notifications\") === false) {\r\n            delete this.categories[CometChat.CATEGORY_CALL];\r\n        }\r\n        \r\n        return Object.keys(this.categories);\r\n    }\r\n\r\n    getTypes = (widgetSettings) => {\r\n\r\n        if (validateWidgetSettings(widgetSettings, \"hide_join_leave_notifications\") === true) {\r\n            delete this.types[enums.ACTION_TYPE_GROUPMEMBER];\r\n        }\r\n\r\n        if (validateWidgetSettings(widgetSettings, \"show_call_notifications\") === false) {\r\n            delete this.types[CometChat.CALL_TYPE.AUDIO];\r\n            delete this.types[CometChat.CALL_TYPE.VIDEO];\r\n        }\r\n\r\n        return Object.keys(this.types);\r\n    }\r\n}\r\n\r\nexport default MessageFilter;","import { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport * as enums from \"../../../util/enums.js\";\r\nimport MessageFilter from \"./MessageFilter\";\r\n\r\nexport class MessageListManager {\r\n\r\n    item = {};\r\n    type = \"\";\r\n    parentMessageId = null;\r\n    messageRequest = null;\r\n    limit = 30;\r\n    \r\n    msgListenerId = \"message_\" + new Date().getTime();\r\n    groupListenerId = \"group_\" + new Date().getTime();\r\n    callListenerId = \"call_\" + new Date().getTime(); \r\n\r\n    constructor(widgetSettings, item, type, parentMessageId) {\r\n\r\n        this.item = item;\r\n        this.type = type;\r\n        this.parentMessageId = parentMessageId;\r\n\r\n        const messageFilterManager = new MessageFilter();\r\n        const categories = messageFilterManager.getCategories(widgetSettings);\r\n        const types = messageFilterManager.getTypes(widgetSettings);\r\n\r\n        if (type === \"user\") {\r\n\r\n            if(this.parentMessageId) {\r\n                this.messageRequest = new CometChat.MessagesRequestBuilder()\r\n                                            .setUID(item.uid)\r\n                                            .setParentMessageId(this.parentMessageId)\r\n                                            .setCategories(categories)\r\n                                            .setTypes(types)\r\n                                            .setLimit(this.limit)\r\n                                            .build();\r\n            } else {\r\n                this.messageRequest = new CometChat.MessagesRequestBuilder()\r\n                                            .setUID(item.uid)\r\n                                            .setCategories(categories)\r\n                                            .setTypes(types)\r\n                                            .hideReplies(true)\r\n                                            .setLimit(this.limit)\r\n                                            .build();\r\n            }\r\n\r\n        } else if (type === \"group\") {\r\n\r\n            if(this.parentMessageId) {\r\n                this.messageRequest = new CometChat.MessagesRequestBuilder()\r\n                                            .setGUID(item.guid)\r\n                                            .setParentMessageId(this.parentMessageId)\r\n                                            .setCategories(categories)\r\n                                            .setTypes(types)\r\n                                            .setLimit(this.limit)\r\n                                            .build();\r\n            } else {\r\n                this.messageRequest = new CometChat.MessagesRequestBuilder()\r\n                                            .setGUID(item.guid)\r\n                                            .setCategories(categories)\r\n                                            .setTypes(types)\r\n                                            .hideReplies(true)\r\n                                            .setLimit(this.limit)\r\n                                            .build();\r\n            }\r\n        }\r\n    }\r\n\r\n    fetchPreviousMessages() {\r\n        return this.messageRequest.fetchPrevious();\r\n    }\r\n\r\n    attachListeners(callback) {\r\n        \r\n        CometChat.addMessageListener(\r\n            this.msgListenerId,\r\n            new CometChat.MessageListener({\r\n                onTextMessageReceived: textMessage => {\r\n                    callback(enums.TEXT_MESSAGE_RECEIVED, textMessage);\r\n                },\r\n                onMediaMessageReceived: mediaMessage => {\r\n                    callback(enums.MEDIA_MESSAGE_RECEIVED, mediaMessage);\r\n                },\r\n                onCustomMessageReceived: customMessage => {\r\n                    callback(enums.CUSTOM_MESSAGE_RECEIVED, customMessage);\r\n                },\r\n                onMessagesDelivered: messageReceipt => {\r\n                    callback(enums.MESSAGE_DELIVERED, messageReceipt);\r\n                },\r\n                onMessagesRead: messageReceipt => {\r\n                    callback(enums.MESSAGE_READ, messageReceipt);\r\n                },\r\n                onMessageDeleted: deletedMessage => {\r\n                    callback(enums.MESSAGE_DELETED, deletedMessage);\r\n                },\r\n                onMessageEdited: editedMessage => {\r\n                    callback(enums.MESSAGE_EDITED, editedMessage);\r\n                }\r\n            })\r\n        );\r\n\r\n        CometChat.addGroupListener(\r\n            this.groupListenerId,\r\n            new CometChat.GroupListener({\r\n                onGroupMemberScopeChanged: (message, changedUser, newScope, oldScope, changedGroup) => {\r\n                    callback(enums.GROUP_MEMBER_SCOPE_CHANGED, message, changedGroup, {\"user\": changedUser, \"scope\": newScope});\r\n                }, \r\n                onGroupMemberKicked: (message, kickedUser, kickedBy, kickedFrom) => {\r\n                    callback(enums.GROUP_MEMBER_KICKED, message, kickedFrom, {\"user\": kickedUser, \"hasJoined\": false});\r\n                }, \r\n                onGroupMemberBanned: (message, bannedUser, bannedBy, bannedFrom) => {\r\n                    callback(enums.GROUP_MEMBER_BANNED, message, bannedFrom, {\"user\": bannedUser});\r\n                }, \r\n                onGroupMemberUnbanned: (message, unbannedUser, unbannedBy, unbannedFrom) => {\r\n                    callback(enums.GROUP_MEMBER_UNBANNED, message, unbannedFrom, {\"user\": unbannedUser});\r\n                }, \r\n                onMemberAddedToGroup: (message, userAdded, userAddedBy, userAddedIn) => {\r\n                    callback(enums.GROUP_MEMBER_ADDED, message, userAddedIn, {\"user\": userAdded, \"hasJoined\": true});\r\n                }, \r\n                onGroupMemberLeft: (message, leavingUser, group) => {\r\n                    callback(enums.GROUP_MEMBER_LEFT, message, group, {\"user\": leavingUser});\r\n                }, \r\n                onGroupMemberJoined: (message, joinedUser, joinedGroup) => {\r\n                    callback(enums.GROUP_MEMBER_JOINED, message, joinedGroup, {\"user\": joinedUser});\r\n                }\r\n            })\r\n        );\r\n        \r\n        CometChat.addCallListener(\r\n            this.callListenerId,\r\n            new CometChat.CallListener({\r\n                onIncomingCallReceived: call => {\r\n                  callback(enums.INCOMING_CALL_RECEIVED, call);\r\n                },\r\n                onIncomingCallCancelled: call => {\r\n                    callback(enums.INCOMING_CALL_CANCELLED, call);\r\n                },\r\n                onOutgoingCallAccepted: call => {\r\n                    callback(enums.OUTGOING_CALL_ACCEPTED, call);\r\n                },\r\n                onOutgoingCallRejected: call => {\r\n                  callback(enums.OUTGOING_CALL_REJECTED, call);\r\n                }\r\n            })\r\n        );\r\n    }\r\n\r\n    removeListeners() {\r\n\r\n        CometChat.removeMessageListener(this.msgListenerId);\r\n        CometChat.removeGroupListener(this.groupListenerId);\r\n        CometChat.removeCallListener(this.callListenerId);\r\n    }\r\n}","export const chatListStyle = (props) => {\r\n\r\n    return {\r\n        backgroundColor: `${props.theme.backgroundColor.white}`,\r\n        zIndex: \"1\",\r\n        width: \"100%\",\r\n        flex: \"1 1 0\",\r\n        order: \"2\",\r\n        position: \"relative\",\r\n    }\r\n}\r\n\r\nexport const listWrapperStyle = () => {\r\n\r\n    return {\r\n        boxSizing: \"border-box\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        height: \"100%\",\r\n        overflowX: \"hidden\",\r\n        overflowY: \"scroll\",\r\n        position: \"absolute\",\r\n        top: \"0\",\r\n        transition: \"background .3s ease-out .1s\",\r\n        width: \"100%\",\r\n        zIndex: \"100\",\r\n        paddingTop: \"16px\"\r\n    }\r\n}\r\n\r\nexport const messageDateContainerStyle = () => {\r\n\r\n    return {\r\n        marginBottom: \"16px\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n    }\r\n}\r\n\r\nexport const messageDateStyle = (props) => {\r\n\r\n    return {\r\n        padding: \"8px 12px\",\r\n        backgroundColor: `${props.theme.backgroundColor.secondary}`,\r\n        color: `${props.theme.color.primary}`,\r\n        borderRadius: \"10px\"\r\n    }\r\n}\r\n\r\nexport const decoratorMessageStyle = () => {\r\n\r\n    return {\r\n        overflow: \"hidden\",\r\n        width: \"100%\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        position: \"absolute\",\r\n        top: \"50%\",\r\n    }\r\n}\r\n\r\nexport const decoratorMessageTxtStyle = (props) => {\r\n\r\n    return {\r\n        margin: \"0\",\r\n        height: \"36px\",\r\n        color: `${props.theme.color.secondary}`,\r\n        fontSize: \"24px!important\",\r\n        fontWeight: \"600\",\r\n        lineHeight: \"30px\",\r\n    }\r\n}","import React from \"react\";\r\nimport dateFormat from \"dateformat\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\nimport { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport { MessageListManager } from \"./controller\";\r\n\r\nimport { \r\n  CometChatSenderTextMessageBubble, CometChatReceiverTextMessageBubble,\r\n  CometChatSenderImageMessageBubble, CometChatReceiverImageMessageBubble,\r\n  CometChatSenderFileMessageBubble, CometChatReceiverFileMessageBubble,\r\n  CometChatSenderAudioMessageBubble, CometChatReceiverAudioMessageBubble,\r\n  CometChatSenderVideoMessageBubble, CometChatReceiverVideoMessageBubble,\r\n  CometChatSenderDirectCallBubble, CometChatReceiverDirectCallBubble,\r\n  CometChatDeleteMessageBubble, CometChatActionMessageBubble\r\n} from \"../\"\r\n\r\nimport {\r\n  CometChatSenderPollMessageBubble, CometChatReceiverPollMessageBubble,\r\n  CometChatSenderStickerBubble, CometChatReceiverStickerMessageBubble,\r\n  CometChatSenderDocumentBubble, CometChatReceiverDocumentBubble,\r\n  CometChatSenderWhiteboardBubble, CometChatReceiverWhiteboardBubble,\r\n} from \"../Extensions\"\r\n\r\nimport * as enums from \"../../../util/enums.js\";\r\nimport { getMessageDate } from \"../../../util/common\";\r\n\r\nimport { theme } from \"../../../resources/theme\";\r\nimport Translator from \"../../../resources/localization/translator\";\r\n\r\nimport { \r\n  chatListStyle,\r\n  listWrapperStyle,\r\n  messageDateContainerStyle,\r\n  messageDateStyle,\r\n  decoratorMessageStyle,\r\n  decoratorMessageTxtStyle\r\n} from \"./style\";\r\n\r\nclass CometChatMessageList extends React.PureComponent {\r\n  loggedInUser = null;\r\n  lastScrollTop = 0;\r\n  times = 0;\r\n  decoratorMessage = Translator.translate(\"LOADING\", Translator.getDefaultLanguage());\r\n\r\n  constructor(props) {\r\n\r\n    super(props);\r\n    this.state = {\r\n      onItemClick: null,\r\n    }\r\n\r\n    CometChat.getLoggedinUser().then(user => this.loggedInUser = user).catch((error) => {\r\n      console.log(\"[CometChatUnified] getLoggedinUser error\", error);\r\n    });\r\n\r\n    this.messagesEnd = React.createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n    if(this.props.parentMessageId) {\r\n      this.MessageListManager = new MessageListManager(this.props.widgetsettings, this.props.item, this.props.type,this.props.parentMessageId);\r\n    } else {\r\n      this.MessageListManager = new MessageListManager(this.props.widgetsettings, this.props.item, this.props.type);\r\n    }\r\n    \r\n    this.messageHandler(this.props.item);\r\n    this.MessageListManager.attachListeners(this.messageUpdated);\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n   \r\n    const previousMessageStr = JSON.stringify(prevProps.messages);\r\n    const currentMessageStr = JSON.stringify(this.props.messages);\r\n\r\n    if (this.props.type === 'user' && prevProps.item.uid !== this.props.item.uid) {\r\n      \r\n      this.messageCount = 0;\r\n      this.decoratorMessage = Translator.translate(\"LOADING\", this.props.lang);\r\n      this.MessageListManager.removeListeners();\r\n\r\n      if (this.props.parentMessageId) {\r\n        this.MessageListManager = new MessageListManager(this.props.widgetsettings, this.props.item, this.props.type, this.props.parentMessageId);\r\n      } else {\r\n        this.MessageListManager = new MessageListManager(this.props.widgetsettings, this.props.item, this.props.type);\r\n      }\r\n\r\n      this.messageHandler(this.props.item);\r\n      this.MessageListManager.attachListeners(this.messageUpdated);\r\n\r\n    } else if (this.props.type === 'group' && prevProps.item.guid !== this.props.item.guid){\r\n\r\n      this.messageCount = 0;\r\n      this.decoratorMessage = Translator.translate(\"LOADING\", this.props.lang);\r\n      this.MessageListManager.removeListeners();\r\n\r\n      if (this.props.parentMessageId) {\r\n        this.MessageListManager = new MessageListManager(this.props.widgetsettings, this.props.item, this.props.type, this.props.parentMessageId);\r\n      } else {\r\n        this.MessageListManager = new MessageListManager(this.props.widgetsettings, this.props.item, this.props.type);\r\n      }\r\n      \r\n      this.messageHandler(this.props.item);\r\n      this.MessageListManager.attachListeners(this.messageUpdated);\r\n\r\n    } else if(prevProps.parentMessageId !== this.props.parentMessageId) {\r\n      \r\n      this.messageCount = 0;\r\n      this.decoratorMessage = Translator.translate(\"LOADING\", this.props.lang);\r\n      this.MessageListManager.removeListeners();\r\n\r\n      this.MessageListManager = new MessageListManager(this.props.widgetsettings, this.props.item, this.props.type, this.props.parentMessageId);\r\n      this.messageHandler(this.props.item);\r\n      this.MessageListManager.attachListeners(this.messageUpdated);\r\n\r\n    } else if (previousMessageStr !== currentMessageStr) {\r\n      \r\n      if(this.props.scrollToBottom) {\r\n        this.scrollToBottom();\r\n      } else {\r\n        this.scrollToBottom(this.lastScrollTop);\r\n      }\r\n    }\r\n  }\r\n\r\n  scrollToBottom = (scrollHeight = 0) => {\r\n    \r\n    if (this.messagesEnd) {\r\n      this.messagesEnd.scrollTop = (this.messagesEnd.scrollHeight - scrollHeight);\r\n    }\r\n  }\r\n\r\n  messageHandler = (item, actionGenerated = \"messageFetched\") => {\r\n\r\n    this.fetchMessages().then(messageList => {\r\n\r\n      if (messageList.length === 0) {\r\n        this.decoratorMessage = Translator.translate(\"NO_MESSAGES_FOUND\", this.props.lang);\r\n      }\r\n\r\n      //updating messagecount variable\r\n      this.messageCount = messageList.length;\r\n\r\n      messageList.forEach((message) => {\r\n\r\n        //if the sender of the message is not the loggedin user, mark it as read.\r\n        if (message.getSender().getUid() !== this.loggedInUser.getUid() && !message.getReadAt()) {\r\n\r\n          if (message.getReceiverType() === CometChat.RECEIVER_TYPE.USER) {\r\n\r\n            CometChat.markAsRead(message.getId().toString(), message.getSender().getUid(), message.getReceiverType());\r\n\r\n          } else if (message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP) {\r\n\r\n            CometChat.markAsRead(message.getId().toString(), message.getReceiverId(), message.getReceiverType());\r\n          }\r\n        }\r\n\r\n        this.props.actionGenerated(\"messageRead\", message);\r\n      });\r\n\r\n      this.lastScrollTop = this.messagesEnd.scrollHeight;\r\n\r\n      //abort(don't return messagelist), when the chat window changes\r\n      if ((item.hasOwnProperty(\"uid\") && this.props.item.hasOwnProperty(\"uid\") && item.uid === this.props.item.uid)\r\n      || (item.hasOwnProperty(\"guid\") && this.props.item.hasOwnProperty(\"guid\") && item.guid === this.props.item.guid)) {\r\n        this.props.actionGenerated(actionGenerated, messageList);\r\n      }\r\n\r\n    }).catch(error => {\r\n\r\n      console.error(\"[MessageList] messageHandler error\", error);\r\n      this.decoratorMessage = Translator.translate(\"ERROR\", this.props.lang);\r\n\r\n    });\r\n  }\r\n\r\n  fetchMessages = () => {\r\n\r\n    const promise = new Promise((resolve, reject) => {\r\n\r\n      this.MessageListManager.fetchPreviousMessages().then(messageList => {\r\n\r\n        resolve(messageList);\r\n\r\n      }).catch(error => reject(error));\r\n\r\n    });\r\n\r\n    return promise;\r\n  }\r\n\r\n  //callback for listener functions\r\n  messageUpdated = (key, message, group, options) => {\r\n\r\n    switch(key) {\r\n\r\n      case enums.MESSAGE_DELETED:\r\n        this.messageDeleted(message);\r\n        break;\r\n      case enums.MESSAGE_EDITED:\r\n        this.onMessageEdited(message);\r\n        break;\r\n      case enums.MESSAGE_DELIVERED:\r\n      case enums.MESSAGE_READ:\r\n        this.onMessageReadAndDelivered(message);\r\n        break;\r\n      case enums.TEXT_MESSAGE_RECEIVED:\r\n      case enums.MEDIA_MESSAGE_RECEIVED:\r\n        this.messageReceived(message);\r\n        break;\r\n      case enums.CUSTOM_MESSAGE_RECEIVED:\r\n        this.customMessageReceived(message);\r\n        break;\r\n      case enums.GROUP_MEMBER_SCOPE_CHANGED:\r\n      case enums.GROUP_MEMBER_JOINED:\r\n      case enums.GROUP_MEMBER_LEFT:\r\n      case enums.GROUP_MEMBER_ADDED:\r\n      case enums.GROUP_MEMBER_KICKED:\r\n      case enums.GROUP_MEMBER_BANNED:\r\n      case enums.GROUP_MEMBER_UNBANNED:\r\n        this.groupUpdated(key, message, group, options);\r\n        break;\r\n      case enums.INCOMING_CALL_RECEIVED:\r\n      case enums.INCOMING_CALL_CANCELLED:\r\n      case enums.OUTGOING_CALL_ACCEPTED:\r\n      case enums.OUTGOING_CALL_REJECTED:\r\n        this.callUpdated(message);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  messageDeleted = (message) => {\r\n\r\n    if (this.props.type === CometChat.RECEIVER_TYPE.GROUP\r\n    && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP\r\n    && message.getReceiver().guid === this.props.item.guid) {\r\n\r\n      this.props.actionGenerated(\"messageDeleted\", [message]);\r\n        \r\n    } else if (this.props.type === CometChat.RECEIVER_TYPE.USER\r\n    && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER\r\n    && message.getSender().uid === this.props.item.uid) {\r\n\r\n      this.props.actionGenerated(\"messageDeleted\", [message]);\r\n    }\r\n  }\r\n\r\n  onMessageEdited = (message) => {\r\n\r\n    const messageList = [...this.props.messages];\r\n    const updateEditedMessage = (message) => {\r\n\r\n      let messageKey = messageList.findIndex(m => m.id === message.id);\r\n\r\n      if (messageKey > -1) {\r\n\r\n        const messageObj = messageList[messageKey];\r\n        const newMessageObj = Object.assign({}, messageObj, message);\r\n\r\n        messageList.splice(messageKey, 1, newMessageObj);\r\n        this.props.actionGenerated(\"onMessageEdited\", messageList, newMessageObj);\r\n      }\r\n    }\r\n\r\n    if (this.props.type === CometChat.RECEIVER_TYPE.GROUP \r\n    && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiver().guid === this.props.item.guid) {\r\n\r\n      updateEditedMessage(message);\r\n\r\n    } else if (this.props.type === CometChat.RECEIVER_TYPE.USER\r\n    && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER\r\n    && (this.loggedInUser.uid === message.getReceiverId() && message.getSender().uid === this.props.item.uid)) {\r\n\r\n      updateEditedMessage(message);\r\n\r\n    } else if (this.props.type === CometChat.RECEIVER_TYPE.USER\r\n    && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER\r\n    && (this.loggedInUser.uid === message.getSender().uid && message.getReceiverId() === this.props.item.uid)) {\r\n      updateEditedMessage(message);\r\n    }\r\n\r\n  }\r\n\r\n  onMessageReadAndDelivered = (message) => {\r\n\r\n    //read receipts\r\n    if (message.getReceiverType() === CometChat.RECEIVER_TYPE.USER\r\n    && message.getSender().getUid() === this.props.item.uid\r\n    && message.getReceiver() === this.loggedInUser.uid) {\r\n\r\n      let messageList = [...this.props.messages];\r\n      \r\n      if (message.getReceiptType() === \"delivery\") {\r\n        \r\n        //search for message\r\n        \r\n        let messageKey = messageList.findIndex(m => m.id === message.messageId);\r\n\r\n        if (messageKey > -1) {\r\n\r\n          let messageObj = messageList[messageKey];\r\n          let newMessageObj = Object.assign({}, messageObj, { deliveredAt: message.getDeliveredAt() });\r\n\r\n          messageList.splice(messageKey, 1, newMessageObj);\r\n          this.props.actionGenerated(\"onMessageReadAndDelivered\", messageList);\r\n\r\n        }\r\n\r\n      } else if (message.getReceiptType() === \"read\") {\r\n\r\n        //search for message\r\n        let messageKey = messageList.findIndex(m => m.id === message.messageId);\r\n\r\n        if (messageKey > -1) {\r\n\r\n          let messageObj = { ...messageList[messageKey] };\r\n          let newMessageObj = Object.assign({}, messageObj, { readAt: message.getReadAt() });\r\n\r\n          messageList.splice(messageKey, 1, newMessageObj);\r\n          this.props.actionGenerated(\"onMessageReadAndDelivered\", messageList);\r\n        }\r\n      }\r\n\r\n    } else if (message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP\r\n      && message.getReceiver().guid === this.props.item.guid) {\r\n      //not implemented\r\n    }\r\n\r\n  }\r\n\r\n  reInitializeMessageBuilder = () => {\r\n\r\n    if (this.props.hasOwnProperty(\"parentMessageId\") === false) {\r\n      this.messageCount = 0;\r\n    }\r\n    \r\n    this.props.actionGenerated(\"refreshingMessages\", []);\r\n\r\n    this.decoratorMessage = Translator.translate(\"LOADING\", this.props.lang);\r\n    this.MessageListManager.removeListeners();\r\n\r\n    if (this.props.parentMessageId) {\r\n      this.MessageListManager = new MessageListManager(this.props.widgetsettings, this.props.item, this.props.type, this.props.parentMessageId);\r\n    } else {\r\n      this.MessageListManager = new MessageListManager(this.props.widgetsettings, this.props.item, this.props.type);\r\n    }\r\n    \r\n    this.messageHandler(this.props.item, \"messageRefreshed\");\r\n    this.MessageListManager.attachListeners(this.messageUpdated);\r\n  }\r\n\r\n  markMessageAsRead = (message, type) => {\r\n\r\n    if (type === \"user\") {\r\n\r\n      if (!message.getReadAt()) {\r\n        CometChat.markAsRead(message.getId().toString(), message.getSender().uid, message.getReceiverType());\r\n      }\r\n\r\n    } else if (type === \"group\") {\r\n\r\n      if (!message.getReadAt()) {\r\n        CometChat.markAsRead(message.getId().toString(), message.getReceiverId(), message.getReceiverType());\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  messageReceived = (message) => {\r\n\r\n    //new messages\r\n    if (this.props.type === CometChat.RECEIVER_TYPE.GROUP\r\n      && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP\r\n      && message.getReceiverId() === this.props.item.guid) {\r\n\r\n      this.messageReceivedHandler(message, CometChat.RECEIVER_TYPE.GROUP);\r\n        \r\n    } else if (this.props.type === CometChat.RECEIVER_TYPE.USER\r\n      && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER\r\n      && message.getSender().uid === this.props.item.uid) {\r\n\r\n      this.messageReceivedHandler(message, CometChat.RECEIVER_TYPE.USER);\r\n    }\r\n  }\r\n\r\n  messageReceivedHandler = (message, type) => {\r\n\r\n    //handling dom lag - increment count only for main message list\r\n    if (message.hasOwnProperty(\"parentMessageId\") === false && this.props.hasOwnProperty(\"parentMessageId\") === false) {\r\n\r\n      ++this.messageCount;\r\n\r\n      //if the user has not scrolled in chat window(scroll is at the bottom of the chat window)\r\n      if ((this.messagesEnd.scrollHeight - this.messagesEnd.scrollTop - this.messagesEnd.clientHeight) < 1) {\r\n\r\n        if (this.messageCount > enums.MAX_MESSAGE_COUNT) {\r\n\r\n          this.reInitializeMessageBuilder();\r\n\r\n        } else {\r\n          \r\n          this.markMessageAsRead(message, type);\r\n          this.props.actionGenerated(\"messageReceived\", [message]);\r\n        }\r\n\r\n      } else {//if the user has scrolled in chat window\r\n        this.props.actionGenerated(\"newMessagesArrived\", [message]);\r\n      }\r\n\r\n    } else if (message.hasOwnProperty(\"parentMessageId\") === true && this.props.hasOwnProperty(\"parentMessageId\") === true) {\r\n\r\n      if (message.parentMessageId === this.props.parentMessageId) {\r\n        this.markMessageAsRead(message, type);\r\n      }\r\n\r\n      this.props.actionGenerated(\"messageReceived\", [message]);\r\n\r\n    } else {\r\n      this.props.actionGenerated(\"messageReceived\", [message]);\r\n    }\r\n\r\n  }\r\n\r\n  //polls, stickers, collaborative document, collaborative whiteboard\r\n  customMessageReceived = (message) => {\r\n\r\n    //new messages\r\n    if (this.props.type === CometChat.RECEIVER_TYPE.GROUP\r\n      && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP\r\n      && this.loggedInUser.uid === message.getSender().uid && message.getReceiverId() === this.props.item.guid\r\n      && (message.type === enums.CUSTOM_TYPE_POLL || message.type === enums.CUSTOM_TYPE_DOCUMENT || message.type === enums.CUSTOM_TYPE_WHITEBOARD)) {\r\n\r\n      //showing polls, collaborative document and whiteboard for sender (custom message received listener for sender)\r\n      this.props.actionGenerated(\"customMessageReceived\", [message]);\r\n\r\n    } else if (this.props.type === CometChat.RECEIVER_TYPE.GROUP\r\n    && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP\r\n    && message.getReceiverId() === this.props.item.guid) {\r\n\r\n      this.customMessageReceivedHandler(message, CometChat.RECEIVER_TYPE.GROUP);\r\n\r\n    } else if (this.props.type === CometChat.RECEIVER_TYPE.USER\r\n    && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER\r\n    && message.getSender().uid === this.props.item.uid) {\r\n\r\n      this.customMessageReceivedHandler(message, CometChat.RECEIVER_TYPE.USER);\r\n\r\n    } else if (this.props.type === CometChat.RECEIVER_TYPE.USER\r\n    && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER\r\n    && this.loggedInUser.uid === message.getSender().uid && message.getReceiverId() === this.props.item.uid\r\n      && (message.type === enums.CUSTOM_TYPE_POLL || message.type === enums.CUSTOM_TYPE_DOCUMENT || message.type === enums.CUSTOM_TYPE_WHITEBOARD)) {\r\n\r\n      //showing polls, collaborative document and whiteboard for sender (custom message received listener for sender)\r\n      this.props.actionGenerated(\"customMessageReceived\", [message]);\r\n\r\n    }\r\n  }\r\n\r\n  customMessageReceivedHandler = (message, type) => {\r\n\r\n    //handling dom lag - increment count only for main message list\r\n    if (message.hasOwnProperty(\"parentMessageId\") === false && this.props.hasOwnProperty(\"parentMessageId\") === false) {\r\n\r\n      ++this.messageCount;\r\n      \r\n      //if the user has not scrolled in chat window(scroll is at the bottom of the chat window)\r\n      if (this.messagesEnd.scrollHeight - this.messagesEnd.scrollTop === this.messagesEnd.clientHeight) {\r\n\r\n        if (this.messageCount > enums.MAX_MESSAGE_COUNT) {\r\n\r\n          this.reInitializeMessageBuilder();\r\n\r\n        } else {\r\n\r\n          this.markMessageAsRead(message, type);\r\n          this.props.actionGenerated(\"customMessageReceived\", [message]);\r\n        }\r\n\r\n      } else {//if the user has scrolled in chat window\r\n        \r\n        this.props.actionGenerated(\"newMessagesArrived\", [message]);\r\n      }\r\n\r\n    } else if (message.hasOwnProperty(\"parentMessageId\") === true && this.props.hasOwnProperty(\"parentMessageId\") === true) {\r\n\r\n      if (message.parentMessageId === this.props.parentMessageId) {\r\n        this.markMessageAsRead(message, type);\r\n      }\r\n      this.props.actionGenerated(\"customMessageReceived\", [message]);\r\n\r\n    } else {\r\n      this.props.actionGenerated(\"customMessageReceived\", [message]);\r\n    }\r\n\r\n  }\r\n\r\n  callUpdated = (message) => {\r\n\r\n    if (this.props.type === CometChat.RECEIVER_TYPE.GROUP\r\n      && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP\r\n      && message.getReceiverId() === this.props.item.guid) {\r\n\r\n      this.props.actionGenerated(\"callUpdated\", message);\r\n\r\n    } else if (this.props.type === CometChat.RECEIVER_TYPE.USER\r\n      && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER\r\n      && message.getSender().uid === this.props.item.uid) {\r\n\r\n      this.props.actionGenerated(\"callUpdated\", message);\r\n    }\r\n\r\n  }\r\n\r\n  groupUpdated = (key, message, group, options) => {\r\n    \r\n    if (this.props.type === 'group' \r\n    && message.getReceiverType() === 'group'\r\n    && message.getReceiver().guid === this.props.item.guid) {\r\n\r\n      // if(!message.getReadAt()) {\r\n      //   CometChat.markAsRead(message.getId().toString(), message.getReceiverId(), message.getReceiverType());\r\n      // }\r\n      \r\n      this.props.actionGenerated(\"groupUpdated\", message, key, group, options);\r\n    }\r\n  }\r\n\r\n  handleScroll = (e) => {\r\n\r\n    const scrollTop = e.currentTarget.scrollTop;\r\n    const scrollHeight = e.currentTarget.scrollHeight;\r\n    const clientHeight = e.currentTarget.clientHeight;\r\n\r\n    this.lastScrollTop = scrollHeight - scrollTop;\r\n\r\n    if (this.lastScrollTop === clientHeight) {\r\n      this.props.actionGenerated(\"clearUnreadMessages\");\r\n    }\r\n    \r\n    const top = Math.round(scrollTop) === 0;\r\n    if (top && this.props.messages.length) {\r\n      this.messageHandler(this.props.item);\r\n    }\r\n  }\r\n\r\n  handleClick = (message) => {\r\n    this.props.onItemClick(message, 'message');\r\n  }\r\n\r\n  getSenderMessageComponent = (message, key) => {\r\n\r\n    let component;\r\n    \r\n    if(message.hasOwnProperty(\"deletedAt\")) {\r\n      \r\n      component = (<CometChatDeleteMessageBubble key={key} message={message} messageOf=\"sender\" {...this.props} />);\r\n\r\n    } else {\r\n\r\n      switch (message.type) {\r\n        case CometChat.MESSAGE_TYPE.TEXT:\r\n          component = (<CometChatSenderTextMessageBubble loggedInUser={this.loggedInUser} key={key} message={message} {...this.props} />);\r\n        break;\r\n        case CometChat.MESSAGE_TYPE.IMAGE:\r\n          component = (<CometChatSenderImageMessageBubble loggedInUser={this.loggedInUser} key={key} message={message} {...this.props} />);\r\n        break;\r\n        case CometChat.MESSAGE_TYPE.FILE:\r\n          component = (<CometChatSenderFileMessageBubble loggedInUser={this.loggedInUser} key={key} message={message} {...this.props} />);\r\n        break;\r\n        case CometChat.MESSAGE_TYPE.VIDEO:\r\n          component = (<CometChatSenderVideoMessageBubble loggedInUser={this.loggedInUser} key={key} message={message} {...this.props} />);\r\n        break;\r\n        case CometChat.MESSAGE_TYPE.AUDIO:\r\n          component = (<CometChatSenderAudioMessageBubble loggedInUser={this.loggedInUser} key={key} message={message} {...this.props} />);\r\n        break;\r\n        default:\r\n        break;\r\n      }\r\n\r\n    }\r\n    \r\n    return component;\r\n  }\r\n\r\n  getReceiverMessageComponent = (message, key) => {\r\n\r\n    let component;\r\n\r\n    if(message.hasOwnProperty(\"deletedAt\")) {\r\n\r\n      component = (<CometChatDeleteMessageBubble key={key} message={message} messageOf=\"receiver\" />);\r\n\r\n    } else {\r\n\r\n      switch (message.type) {\r\n        case \"message\":\r\n        case CometChat.MESSAGE_TYPE.TEXT:\r\n          component = (message.text ? <CometChatReceiverTextMessageBubble loggedInUser={this.loggedInUser} key={key} message={message} {...this.props} /> : null);\r\n        break;\r\n        case CometChat.MESSAGE_TYPE.IMAGE:\r\n          component = (message.data.url ? <CometChatReceiverImageMessageBubble loggedInUser={this.loggedInUser} key={key} message={message} {...this.props} /> : null);\r\n        break;\r\n        case CometChat.MESSAGE_TYPE.FILE:\r\n          component = (message.data.attachments ? <CometChatReceiverFileMessageBubble loggedInUser={this.loggedInUser} key={key} message={message} {...this.props} /> : null);\r\n        break;\r\n        case CometChat.MESSAGE_TYPE.AUDIO:\r\n          component = (message.data.url ? <CometChatReceiverAudioMessageBubble loggedInUser={this.loggedInUser} key={key} message={message} {...this.props} /> : null);\r\n        break;\r\n        case CometChat.MESSAGE_TYPE.VIDEO:\r\n          component = (message.data.url ? <CometChatReceiverVideoMessageBubble loggedInUser={this.loggedInUser} key={key} message={message} {...this.props} /> : null);\r\n        break;\r\n        default:\r\n        break;\r\n      }\r\n    }\r\n    return component;\r\n  }\r\n\r\n  getSenderCustomMessageComponent = (message, key) => {\r\n\r\n    let component;\r\n    if (message.hasOwnProperty(\"deletedAt\")) {\r\n      component = (<CometChatDeleteMessageBubble key={key} message={message} messageOf=\"sender\" {...this.props} />);\r\n    } else {\r\n\r\n      switch (message.type) {\r\n        case enums.CUSTOM_TYPE_POLL:\r\n          component = <CometChatSenderPollMessageBubble loggedInUser={this.loggedInUser} key={key} message={message} {...this.props} />;\r\n          break;\r\n        case enums.CUSTOM_TYPE_STICKER:\r\n          component = <CometChatSenderStickerBubble loggedInUser={this.loggedInUser} key={key} message={message} {...this.props} />;\r\n          break;\r\n        case enums.CUSTOM_TYPE_DOCUMENT:\r\n          component = <CometChatSenderDocumentBubble loggedInUser={this.loggedInUser} key={key} message={message} {...this.props} />;\r\n          break; \r\n        case enums.CUSTOM_TYPE_WHITEBOARD:\r\n          component = <CometChatSenderWhiteboardBubble loggedInUser={this.loggedInUser} key={key} message={message} {...this.props} />;\r\n          break; \r\n        case enums.CUSTOM_TYPE_MEETING:\r\n          component = <CometChatSenderDirectCallBubble loggedInUser={this.loggedInUser} key={key} message={message} {...this.props} />;\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n\r\n    return component;\r\n  }\r\n\r\n  getReceiverCustomMessageComponent = (message, key) => {\r\n\r\n    let component;\r\n    if (message.hasOwnProperty(\"deletedAt\")) {\r\n      component = (<CometChatDeleteMessageBubble key={key} message={message} messageOf=\"receiver\" {...this.props} />);\r\n    } else {\r\n\r\n      switch (message.type) {\r\n        case enums.CUSTOM_TYPE_POLL:\r\n          component = <CometChatReceiverPollMessageBubble loggedInUser={this.loggedInUser} key={key} message={message} {...this.props} />;\r\n          break;\r\n        case enums.CUSTOM_TYPE_STICKER:\r\n          component = <CometChatReceiverStickerMessageBubble loggedInUser={this.loggedInUser} key={key} message={message} {...this.props} />;\r\n          break;\r\n        case enums.CUSTOM_TYPE_DOCUMENT:\r\n          component = <CometChatReceiverDocumentBubble loggedInUser={this.loggedInUser} key={key} message={message} {...this.props} />;\r\n          break;\r\n        case enums.CUSTOM_TYPE_WHITEBOARD:\r\n          component = <CometChatReceiverWhiteboardBubble loggedInUser={this.loggedInUser} key={key} message={message} {...this.props} />;\r\n          break;\r\n        case enums.CUSTOM_TYPE_MEETING:\r\n          component = <CometChatReceiverDirectCallBubble loggedInUser={this.loggedInUser} key={key} message={message} {...this.props} />;\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n\r\n    return component;\r\n  }\r\n\r\n  getActionMessageComponent = (message, key) => {\r\n\r\n    return (\r\n      <CometChatActionMessageBubble loggedInUser={this.loggedInUser} key={key} message={message} {...this.props} />\r\n    );\r\n  }\r\n  \r\n  getComponent = (message, key) => {\r\n\r\n    let component;\r\n    \r\n    switch(message.category) {\r\n      case CometChat.CATEGORY_ACTION:\r\n      case CometChat.CATEGORY_CALL:\r\n        component = this.getActionMessageComponent(message, key);\r\n      break;\r\n      case CometChat.CATEGORY_MESSAGE:\r\n        if(this.loggedInUser.uid === message.sender.uid) {\r\n          component = this.getSenderMessageComponent(message, key);\r\n        } else {\r\n          component = this.getReceiverMessageComponent(message, key);\r\n        }\r\n      break;\r\n      case enums.CATEGORY_CUSTOM:\r\n        if (this.loggedInUser.uid === message.sender.uid) {\r\n          component = this.getSenderCustomMessageComponent(message, key);\r\n        } else {\r\n          component = this.getReceiverCustomMessageComponent(message, key);\r\n        }\r\n      break;\r\n      default:\r\n      break;\r\n    }\r\n\r\n    return component;\r\n  }\r\n\r\n  render() {\r\n\r\n    let messageContainer = null;\r\n    if (this.props.messages.length === 0) {\r\n      messageContainer = (\r\n        <div css={decoratorMessageStyle()} className=\"messages__decorator-message\">\r\n          <p css={decoratorMessageTxtStyle(this.props)} className=\"decorator-message\">{this.decoratorMessage}</p>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    let cDate = null;\r\n    const messages = this.props.messages.map((message, key) => {\r\n\r\n      let dateSeparator = null;\r\n\r\n      const dateField = message._composedAt || message.sentAt;\r\n\r\n      const messageDate = (message.sentAt * 1000);\r\n      const messageSentDate = dateFormat(messageDate, \"dd/mm/yyyy\");\r\n\r\n      if (cDate !== messageSentDate) {\r\n        dateSeparator = (\r\n          <div css={messageDateContainerStyle()} className=\"message__date\">\r\n            <span css={messageDateStyle(this.props)}>{getMessageDate(dateField, this.props.lang)}</span>\r\n          </div>);\r\n      }\r\n      cDate = messageSentDate;\r\n      \r\n      return (\r\n        <React.Fragment key={key}>\r\n          {dateSeparator}\r\n          {this.getComponent(message, key)}\r\n        </React.Fragment>\r\n      )\r\n    });\r\n\r\n    return (\r\n      <div className=\"chat__list\" css={chatListStyle(this.props)}>\r\n        {messageContainer}\r\n        <div className=\"list__wrapper\" css={listWrapperStyle()} ref={(el) => { this.messagesEnd = el; }} onScroll={this.handleScroll}>\r\n          {messages}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.MessageListManager.removeListeners();\r\n    this.MessageListManager = null;\r\n  }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatMessageList.defaultProps = {\r\n  lang: Translator.getDefaultLanguage(),\r\n  theme: theme\r\n};\r\n\r\nCometChatMessageList.propTypes = {\r\n  lang: PropTypes.string,\r\n  theme: PropTypes.object\r\n}\r\n\r\nexport default CometChatMessageList;\r\n","export const chatWrapperStyle = (theme) => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        height: \"100%\",\r\n        width: \"100%\",\r\n        boxSizing: \"border-box\",\r\n        position: \"relative\", \r\n        fontFamily: `${theme.fontFamily}`,\r\n        \"*\": {\r\n            boxSizing: \"border-box\",\r\n            fontFamily: `${theme.fontFamily}`,\r\n        }\r\n    }\r\n}\r\n\r\nexport const reactionsWrapperStyle = () => {\r\n\r\n    return {\r\n        position: \"absolute\", \r\n        width: \"100%\", \r\n        height: \"100%\", \r\n        top: \"0\", \r\n        right: \"0\",\r\n        zIndex: \"2\",\r\n        display: \"flex\",\r\n        justifyContent: \"left\",\r\n        alignItems: \"center\"\r\n    }\r\n}\r\n\r\n\r\nexport const messagePaneTopStyle = () => {\r\n\r\n    return {\r\n        top: \"75px\",\r\n        position: \"absolute\",\r\n        width: \"auto\",\r\n        right: \"auto\",\r\n        left: \"50%\",\r\n        fontWeight: \"700\",\r\n        zIndex: \"200\",\r\n        transform: \"translateX(-50%)\",\r\n    }\r\n}\r\n\r\nexport const messagePaneBannerStyle = (props) => {\r\n\r\n    return {\r\n        marginBottom: \"0\",\r\n        display: \"block\",\r\n        fontSize: \"13px\",\r\n        flex: \"1\",\r\n        background: `${props.theme.color.blue}`,\r\n        borderRadius: \"6px\",\r\n        zIndex: 200,\r\n    }\r\n}\r\n\r\nexport const messagePaneUnreadBannerStyle = () => {\r\n\r\n    return {\r\n        height: \"28px\",\r\n        borderRadius: \"14px\",\r\n        display: \"flex\",\r\n        flex: \"1\",\r\n        alignItems: \"center\",\r\n    }\r\n}\r\n\r\nexport const messagePaneUnreadBannerMessageStyle = (props) => {\r\n\r\n    return {\r\n        padding: \"0 16px\",\r\n        flex: \"1\",\r\n        textAlign: \"center\",\r\n        textShadow: \"0 1px rgba(0, 0, 0, .15)\",\r\n        whiteSpace: \"nowrap\",\r\n        overflow: \"hidden\",\r\n        textOverflow: \"ellipsis\",\r\n        color: `${props.theme.color.white}`,\r\n    }\r\n}\r\n\r\nexport const iconArrowDownStyle = () => {\r\n\r\n    return {\r\n        position: \"relative\",\r\n        display: \"inline-flex\",\r\n        height: \"20px\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        paddingRight: \"8px\",\r\n    }\r\n}\r\n","/* eslint-disable no-lone-blocks */\r\nimport React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\nimport { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport { \r\n  CometChatMessageHeader, CometChatMessageList, CometChatMessageComposer, CometChatLiveReactions,\r\n } from \"../\";\r\n\r\nimport {\r\n  CometChatIncomingCall, CometChatOutgoingCall, CometChatOutgoingDirectCall, CometChatIncomingDirectCall\r\n} from \"../../Calls\"\r\n\r\nimport * as enums from \"../../../util/enums.js\";\r\nimport { checkMessageForExtensionsData, validateWidgetSettings } from \"../../../util/common\";\r\n\r\nimport { theme } from \"../../../resources/theme\";\r\nimport Translator from \"../../../resources/localization/translator\";\r\nimport { incomingMessageAlert } from \"../../../resources/audio/\";\r\n\r\nimport { \r\n  chatWrapperStyle, \r\n  reactionsWrapperStyle,\r\n  messagePaneTopStyle,\r\n  messagePaneBannerStyle,\r\n  messagePaneUnreadBannerStyle,\r\n  messagePaneUnreadBannerMessageStyle,\r\n  iconArrowDownStyle,\r\n} from \"./style\";\r\n\r\nclass CometChatMessages extends React.PureComponent {\r\n\r\n  constructor(props) {\r\n\r\n    super(props);\r\n\r\n    this.state = {\r\n      messageList: [],\r\n      scrollToBottom: true,\r\n      messageToBeEdited: \"\",\r\n      replyPreview: null,\r\n      liveReaction: false,\r\n      messageToReact: null,\r\n      lang: props.lang,\r\n      unreadMessages: [],\r\n      outgoingCall: null,\r\n      startDirectCall: false,\r\n      joinDirectCall: false\r\n    }\r\n\r\n    CometChat.getLoggedinUser().then(user => this.loggedInUser = user).catch((error) => {\r\n      console.log(\"[CometChatUnified] getLoggedinUser error\", error);\r\n    });\r\n\r\n    this.composerRef = React.createRef();\r\n    this.messageListRef = React.createRef();\r\n    this.outgoingCallRef = React.createRef();\r\n    \r\n    this.reactionName = props.reaction;\r\n    this.audio = new Audio(incomingMessageAlert);\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.incomingCall) {\r\n      this.setState({ incomingCall: this.props.incomingCall });\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n\r\n    if (this.props.type === 'user' && prevProps.item.uid !== this.props.item.uid) {\r\n      \r\n      this.setState({ messageList: [], scrollToBottom: true, messageToBeEdited: \"\", unreadMessages: [] });\r\n\r\n    } else if (this.props.type === 'group' && prevProps.item.guid !== this.props.item.guid) {\r\n      \r\n      this.setState({ messageList: [], scrollToBottom: true, messageToBeEdited: \"\", unreadMessages: [] });\r\n\r\n    } else if(prevProps.type !== this.props.type) {\r\n      \r\n      this.setState({ messageList: [], scrollToBottom: true, messageToBeEdited: \"\", unreadMessages: [] });\r\n\r\n    } else if(prevProps.composedthreadmessage !== this.props.composedthreadmessage) {\r\n\r\n      this.updateReplyCount(this.props.composedthreadmessage);\r\n\r\n    } else if (prevProps.groupmessage !== this.props.groupmessage) {\r\n\r\n      if (validateWidgetSettings(this.props.widgetsettings, \"hide_join_leave_notifications\") !== true) {\r\n        this.appendMessage(this.props.groupmessage);\r\n      }\r\n    }\r\n\r\n    if (prevProps.lang !== this.props.lang) {\r\n      this.setState({ lang: this.props.lang });\r\n    }\r\n\r\n    if (prevProps.incomingCall !== this.props.incomingCall && this.props.incomingCall) {\r\n      this.setState({ incomingCall: this.props.incomingCall });\r\n    }\r\n\r\n    //workaround for chat widget, append directcall custom message \r\n    const previousMessage = JSON.stringify(prevProps.newMessage);\r\n    const newMessage = JSON.stringify(this.props.newMessage);\r\n\r\n    if (previousMessage !== newMessage) {\r\n\r\n      const message = this.props.newMessage[0];\r\n      if (message.hasOwnProperty(\"_composedAt\")) {\r\n        this.appendMessage(this.props.newMessage);\r\n        this.props.actionGenerated(enums.ACTIONS[\"MESSAGE_COMPOSED\"], this.props.newMessage);\r\n      } else {\r\n        this.messageSent(message);\r\n      }\r\n    }\r\n\r\n    if (prevProps.newCallMessage !== this.props.newCallMessage) {\r\n      this.appendCallMessage(this.props.newCallMessage);\r\n    }\r\n  }\r\n\r\n  playAudio = () => {\r\n\r\n    //if audio sound is disabled in chat widget\r\n    if (validateWidgetSettings(this.props.widgetsettings, \"enable_sound_for_messages\") === false) {\r\n      return false;\r\n    }\r\n\r\n    this.audio.currentTime = 0;\r\n    this.audio.play();\r\n  }\r\n\r\n  actionHandler = (action, messages, key, group, options) => {\r\n    \r\n    switch(action) {\r\n      case \"customMessageReceived\":\r\n      case \"messageReceived\": {\r\n\r\n        const message = messages[0]; \r\n        if(message.parentMessageId) {\r\n\r\n          this.updateReplyCount(messages);\r\n\r\n        } else {\r\n          this.smartReplyPreview(messages);\r\n          this.appendMessage(messages);\r\n        }\r\n\r\n        this.playAudio();\r\n      }\r\n      break;\r\n      case \"messageRead\":\r\n        this.props.actionGenerated(action, messages);\r\n      break;\r\n      case enums.ACTIONS[\"MESSAGE_COMPOSED\"]: {\r\n        this.appendMessage(messages);\r\n        this.props.actionGenerated(enums.ACTIONS[\"MESSAGE_COMPOSED\"], messages);\r\n        break;\r\n      }\r\n      case enums.ACTIONS[\"MESSAGE_SENT\"]:\r\n      case enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"]:\r\n        this.messageSent(messages);\r\n        break;\r\n      case \"onMessageReadAndDelivered\":\r\n        this.updateMessages(messages);\r\n      break;\r\n      case \"onMessageEdited\": {\r\n\r\n        this.updateMessages(messages);\r\n        //update the parent message of thread message\r\n        this.props.actionGenerated(\"updateThreadMessage\", [key], \"edit\");\r\n      }\r\n      break;\r\n      case \"messageFetched\":\r\n        this.prependMessages(messages);\r\n      break;\r\n      case \"messageFetchedAgain\": \r\n        this.prependMessagesAndScrollBottom(messages);\r\n        break;\r\n      case \"refreshingMessages\":\r\n        this.refreshingMessages();\r\n        break;\r\n      case \"messageRefreshed\":\r\n        this.messageRefreshed(messages);\r\n      break;\r\n      case \"newMessagesArrived\": \r\n        this.newMessagesArrived(messages); \r\n      break;\r\n      case \"clearUnreadMessages\":\r\n        this.jumpToMessages(true);\r\n      break;\r\n      case \"messageDeleted\": {\r\n        this.removeMessages(messages);\r\n        //remove the thread message\r\n        this.props.actionGenerated(\"updateThreadMessage\", messages, \"delete\");\r\n        break;\r\n      }\r\n      case \"viewMessageThread\":\r\n        this.props.actionGenerated(\"viewMessageThread\", messages);\r\n      break;\r\n      case \"deleteMessage\":\r\n        this.deleteMessage(messages);\r\n      break;\r\n      case \"editMessage\":\r\n        this.editMessage(messages);\r\n      break;\r\n      case \"messageEdited\":\r\n        this.messageEdited(messages);\r\n        break;\r\n      case \"clearEditPreview\":\r\n        this.clearEditPreview();\r\n        break;\r\n      case \"groupUpdated\":\r\n        this.groupUpdated(messages, key, group, options);\r\n      break;\r\n      case \"callUpdated\":\r\n        this.appendCallMessage(messages);\r\n      break;\r\n      case \"viewActualImage\":\r\n        this.props.actionGenerated(\"viewActualImage\", messages);\r\n      break;\r\n      case \"audioCall\":\r\n        this.audioCall();\r\n        break;\r\n      case \"videoCall\":\r\n        this.videoCall();\r\n        break;\r\n      case \"viewDetail\":\r\n      case \"menuClicked\":\r\n        this.props.actionGenerated(action);\r\n        break;\r\n      case \"sendReaction\":\r\n        this.toggleReaction(true);\r\n      break;\r\n      case \"showReaction\":\r\n        this.showReaction(messages);\r\n        break;\r\n      case \"stopReaction\":\r\n        this.toggleReaction(false);\r\n        break; \r\n      case \"reactToMessage\":\r\n        this.reactToMessage(messages);\r\n      break;\r\n      case \"translateMessage\":\r\n        this.translateMessage(messages);\r\n        break;\r\n      case \"acceptedIncomingCall\":\r\n        this.acceptedIncomingCall(messages);\r\n        break;\r\n      case \"rejectedIncomingCall\":\r\n        this.rejectedIncomingCall(messages, key);\r\n        break;\r\n      case \"userJoinedCall\":\r\n      case \"userLeftCall\":\r\n        this.appendCallMessage(messages);\r\n        break;\r\n      case \"outgoingCallRejected\":\r\n      case \"callError\":\r\n        this.updateCallState();\r\n        break;\r\n      case \"outgoingCallCancelled\":\r\n      case \"callEnded\":\r\n        this.updateCallState();\r\n        this.appendCallMessage(messages);\r\n        break;\r\n      case enums.ACTIONS[\"ACCEPT_DIRECT_CALL\"]:\r\n        this.setState({ joinDirectCall: true });\r\n        break;\r\n      case enums.ACTIONS[\"JOIN_DIRECT_CALL\"]: {\r\n\r\n        //if used in a chat widget, trigger the event to the app component cos directcall component is included outside of iframe\r\n        if (Object.keys(this.props.widgetsettings).length) {\r\n          this.props.actionGenerated(action, messages);\r\n        } else {\r\n          this.props.actionGenerated(action, messages);\r\n          this.setState({ joinDirectCall: true });\r\n        }\r\n\r\n      }\r\n        break;\r\n      case enums.ACTIONS[\"END_DIRECT_CALL\"]: {\r\n\r\n        //if used in a chat widget, trigger the event to the app component cos directcall component is included outside of iframe\r\n        if (Object.keys(this.props.widgetsettings).length) {\r\n          this.props.actionGenerated(action, messages);\r\n        } else {\r\n          this.props.actionGenerated(action);\r\n          this.setState({ startDirectCall: false, joinDirectCall: false });\r\n        }\r\n\r\n      }\r\n        break;\r\n      default:\r\n      break;\r\n    }\r\n  }\r\n\r\n  acceptedIncomingCall = (call) => {\r\n    this.setState({ incomingCall: call });\r\n  }\r\n\r\n  rejectedIncomingCall = (incomingCallMessage, rejectedCallMessage) => {\r\n\r\n    let item = this.props.item;\r\n    let type = this.props.type;\r\n\r\n    const receiverType = rejectedCallMessage.receiverType;\r\n    const receiverId = rejectedCallMessage.receiverId;\r\n\r\n    if (type === CometChat.RECEIVER_TYPE.USER && receiverType === CometChat.RECEIVER_TYPE.USER && receiverId === item.uid) {\r\n      this.appendCallMessage(rejectedCallMessage);\r\n    }\r\n  }\r\n\r\n  updateCallState = () => {\r\n    this.setState({ outgoingCall: null, incomingCall: null, directCall: false });\r\n  }\r\n  \r\n  getReceiverDetails = () => {\r\n\r\n    let receiverId;\r\n    let receiverType;\r\n\r\n    if (this.props.type === \"user\") {\r\n\r\n      receiverId = this.props.item.uid;\r\n      receiverType = CometChat.RECEIVER_TYPE.USER;\r\n\r\n    } else if (this.props.type === \"group\") {\r\n\r\n      receiverId = this.props.item.guid;\r\n      receiverType = CometChat.RECEIVER_TYPE.GROUP;\r\n    }\r\n\r\n    return { \"receiverId\": receiverId, \"receiverType\": receiverType };\r\n  }\r\n\r\n  audioCall = () => {\r\n\r\n    const { receiverId, receiverType } = this.getReceiverDetails();\r\n\r\n    const call = new CometChat.Call(receiverId, CometChat.CALL_TYPE.AUDIO, receiverType);\r\n    CometChat.initiateCall(call).then(outgoingCall => {\r\n\r\n      //when this component is part of chat widget trigger an event.. (outgoingcall component is used separately in chat widget)\r\n      if (Object.keys(this.props.widgetsettings).length) {\r\n        this.props.actionGenerated(\"startAudioCall\", outgoingCall);\r\n      } else {\r\n        this.setState({ outgoingCall: outgoingCall });\r\n      }\r\n\r\n      this.appendCallMessage(outgoingCall);\r\n\r\n    }).catch(error => {\r\n\r\n      console.log(\"Call initialization failed with exception:\", error);\r\n    });\r\n  }\r\n\r\n  videoCall = () => {\r\n\r\n    if (this.props.type === CometChat.RECEIVER_TYPE.GROUP) {\r\n\r\n      if (Object.keys(this.props.widgetsettings).length) {\r\n        this.props.actionGenerated(enums.ACTIONS[\"START_DIRECT_CALL\"]);\r\n      } else {\r\n        this.props.actionGenerated(enums.ACTIONS[\"START_DIRECT_CALL\"]);\r\n        this.toggleDirectCall(true);\r\n      }\r\n\r\n      return;\r\n    }\r\n\r\n    const { receiverId, receiverType } = this.getReceiverDetails();\r\n\r\n    const call = new CometChat.Call(receiverId, CometChat.CALL_TYPE.VIDEO, receiverType);\r\n    CometChat.initiateCall(call).then(outgoingCall => {\r\n\r\n      //when this component is part of chat widget trigger an event.. (outgoingcall component is used separately in chat widget)\r\n      if (Object.keys(this.props.widgetsettings).length) {\r\n        this.props.actionGenerated(\"startVideoCall\", outgoingCall);\r\n      } else {\r\n        this.setState({ outgoingCall: outgoingCall });\r\n      }\r\n\r\n      this.appendCallMessage(outgoingCall);\r\n\r\n    }).catch(error => {\r\n\r\n      console.log(\"Call initialization failed with exception:\", error);\r\n    });\r\n  }\r\n\r\n  toggleDirectCall = (flag) => {\r\n    this.setState({ startDirectCall: flag });\r\n  }\r\n\r\n  toggleReaction = (flag) => {\r\n    this.setState({ liveReaction: flag});\r\n  }\r\n\r\n  showReaction = (reaction) => {\r\n    \r\n    if(!reaction.hasOwnProperty(\"metadata\")) {\r\n      return false;\r\n    }\r\n\r\n    if (!reaction.metadata.hasOwnProperty(\"type\") || !reaction.metadata.hasOwnProperty(\"reaction\")) {\r\n      return false;\r\n    }\r\n\r\n    if (!enums.LIVE_REACTIONS.hasOwnProperty(reaction.metadata.reaction)) {\r\n      return false;\r\n    }\r\n\r\n    if (reaction.metadata.type === enums.LIVE_REACTION_KEY) {\r\n\r\n      this.reactionName = reaction.metadata.reaction;\r\n      this.setState({ liveReaction: true });\r\n    }\r\n  }\r\n\r\n  deleteMessage = (message) => {\r\n\r\n    const messageId = message.id;\r\n    CometChat.deleteMessage(messageId).then(deletedMessage => {\r\n      \r\n      //remove edit preview when message is deleted\r\n      if (deletedMessage.id === this.state.messageToBeEdited.id) {\r\n        this.setState({ messageToBeEdited: \"\" });\r\n      }\r\n\r\n      this.removeMessages([deletedMessage]);\r\n\r\n      const messageList = [...this.state.messageList];\r\n      let messageKey = messageList.findIndex(m => m.id === message.id);\r\n\r\n      this.props.actionGenerated(\"updateThreadMessage\", [deletedMessage], \"delete\");\r\n\r\n      if (messageList.length - messageKey === 1 && !message.replyCount) {\r\n        this.props.actionGenerated(\"messageDeleted\", [deletedMessage]);\r\n      }\r\n      \r\n    }).catch(error => {\r\n      console.log(\"Message delete failed with error:\", error);\r\n    });\r\n  }\r\n\r\n  editMessage = (message) => {\r\n    this.setState({ messageToBeEdited: message, replyPreview: null });\r\n  }\r\n\r\n  messageEdited = (message) => {\r\n    \r\n    const messageList = [...this.state.messageList];\r\n    let messageKey = messageList.findIndex(m => m.id === message.id);\r\n    if (messageKey > -1) {\r\n\r\n      const messageObj = messageList[messageKey];\r\n\r\n      const newMessageObj = Object.assign({}, messageObj, message);\r\n\r\n      messageList.splice(messageKey, 1, newMessageObj);\r\n      this.updateMessages(messageList);\r\n\r\n      this.props.actionGenerated(\"updateThreadMessage\", [newMessageObj], \"edit\");\r\n\r\n      if (messageList.length - messageKey === 1 && !message.replyCount) {\r\n        this.props.actionGenerated(\"messageEdited\", [newMessageObj]);\r\n      }\r\n      \r\n    }\r\n  }\r\n\r\n  messageSent = (message) => {\r\n\r\n    const messageList = [...this.state.messageList];\r\n    \r\n    let messageKey = messageList.findIndex(m => m._id === message._id);\r\n    if (messageKey > -1) {\r\n\r\n      const newMessageObj = { ...message };\r\n\r\n      messageList.splice(messageKey, 1, newMessageObj);\r\n      messageList.sort((a, b) => a.id - b.id);\r\n      this.setState({ messageList: messageList, scrollToBottom: true });\r\n    }\r\n  }\r\n  \r\n  refreshingMessages = () => {\r\n\r\n    this.setState({ messageList: [], messageToBeEdited: \"\", replyPreview: null, liveReaction: false, messageToReact: null });\r\n  }\r\n\r\n  messageRefreshed = (messages) => {\r\n\r\n    const messageList = [...messages];\r\n    this.setState({ messageList: messageList, scrollToBottom: true });\r\n  }\r\n\r\n  newMessagesArrived = (newMessage) => {\r\n\r\n    let messageList = [...this.state.unreadMessages];\r\n    messageList = messageList.concat(newMessage);\r\n\r\n    this.props.actionGenerated(\"unreadMessages\", messageList);\r\n\r\n    this.setState({ unreadMessages: messageList });\r\n  }\r\n\r\n  markMessagesAsRead = (scrollToBottom) => {\r\n\r\n    if (this.state.unreadMessages.length === 0) {\r\n      return false;\r\n    }\r\n\r\n    let unreadMessages = [...this.state.unreadMessages];\r\n    let messageList = [...this.state.messageList];\r\n\r\n    unreadMessages.forEach(unreadMessage => {\r\n\r\n      if (unreadMessage.getReceiverType() === CometChat.RECEIVER_TYPE.USER) {\r\n\r\n        if (this.messageListRef) {\r\n\r\n          messageList.push(unreadMessage);\r\n          this.messageListRef.markMessageAsRead(unreadMessage, \"user\");\r\n        }\r\n\r\n      } else if (unreadMessage.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP) {\r\n\r\n        if (this.messageListRef) {\r\n\r\n          messageList.push(unreadMessage);\r\n          this.messageListRef.markMessageAsRead(unreadMessage, \"group\");\r\n        }\r\n      }\r\n    });\r\n\r\n    this.props.actionGenerated(\"unreadMessages\", []);\r\n\r\n    this.setState({ unreadMessages: [], messageList: messageList, scrollToBottom: scrollToBottom });\r\n  }\r\n\r\n  jumpToMessages = () => {\r\n\r\n    if (this.state.unreadMessages.length === 0) {\r\n      return false;\r\n    }\r\n\r\n    let unreadMessages = [...this.state.unreadMessages]\r\n    let messageList = [...this.state.messageList];\r\n    messageList = messageList.concat(unreadMessages);\r\n\r\n    const lastMessage = messageList.pop();\r\n    this.props.actionGenerated(\"clearUnreadMessages\", [lastMessage]);\r\n\r\n    if (messageList.length > enums.MAX_MESSAGE_COUNT) {\r\n\r\n      this.props.actionGenerated(\"unreadMessages\", []);\r\n      this.setState({ unreadMessages: [] });\r\n\r\n      if (this.messageListRef) {\r\n        this.messageListRef.reInitializeMessageBuilder();\r\n      }\r\n\r\n    } else {\r\n      this.markMessagesAsRead(true);\r\n    }\r\n  }\r\n\r\n  //messages are deleted\r\n  removeMessages = (messages) => {\r\n\r\n    const deletedMessage = messages[0];\r\n    const messagelist = [...this.state.messageList];\r\n\r\n    let messageKey = messagelist.findIndex(message => message.id === deletedMessage.id);\r\n    if (messageKey > -1) {\r\n\r\n      let messageObj = { ...messagelist[messageKey] };\r\n      let newMessageObj = Object.assign({}, messageObj, deletedMessage);\r\n\r\n      messagelist.splice(messageKey, 1, newMessageObj);\r\n      this.setState({ messageList: messagelist, scrollToBottom: false });\r\n    }\r\n  }\r\n\r\n  //messages are fetched from backend\r\n  prependMessages = (messages) => {\r\n\r\n    const messageList = [...messages, ...this.state.messageList];\r\n    this.setState({ messageList: messageList, scrollToBottom: false });\r\n  }\r\n\r\n  prependMessagesAndScrollBottom = (messages) => {\r\n    const messageList = [...messages, ...this.state.messageList];\r\n    this.setState({ messageList: messageList, scrollToBottom: true });\r\n  }\r\n\r\n  //message is received or composed & sent\r\n  appendMessage = (message) => {\r\n\r\n    let messages = [...this.state.messageList, ...message];\r\n    this.setState({ messageList: messages, scrollToBottom: true });\r\n  }\r\n\r\n  //message status is updated\r\n  updateMessages = (messages) => {\r\n    this.setState({ messageList: messages, scrollToBottom: false });\r\n  }\r\n\r\n  groupUpdated = (message, key, group, options) => {\r\n\r\n    if (validateWidgetSettings(this.props.widgetsettings, \"hide_join_leave_notifications\") !== true) {\r\n      this.appendMessage([message]);\r\n    }\r\n\r\n    this.props.actionGenerated(\"groupUpdated\", message, key, group, options);\r\n  }\r\n\r\n  appendCallMessage = (message) => {\r\n\r\n    //if call actions messages are disabled in chat widget\r\n    if (validateWidgetSettings(this.props.widgetsettings, \"show_call_notifications\") === false) {\r\n      return false;\r\n    }\r\n\r\n    this.appendMessage([message]);\r\n  }\r\n\r\n  updateReplyCount = (messages) => {\r\n\r\n    const receivedMessage = messages[0];\r\n\r\n    let messageList = [...this.state.messageList];\r\n    let messageKey = messageList.findIndex(m => m.id === receivedMessage.parentMessageId);\r\n    if (messageKey > -1) {\r\n\r\n      const messageObj = messageList[messageKey];\r\n      let replyCount = (messageObj.hasOwnProperty(\"replyCount\")) ? messageObj.replyCount : 0;\r\n      replyCount = replyCount + 1;\r\n      const newMessageObj = Object.assign({}, messageObj, { \"replyCount\": replyCount });\r\n      \r\n      messageList.splice(messageKey, 1, newMessageObj);\r\n      this.setState({ messageList: messageList, scrollToBottom: false });\r\n    }\r\n  }\r\n\r\n  smartReplyPreview = (messages) => {\r\n\r\n    const message = messages[0];\r\n    if (message.sender.uid === this.loggedInUser.uid || message.category === enums.CATEGORY_CUSTOM) {\r\n      return false;\r\n    }\r\n    \r\n    const smartReplyData = checkMessageForExtensionsData(message, \"smart-reply\");\r\n    if (smartReplyData && smartReplyData.hasOwnProperty(\"error\") === false) {\r\n      this.setState({ replyPreview: message });\r\n    } else {\r\n      this.setState({ replyPreview: null });\r\n    }\r\n  }\r\n\r\n  clearEditPreview = () => {\r\n    this.setState({ messageToBeEdited:  \"\" });\r\n  }\r\n\r\n  reactToMessage = (message) => {\r\n\r\n    this.setState({ \"messageToReact\": message});\r\n\r\n    if (this.composerRef) {\r\n      this.composerRef.toggleEmojiPicker();\r\n    }\r\n  }\r\n\r\n  render() {\r\n\r\n    let messageComposer = (\r\n      <CometChatMessageComposer \r\n      ref={(el) => { this.composerRef = el; } }\r\n      theme={this.props.theme}\r\n      item={this.props.item} \r\n      type={this.props.type}\r\n      lang={this.state.lang}\r\n      widgetsettings={this.props.widgetsettings}\r\n      loggedInUser={this.loggedInUser}\r\n      messageToBeEdited={this.state.messageToBeEdited}\r\n      replyPreview={this.state.replyPreview}\r\n      reaction={this.reactionName}\r\n      messageToReact={this.state.messageToReact}\r\n      actionGenerated={this.actionHandler} />\r\n    );\r\n\r\n    let newMessageIndicator = null;\r\n    if (this.state.unreadMessages.length) {\r\n\r\n      const unreadMessageCount = this.state.unreadMessages.length;\r\n      const messageText = (unreadMessageCount > 1) ? `${unreadMessageCount} ${Translator.translate(\"NEW_MESSAGES\", this.state.lang)}` : `${unreadMessageCount} ${Translator.translate(\"NEW_MESSAGE\", this.state.lang)}`;\r\n      newMessageIndicator = (\r\n        <div css={messagePaneTopStyle()} className=\"message_pane__top\">\r\n          <div css={messagePaneBannerStyle(this.props)} className=\"message_pane__banner\">\r\n            <div css={messagePaneUnreadBannerStyle()} className=\"message_pane__unread_banner__banner\" title={Translator.translate(\"JUMP\", this.state.lang)}>\r\n              <button type=\"button\" css={messagePaneUnreadBannerMessageStyle(this.props)} className=\"message_pane__unread_banner__msg\" onClick={this.jumpToMessages}>\r\n                <span css={iconArrowDownStyle()} className=\"icon--arrow-down\">&#x2193; </span>{messageText}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    //if sending messages are disabled for chat wigdet in dashboard\r\n    if (validateWidgetSettings(this.props.widgetsettings, \"enable_sending_messages\") === false) {\r\n      messageComposer = null;\r\n    }\r\n\r\n    let liveReactionView = null;\r\n    if (this.state.liveReaction) {\r\n      liveReactionView = (\r\n        <div css={reactionsWrapperStyle()}>\r\n          <CometChatLiveReactions reaction={this.reactionName} theme={this.props.theme} lang={this.state.lang} />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    //if messagelistscreen component is used as standalone component\r\n    let incomingCallView = null;\r\n    if (this.props.parentComponent.trim().length === 0) {\r\n      incomingCallView = (<CometChatIncomingCall theme={this.props.theme} lang={this.state.lang} actionGenerated={this.actionHandler} />);\r\n    }\r\n\r\n    //if messagelistscreen component is used as standalone component\r\n    let incomingMessageView = null;\r\n    if (this.props.parentComponent.trim().length === 0) {\r\n      incomingMessageView = (<CometChatIncomingDirectCall theme={this.props.theme} lang={this.state.lang} actionGenerated={this.actionHandler} />);\r\n    }\r\n\r\n    //don't include it when opened in chat widget\r\n    let directCallView = null;\r\n    if (Object.keys(this.props.widgetsettings).length === 0 && (this.state.startDirectCall || this.state.joinDirectCall)) {\r\n\r\n      const open = this.state.startDirectCall || this.state.joinDirectCall;\r\n      directCallView = (\r\n        <CometChatOutgoingDirectCall \r\n        open={open} \r\n        close={() => this.actionHandler(\"directCallEnded\")}\r\n        theme={this.props.theme} \r\n        item={this.props.item} \r\n        type={this.props.type}\r\n        lang={this.state.lang}\r\n        callType={CometChat.CALL_TYPE.VIDEO}\r\n        joinDirectCall={this.state.joinDirectCall}\r\n        loggedInUser={this.loggedInUser}\r\n        actionGenerated={this.actionHandler}  />\r\n      );\r\n    }\r\n\r\n    //don't include it when opened in chat widget\r\n    let outgoingCallView = null;\r\n    if (Object.keys(this.props.widgetsettings).length === 0) {\r\n      outgoingCallView = (\r\n        <CometChatOutgoingCall\r\n        ref={(el) => { this.outgoingCallRef = el; }}\r\n        theme={this.props.theme}\r\n        item={this.props.item}\r\n        type={this.props.type}\r\n        lang={this.state.lang}\r\n        incomingCall={this.state.incomingCall}\r\n        outgoingCall={this.state.outgoingCall}\r\n        loggedInUser={this.loggedInUser}\r\n        actionGenerated={this.actionHandler} />\r\n      );\r\n    }\r\n    \r\n    return (\r\n      <React.Fragment>\r\n        <div css={chatWrapperStyle(this.props.theme)} className=\"main__chat\" dir={Translator.getDirection(this.state.lang)}>\r\n          <CometChatMessageHeader \r\n          sidebar={this.props.sidebar}\r\n          theme={this.props.theme}\r\n          item={this.props.item} \r\n          type={this.props.type} \r\n          lang={this.state.lang}\r\n          viewdetail={this.props.viewdetail === false ? false : true}\r\n          audiocall={this.props.audiocall === false ? false : true}\r\n          videocall={this.props.videocall === false ? false : true}\r\n          widgetsettings={this.props.widgetsettings}\r\n          loggedInUser={this.loggedInUser}\r\n          actionGenerated={this.actionHandler} />\r\n          <CometChatMessageList\r\n          ref={(el) => { this.messageListRef = el; }}\r\n          theme={this.props.theme}\r\n          messages={this.state.messageList} \r\n          item={this.props.item} \r\n          type={this.props.type}\r\n          lang={this.state.lang}\r\n          scrollToBottom={this.state.scrollToBottom}\r\n          messageconfig={this.props.messageconfig}\r\n          widgetsettings={this.props.widgetsettings}\r\n          widgetconfig={this.props.widgetconfig}\r\n          actionGenerated={this.actionHandler} />\r\n          {liveReactionView}\r\n          {messageComposer}\r\n          {newMessageIndicator}\r\n        </div>\r\n        {incomingCallView}\r\n        {outgoingCallView}\r\n        {incomingMessageView}\r\n        {directCallView}\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatMessages.defaultProps = {\r\n  lang: Translator.getDefaultLanguage(),\r\n  theme: theme,\r\n  reaction: \"heart\",\r\n  parentComponent: \"\",\r\n  incomingCall: null,\r\n  widgetsettings: {},\r\n  newMessage: [],\r\n  newCallMessage: {}\r\n};\r\n\r\nCometChatMessages.propTypes = {\r\n  lang: PropTypes.string,\r\n  theme: PropTypes.object,\r\n  reaction: PropTypes.string,\r\n  parentComponent: PropTypes.string,\r\n  incomingCall: PropTypes.object,\r\n  widgetsettings: PropTypes.object,\r\n  newMessage: PropTypes.array,\r\n  newCallMessage: PropTypes.object\r\n}\r\n\r\nexport default CometChatMessages;\r\n","export const wrapperStyle = (props) => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        height: \"100%\",\r\n        boxSizing: \"border-box\",\r\n        fontFamily: `${props.theme.fontFamily}`,\r\n        \"*\": {\r\n            boxSizing: \"border-box\",\r\n            fontFamily: `${props.theme.fontFamily}`,\r\n        }\r\n    }\r\n}\r\n\r\nexport const headerStyle = (props) => {\r\n\r\n    return {\r\n        padding: \"12px 16px\",\r\n        width: \"100%\",\r\n        backgroundColor: `${props.theme.backgroundColor.white}`,\r\n        zIndex: \"1\",\r\n        borderBottom: `1px solid ${props.theme.borderColor.primary}`,\r\n    }\r\n}\r\n\r\nexport const headerWrapperStyle = () => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"space-between\",\r\n        width: \"100%\",\r\n    }\r\n}\r\n\r\nexport const headerDetailStyle = () => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        width: \"calc(100% - 40px)\",\r\n    }\r\n}\r\n\r\nexport const headerTitleStyle = () => {\r\n\r\n    return {\r\n        margin: \"0\",\r\n        fontSize: \"15px\",\r\n        fontWight: \"600\",\r\n        lineHeight: \"22px\",\r\n        width: \"100%\",\r\n    }\r\n}\r\n\r\nexport const headerNameStyle = () => {\r\n\r\n    return {\r\n        fontSize: \"13px\",\r\n        lineHeight: \"20px\",\r\n        width: \"100%\",\r\n        overflow: \"hidden\",\r\n        textOverflow: \"ellipsis\",\r\n        whiteSpace: \"nowrap\",\r\n    }\r\n}\r\n\r\nexport const headerCloseStyle = (img) => {\r\n\r\n    return {\r\n        cursor: \"pointer\",\r\n        background: `url(${img}) center center no-repeat`,\r\n        width: \"24px\",\r\n        height: \"24px\",\r\n    }\r\n}\r\n\r\nexport const messageContainerStyle = (event) => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        height: \"100%\",\r\n        overflowX: \"hidden\",\r\n        overflowY: \"auto\",\r\n        transition: \"background .3s ease-out .1s\",\r\n        width: \"100%\",\r\n        zIndex: \"100\",\r\n        minHeight: \"calc(100% - 68px)\",\r\n        order: \"2\",\r\n        \".chat__list\": {\r\n            minHeight: \"250px\",\r\n            \".list__wrapper\": {\r\n                \"::-webkit-scrollbar\": {\r\n                    display: \"none\"\r\n                },\r\n                scrollbarWidth: \"none\"\r\n            }\r\n        },\r\n    }\r\n}\r\n\r\nexport const parentMessageStyle = (message) => {\r\n\r\n    const alignment = (message.messageFrom === \"sender\") ? {\r\n        justifyContent: \"flex-end\",\r\n    } : {\r\n        justifyContent: \"flex-start\",\r\n    };\r\n\r\n    return {\r\n        padding: \"14px 16px\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        ...alignment,\r\n        \".sender__message__container, .receiver__message__container\": {\r\n            maxWidth: \"100%\",\r\n            \"&:hover\": {\r\n                \".message__actions\": {\r\n                    display: \"none\"\r\n                }\r\n            }\r\n        },\r\n        \".replycount\": {\r\n            display: \"none\"\r\n        }\r\n    }\r\n}\r\n\r\nexport const messageSeparatorStyle = (props) => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        position: \"relative\",\r\n        margin: \"7px 16px\",\r\n        height: \"15px\",\r\n        \"hr\": {\r\n            flex: \"1\",\r\n            margin: \"1px 0 0 0\",\r\n            borderTop: `1px solid ${props.theme.borderColor.primary}`,\r\n        }\r\n    }\r\n}\r\n\r\nexport const messageReplyStyle = () => {\r\n\r\n    return {\r\n        marginRight: \"12px\",\r\n        fontSize: \"12px\",\r\n    }\r\n}","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\nimport { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport { \r\n  CometChatMessageList, CometChatMessageComposer,\r\n  CometChatSenderTextMessageBubble, CometChatReceiverTextMessageBubble,\r\n  CometChatSenderImageMessageBubble, CometChatReceiverImageMessageBubble,\r\n  CometChatSenderFileMessageBubble, CometChatReceiverFileMessageBubble,\r\n  CometChatSenderAudioMessageBubble, CometChatReceiverAudioMessageBubble,\r\n  CometChatSenderVideoMessageBubble, CometChatReceiverVideoMessageBubble,\r\n} from \"../\";\r\n\r\nimport {\r\n  CometChatSenderPollMessageBubble, CometChatReceiverPollMessageBubble,\r\n  CometChatSenderStickerBubble, CometChatReceiverStickerMessageBubble,\r\n  CometChatSenderDocumentBubble, CometChatReceiverDocumentBubble,\r\n  CometChatSenderWhiteboardBubble, CometChatReceiverWhiteboardBubble,\r\n} from \"../Extensions\"\r\n\r\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\r\nimport * as enums from \"../../../util/enums.js\";\r\n\r\nimport { theme } from \"../../../resources/theme\";\r\nimport Translator from \"../../../resources/localization/translator\";\r\n\r\nimport {\r\n  wrapperStyle,\r\n  headerStyle,\r\n  headerWrapperStyle,\r\n  headerDetailStyle,\r\n  headerTitleStyle,\r\n  headerNameStyle,\r\n  headerCloseStyle,\r\n  messageContainerStyle,\r\n  parentMessageStyle,\r\n  messageSeparatorStyle,\r\n  messageReplyStyle,\r\n} from \"./style\";\r\n\r\nimport clearIcon from \"./resources/close.png\";\r\n\r\nclass CometChatMessageThread extends React.PureComponent {\r\n\r\n  loggedInUser = null;\r\n\r\n  constructor(props) {\r\n\r\n    super(props);\r\n\r\n    this.loggedInUser = props.loggedInUser;\r\n    this.composerRef = React.createRef();\r\n\r\n    this.state = {\r\n      messageList: [],\r\n      scrollToBottom: false,\r\n      replyCount: 0,\r\n      replyPreview: null,\r\n      messageToBeEdited: null,\r\n      parentMessage: props.parentMessage\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n\r\n    if (prevProps.parentMessage !== this.props.parentMessage) {\r\n\r\n      if (prevProps.parentMessage.id !== this.props.parentMessage.id) {\r\n        this.setState({ messageList: [], scrollToBottom: true, parentMessage: this.props.parentMessage });\r\n      } else if (prevProps.parentMessage.data !== this.props.parentMessage.data) {\r\n        this.setState({ parentMessage: this.props.parentMessage });\r\n      } \r\n      \r\n    } \r\n  }\r\n\r\n  parentMessageEdited = (message) => {\r\n\r\n    const parentMessage = { ...this.props.parentMessage };\r\n\r\n    if (parentMessage.id === message.id) {\r\n      const newMessageObj = { ...message };\r\n      this.setState({ parentMessage: newMessageObj });\r\n    }\r\n\r\n  }\r\n\r\n  actionHandler = (action, messages) => {\r\n      \r\n    switch(action) {\r\n      case \"customMessageReceived\":\r\n      case \"messageReceived\": {\r\n        const message = messages[0];\r\n        if (message.hasOwnProperty(\"parentMessageId\") && message.parentMessageId === this.state.parentMessage.id) {\r\n\r\n          const replyCount = (this.state.parentMessage.hasOwnProperty(\"replyCount\")) ? this.state.parentMessage.replyCount : 0;\r\n          const newReplyCount = replyCount + 1;\r\n\r\n          let messageObj = { ...this.state.parentMessage };\r\n          let newMessageObj = Object.assign({}, messageObj, { replyCount: newReplyCount });\r\n          this.setState({ parentMessage: newMessageObj });\r\n\r\n          this.smartReplyPreview(messages);\r\n          this.appendMessage(messages);\r\n        }\r\n      }\r\n      break;\r\n      case enums.ACTIONS[\"MESSAGE_COMPOSED\"]: {\r\n\r\n        const replyCount = (this.state.parentMessage.hasOwnProperty(\"replyCount\")) ? this.state.parentMessage.replyCount : 0;\r\n        const newReplyCount = replyCount + 1;\r\n\r\n        let messageObj = { ...this.state.parentMessage };\r\n        let newMessageObj = Object.assign({}, messageObj, { replyCount: newReplyCount });\r\n        this.setState({ parentMessage: newMessageObj });\r\n\r\n        this.appendMessage(messages);\r\n        this.props.actionGenerated(\"threadMessageComposed\", messages);\r\n      }\r\n      break;\r\n      case enums.ACTIONS[\"MESSAGE_SENT\"]:\r\n      case enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"]:\r\n        this.messageSent(messages);\r\n        break;\r\n      case \"onMessageReadAndDelivered\":\r\n        this.updateMessages(messages);\r\n        break;\r\n      case \"onMessageEdited\":\r\n        this.updateMessages(messages);\r\n      break;\r\n      case \"messageFetched\":\r\n        this.prependMessages(messages);\r\n      break;\r\n      case \"messageDeleted\":\r\n        this.removeMessages(messages);\r\n      break;\r\n      case \"editMessage\":\r\n        this.editMessage(messages);\r\n        break;\r\n      case \"messageEdited\":\r\n        this.messageEdited(messages);\r\n      break;\r\n      case \"clearEditPreview\":\r\n        this.clearEditPreview();\r\n      break;\r\n      case \"deleteMessage\":\r\n        this.deleteMessage(messages);\r\n        break;\r\n      case \"viewActualImage\":\r\n        this.props.actionGenerated(\"viewActualImage\", messages);\r\n        break;\r\n      case \"reactToMessage\":\r\n        this.reactToMessage(messages);\r\n        break;\r\n      default:\r\n      break;\r\n    }\r\n  }\r\n\r\n  messageSent = (message) => {\r\n\r\n    const messageList = [...this.state.messageList];\r\n    let messageKey = messageList.findIndex(m => m._id === message._id);\r\n    if (messageKey > -1) {\r\n\r\n      const newMessageObj = { ...message };\r\n\r\n      messageList.splice(messageKey, 1, newMessageObj);\r\n      this.updateMessages(messageList);\r\n    }\r\n  }\r\n\r\n  editMessage = (message) => {\r\n    this.setState({ \"messageToBeEdited\": message });\r\n  }\r\n\r\n  messageEdited = (message) => {\r\n\r\n    const messageList = [...this.state.messageList];\r\n    let messageKey = messageList.findIndex(m => m.id === message.id);\r\n    if (messageKey > -1) {\r\n\r\n      const messageObj = messageList[messageKey];\r\n\r\n      const newMessageObj = { ...messageObj, ...message };\r\n\r\n      messageList.splice(messageKey, 1, newMessageObj);\r\n      this.updateMessages(messageList);\r\n\r\n      if (messageList.length - messageKey === 1) {\r\n        this.props.actionGenerated(\"messageEdited\", [newMessageObj]);\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  clearEditPreview = () => {\r\n    this.setState({ \"messageToBeEdited\": \"\" });\r\n  }\r\n\r\n  deleteMessage = (message) => {\r\n\r\n    const messageId = message.id;\r\n    CometChat.deleteMessage(messageId).then(deletedMessage => {\r\n\r\n      this.removeMessages([deletedMessage]);\r\n\r\n      const messageList = [...this.state.messageList];\r\n      let messageKey = messageList.findIndex(m => m.id === message.id);\r\n\r\n      if (messageList.length - messageKey === 1 && !message.replyCount) {\r\n        this.props.actionGenerated(\"messageDeleted\", [deletedMessage]);\r\n      }\r\n\r\n    }).catch(error => {\r\n      console.log(\"Message delete failed with error:\", error);\r\n    });\r\n  }\r\n\r\n  smartReplyPreview = (messages) => {\r\n\r\n    const message = messages[0];\r\n\r\n    const smartReplyData = checkMessageForExtensionsData(message, \"smart-reply\");\r\n    if (smartReplyData && smartReplyData.hasOwnProperty(\"error\") === false) {\r\n      this.setState({ replyPreview: message });\r\n    } else {\r\n      this.setState({ replyPreview: null });\r\n    }\r\n  }\r\n\r\n  //message is received or composed & sent\r\n  appendMessage = (message) => {\r\n    let messages = [...this.state.messageList];\r\n    messages = messages.concat(message);\r\n    this.setState({ messageList: messages, scrollToBottom: true });\r\n  }\r\n\r\n  //message status is updated\r\n  updateMessages = (messages) => {\r\n    this.setState({ messageList: messages });\r\n  }\r\n\r\n  //messages are fetched from backend\r\n  prependMessages = (messages) => {\r\n    const messageList = [...messages, ...this.state.messageList];\r\n    this.setState({ messageList: messageList, scrollToBottom: false });\r\n  }\r\n\r\n  //messages are deleted\r\n  removeMessages = (messages) => {\r\n  \r\n      const deletedMessage = messages[0];\r\n      const messagelist = [...this.state.messageList];\r\n\r\n      let messageKey = messagelist.findIndex(message => message.id === deletedMessage.id);\r\n      if (messageKey > -1) {\r\n\r\n        let messageObj = { ...messagelist[messageKey] };\r\n        let newMessageObj = Object.assign({}, messageObj, deletedMessage);\r\n\r\n        messagelist.splice(messageKey, 1, newMessageObj);\r\n        this.setState({ messageList: messagelist, scrollToBottom: false });\r\n      }\r\n  }\r\n\r\n  getSenderMessageComponent = (message, key) => {\r\n\r\n    let component;\r\n\r\n    switch (message.type) {\r\n      case CometChat.MESSAGE_TYPE.TEXT:\r\n        component = <CometChatSenderTextMessageBubble loggedInUser={this.loggedInUser} key={key} message={message} actionGenerated={this.actionHandler} {...this.props} />;\r\n        break;\r\n      case CometChat.MESSAGE_TYPE.IMAGE:\r\n        component = <CometChatSenderImageMessageBubble loggedInUser={this.loggedInUser} key={key} message={message} actionGenerated={this.actionHandler} {...this.props} />;\r\n        break;\r\n      case CometChat.MESSAGE_TYPE.FILE:\r\n        component = <CometChatSenderFileMessageBubble loggedInUser={this.loggedInUser} key={key} message={message} actionGenerated={this.actionHandler} {...this.props} />;\r\n        break;\r\n      case CometChat.MESSAGE_TYPE.VIDEO:\r\n        component = <CometChatSenderVideoMessageBubble loggedInUser={this.loggedInUser} key={key} message={message} actionGenerated={this.actionHandler} {...this.props} />;\r\n        break;\r\n      case CometChat.MESSAGE_TYPE.AUDIO:\r\n        component = <CometChatSenderAudioMessageBubble loggedInUser={this.loggedInUser} key={key} message={message} actionGenerated={this.actionHandler} {...this.props} />;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    return component;\r\n  }\r\n\r\n  getReceiverMessageComponent = (message, key) => {\r\n\r\n    let component;\r\n\r\n    switch (message.type) {\r\n      case \"message\":\r\n      case CometChat.MESSAGE_TYPE.TEXT:\r\n        component = <CometChatReceiverTextMessageBubble loggedInUser={this.loggedInUser} key={key} message={message} actionGenerated={this.actionHandler} {...this.props} />;\r\n        break;\r\n      case CometChat.MESSAGE_TYPE.IMAGE:\r\n        component = <CometChatReceiverImageMessageBubble loggedInUser={this.loggedInUser} key={key} message={message} actionGenerated={this.actionHandler} {...this.props} />;\r\n        break;\r\n      case CometChat.MESSAGE_TYPE.FILE:\r\n        component = <CometChatReceiverFileMessageBubble loggedInUser={this.loggedInUser} key={key} message={message} actionGenerated={this.actionHandler} {...this.props} />;\r\n        break;\r\n      case CometChat.MESSAGE_TYPE.AUDIO:\r\n        component = <CometChatReceiverAudioMessageBubble loggedInUser={this.loggedInUser} key={key} message={message} actionGenerated={this.actionHandler} {...this.props} />;\r\n        break;\r\n      case CometChat.MESSAGE_TYPE.VIDEO:\r\n        component = <CometChatReceiverVideoMessageBubble loggedInUser={this.loggedInUser} key={key} message={message} actionGenerated={this.actionHandler} {...this.props} />;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    return component;\r\n  }\r\n\r\n  getSenderCustomMessageComponent = (message, key) => {\r\n\r\n    let component;\r\n\r\n    switch (message.type) {\r\n      case enums.CUSTOM_TYPE_POLL:\r\n        component = <CometChatSenderPollMessageBubble loggedInUser={this.loggedInUser} key={key} message={message} actionGenerated={this.props.actionGenerated} {...this.props} />;\r\n        break;\r\n      case enums.CUSTOM_TYPE_STICKER:\r\n        component = <CometChatSenderStickerBubble loggedInUser={this.loggedInUser} key={key} message={message} actionGenerated={this.props.actionGenerated} {...this.props} />;\r\n        break;\r\n      case enums.CUSTOM_TYPE_DOCUMENT:\r\n        component = <CometChatSenderDocumentBubble loggedInUser={this.loggedInUser} key={key} message={message} actionGenerated={this.props.actionGenerated} {...this.props} />;\r\n        break;\r\n      case enums.CUSTOM_TYPE_WHITEBOARD:\r\n        component = <CometChatSenderWhiteboardBubble loggedInUser={this.loggedInUser} key={key} message={message} actionGenerated={this.props.actionGenerated} {...this.props} />;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    return component;\r\n  }\r\n\r\n  getReceiverCustomMessageComponent = (message, key) => {\r\n\r\n    let component;\r\n    switch (message.type) {\r\n      case enums.CUSTOM_TYPE_POLL:\r\n        component = <CometChatReceiverPollMessageBubble loggedInUser={this.loggedInUser} key={key} message={message} actionGenerated={this.props.actionGenerated} {...this.props} />;\r\n        break;\r\n      case enums.CUSTOM_TYPE_STICKER:\r\n        component = <CometChatReceiverStickerMessageBubble loggedInUser={this.loggedInUser} key={key} message={message} actionGenerated={this.props.actionGenerated} {...this.props} />;\r\n        break;\r\n      case enums.CUSTOM_TYPE_DOCUMENT:\r\n        component = <CometChatReceiverDocumentBubble loggedInUser={this.loggedInUser} key={key} message={message} actionGenerated={this.props.actionGenerated} {...this.props} />;\r\n        break;\r\n      case enums.CUSTOM_TYPE_WHITEBOARD:\r\n        component = <CometChatReceiverWhiteboardBubble loggedInUser={this.loggedInUser} key={key} message={message} actionGenerated={this.props.actionGenerated} {...this.props} />;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    return component;\r\n  }\r\n\r\n  getParentMessageComponent = (message) => {\r\n\r\n    let component = null;\r\n    const key = 1;\r\n\r\n    switch (message.category) {\r\n\r\n      case \"message\":\r\n        if (this.loggedInUser.uid === message.sender.uid) {\r\n          component = this.getSenderMessageComponent(message, key);\r\n        } else {\r\n          component = this.getReceiverMessageComponent(message, key);\r\n        }\r\n      break;\r\n      case \"custom\":\r\n        if (this.loggedInUser.uid === message.sender.uid) {\r\n          component = this.getSenderCustomMessageComponent(message, key);\r\n        } else {\r\n          component = this.getReceiverCustomMessageComponent(message, key);\r\n        }\r\n      break;\r\n      default:\r\n      break;\r\n    }\r\n\r\n    return component;\r\n  }\r\n\r\n  reactToMessage = (message) => {\r\n\r\n    this.setState({ \"messageToReact\": message });\r\n\r\n    if (this.composerRef) {\r\n      this.composerRef.toggleEmojiPicker();\r\n    }\r\n  }\r\n\r\n  render() {\r\n\r\n    let parentMessage = this.getParentMessageComponent(this.state.parentMessage);\r\n    \r\n    let seperator = (<div css={messageSeparatorStyle(this.props)}><hr/></div>);\r\n    if (this.state.parentMessage.hasOwnProperty(\"replyCount\")) {\r\n\r\n      const replyCount = this.state.parentMessage.replyCount;\r\n      const replyText = (replyCount === 1) ? (`${replyCount} ${Translator.translate(\"REPLY\", this.props.lang)}`) : (`${replyCount} ${Translator.translate(\"REPLIES\", this.props.lang)}`);\r\n\r\n      seperator = (\r\n        <div css={messageSeparatorStyle(this.props)} className=\"message__separator\">\r\n          <span css={messageReplyStyle()} className=\"message__replies\">{replyText}</span>\r\n          <hr/>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div css={wrapperStyle(this.props)} className=\"thread__chat\">\r\n        <div css={headerStyle(this.props)} className=\"chat__header\">\r\n          <div css={headerWrapperStyle()} className=\"header__wrapper\">    \r\n            <div css={headerDetailStyle()} className=\"header__details\">\r\n              <h6 css={headerTitleStyle()} className=\"header__title\">{Translator.translate(\"THREAD\", this.props.lang)}</h6>\r\n              <span css={headerNameStyle()} className=\"header__username\">{this.props.item.name}</span>\r\n            </div>\r\n            <div css={headerCloseStyle(clearIcon)} className=\"header__close\" onClick={() => this.props.actionGenerated(\"closeThreadClicked\")}></div>\r\n          </div>\r\n        </div>\r\n        <div css={messageContainerStyle()} className=\"chat__message__container\">\r\n          <div css={parentMessageStyle(this.props.parentMessage)} className=\"parent__message\">{parentMessage}</div>\r\n          {seperator}\r\n          <CometChatMessageList\r\n          theme={this.props.theme}\r\n          messages={this.state.messageList} \r\n          item={this.props.item} \r\n          type={this.props.type}\r\n          scrollToBottom={this.state.scrollToBottom}\r\n          config={this.props.config}\r\n          widgetsettings={this.props.widgetsettings}\r\n          parentMessageId={this.props.parentMessage.id}\r\n          lang={this.props.lang}\r\n          actionGenerated={this.actionHandler} />\r\n          <CometChatMessageComposer\r\n          ref={(el) => { this.composerRef = el; }}\r\n          theme={this.props.theme}\r\n          item={this.props.item} \r\n          type={this.props.type}\r\n          lang={this.props.lang}\r\n          widgetsettings={this.props.widgetsettings}\r\n          loggedInUser={this.loggedInUser}\r\n          parentMessageId={this.props.parentMessage.id}\r\n          messageToBeEdited={this.state.messageToBeEdited}\r\n          replyPreview={this.state.replyPreview}\r\n          messageToReact={this.state.messageToReact}\r\n          actionGenerated={this.actionHandler} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatMessageThread.defaultProps = {\r\n  lang: Translator.getDefaultLanguage(),\r\n  theme: theme\r\n};\r\n\r\nCometChatMessageThread.propTypes = {\r\n  lang: PropTypes.string,\r\n  theme: PropTypes.object\r\n}\r\n\r\nexport default CometChatMessageThread;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFaADAAQAAAABAAAAFQAAAAAIGxIOAAACcElEQVQ4EZ2UPYgTQRiGs3MJhoAHBoNgIQd3vYiVjaV2IhHCZqMcWFgqCqcQ9U4Uf++wsFCw8DfJhuUKUUhhk0KwUlA4sFA4EJSAhAsWggSzPt+6EyZze6dxYJj53vf93vl2ftZJbdLCMFSNRmOP4zhT9Dy9C7bquu475uFGqU4SgdF2kqskeow7bA34V7Aa3I1KpbK2jreBer1eAbtLn7S5hHhNKXWiXC4vm5wyAyqcJ67R/8VQUrdRbUDenAS6DT8fYhbBI02MM8b763qeF0heZOr7/s7BYPCRODeOmaX9nslkZkql0rfo86nwkm3I6s/pvpUYheBP6M8sbrLf718QTLVarS2YupYgBfaaz/HA71jcEvAs2BsLT7HQ0Xa7nVa9Xm8/5NYEwVW5CbRTcJExSYvEc/H+X7ZzKCTf6XT2KYTTNikxggm4x9qY+SEqPBsbPkAycnMMj+k0B1QwgJGpNm42myu8ohcssBdsM0MppiCrrXsRpjMV3sTwfRAEu/j0t8RLJp8wlwehPicQEYTBdV7LeflkTvYTlcpdPAd+a6Mc8VO5XK6N6KctgryHQdXYwwy6mjZGf9/OIf5B3qvo8pO4zF4cMUUY3Cb+Ar7IODwU8F/Ep8FnGE/Shw3OpxAvLQjuFzmwwwgntIL5GT03x1hj312R9OEWZBJVwEF8YJUrAvxvI3+Bg5Sn/ufty4RVHP4BTxnl1zdWw/AhX31cJ5l7FXLSx9gKqXigBX8ZRTdvGop++Oszk7nsu9nja2AH4z00aXnjclgtCqiydSsjJEGiqRZx4QvczwOYTIHlWaDLfDWbzb4sFotdrbPH34IuDwr79+D1AAAAAElFTkSuQmCC\"","export const msgTimestampStyle = (props, state) => {\r\n\r\n    const colorValue = (state.message.messageFrom !== \"sender\") ? {\r\n        color: `${props.theme.color.helpText}`,\r\n    } : {};\r\n\r\n    return {\r\n        display: \"inline-block\",\r\n        fontSize: \"11px\",\r\n        fontWeight: \"500\",\r\n        lineHeight: \"12px\",\r\n        textTransform: \"uppercase\",\r\n        ...colorValue,\r\n        ' > img': {\r\n            marginLeft: \"3px\",\r\n            display: \"inline-block\",\r\n            verticalAlign: \"bottom\",\r\n        }\r\n    }\r\n}","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAFo9M/3AAAAAXNSR0IArs4c6QAAARdJREFUOBFjYEAGIiIiUQg+kBeB4EFZYmJiVnDB////M8I5WBmSkpImIAkmmCxQy0MYmwFogxGcQxYDaEIaTCPcKSA3/vv3T56JiYn11atXi2AKBopGdiQLuiNERUU9WVlZD8HEwSElLi4eBZTgcXBwYAGGmOyzZ89uwBTAvQk19p+AgMDiO3fu/IQpQKGBptigCNCFw0ysLSAPfvv2zZ+bm1vo69evj2H64OkFJoCNVlFR4bty5UoCUI6Xj4/vLDY1YDEFBQUOkE3ICiQkJBRAIQhMLAHY0jE8mEGagPFh8ffvXz0g8xMjI+MWFhYWjd+/fxsB2ddev359BNlgGBvFAJgg0DZrYNLUBvHZ2NgOIUcsTM3goQFXzEj1uzh+EwAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGfSURBVHgBxZNba8JAEIXPxvsFb6gP1kvFNysqlf7/31CtUKVeHiqColRtojGJ6cxqJBLffOhAYDPZ+XbmnI2wLcvGA6HgwfC7X2zbhhAChmFAVVVo+73M+Xw+RCIRxGMxub4LcIq58HMwwP5wgE9REAgEYJgmTIJms1k8VyoS5oRwa7DdbtHt9RCPx+XGcDgMhSCn00kCP/p9RKm40WggFAzeaqDrujw5kUig1WwimUziZ7PBaDyG3+9HkvJvnY4cbzgcwiPiarWCqml4KhTkOA70d7c7t0rjhUIhVKtVzOdzL+C928V6vcbXaCQ3OxBxEY1z/KSoMx7LAxCUZNFYKHEpYAFZ1OPxeAXyOIrLiSug3WqhXq+jVCzCvgByBAtT25PpFCY5wZADiclrDyCfy8lit898Wq1Wkw5opA9DF8vl1YGbe8AfV6TBeDLBa7uNaDQqc9lMRs7NweKNyZUX6vTuPdBp1hGJyI7k83mkUykE6TR2gy1lQKlUQqVclt15AByWZWGxWOB7NjsLSL6zmHw/KlScTqdvxhT//jf+ATpuxGhM5BabAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHxSURBVHgBxVM9SytBFD2zm/VFG78QBFEQxFZstFOiaKuF4F+wyw8QrP0BgoWN4C+wEFSIKNgYLBQbm4CIFhYxL7pkk92dOe/urImb90qLd+Gy3GHvmXPPuaMogR+Egx9GrqtKyGgNVquIKxXQ9wGl4AwPwx0bgxoZAaVWkv8CJM3NJsLTU4RnZ2nd1wclX358wPE8eBsb8FZW8Nel39Ha36e/vs7m8TH16ytNvW5TVypsHhywXigwvr3NtjAFMIbhzQ1/r64yvr+nCUOaIGCrVGJULpNak3IWXV7yc2mJ0cNDB8CKaN7eEB4dwVtchDM1lVKTcaJSCXKj1SHJ3MIC1OwsoouLdMS2C8HuLsKTE0RXV4jLZbQlUjmRyHXTUb9AvPl5mOdnsNX6BnCnp+EYA3d0FO7kJOxqJA0ZAKt8ct7fDzYa3S782tyEU6vBXVuDMz6OhJzK59FTKAC9vSnYF2X99ARncDBl12aghobgFYtQ4rf9TdgwihDf3UE/PtpmEdI2xOfncGdmUnZZGxPV/WKRwd4e9fs7GcfU1Sp1rWZdEqHZ2N7m59YWje93XFDZtxBdXyM8PAQGBuAtL9vtk2YY2UqxUNQOkN/ZgTsx0dGgCyChbl5e7CaGiVUilvhvhc3NzaFHttAR0Gyo//4a/wCWnUoJxHiVrQAAAABJRU5ErkJggg==\"","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\nimport { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport { validateWidgetSettings, getMessageSentTime } from \"../../../util/common\";\r\n\r\nimport Translator from \"../../../resources/localization/translator\";\r\nimport { theme } from \"../../../resources/theme\";\r\n\r\nimport { msgTimestampStyle } from \"./style\";\r\n\r\nimport blueDoubleTick from \"./resources/blue-double-tick-icon.png\";\r\nimport greyDoubleTick from \"./resources/grey-double-tick-icon.png\";\r\nimport greyTick from \"./resources/grey-tick-icon.png\";\r\nimport sendingTick from \"./resources/sending.png\";\r\nimport errorTick from \"./resources/error.png\";\r\n\r\nclass CometChatReadReceipt extends React.PureComponent { \r\n\r\n  constructor(props) {\r\n\r\n    super(props);\r\n    this.state = {\r\n      message: props.message\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n\r\n    const previousMessageStr = JSON.stringify(prevProps.message);\r\n    const currentMessageStr = JSON.stringify(this.props.message);\r\n\r\n    if (previousMessageStr !== currentMessageStr) {\r\n      this.setState({ message: this.props.message })\r\n    }\r\n  }\r\n\r\n  render() {\r\n\r\n    let ticks, receiptText = null, dateField = null;\r\n    if(this.state.message.messageFrom === \"sender\") {\r\n\r\n      if (this.state.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\r\n\r\n        if (this.state.message.hasOwnProperty(\"error\")) {\r\n\r\n          ticks = errorTick;\r\n          receiptText = \"ERROR\";\r\n          dateField = this.state.message._composedAt;\r\n\r\n        } else {\r\n\r\n          ticks = sendingTick;\r\n          receiptText = \"SENDING\";\r\n          dateField = this.state.message._composedAt;\r\n\r\n          if (this.state.message.hasOwnProperty(\"sentAt\")) {\r\n\r\n            ticks = greyTick;\r\n            receiptText = \"SENT\";\r\n            dateField = this.state.message.sentAt;\r\n          }\r\n        }\r\n\r\n      } else {\r\n\r\n        if (this.state.message.hasOwnProperty(\"error\")) {\r\n\r\n          ticks = errorTick;\r\n          receiptText = \"ERROR\";\r\n          dateField = this.state.message._composedAt;\r\n\r\n        } else {\r\n\r\n          ticks = sendingTick;\r\n          receiptText = \"SENDING\";\r\n          dateField = this.state.message._composedAt;\r\n\r\n          if (this.state.message.hasOwnProperty(\"sentAt\")) {\r\n\r\n            ticks = greyTick;\r\n            receiptText = \"SENT\";\r\n            dateField = this.state.message.sentAt;\r\n\r\n            if (this.state.message.hasOwnProperty(\"deliveredAt\")) {\r\n\r\n              ticks = greyDoubleTick;\r\n              receiptText = \"DELIVERED\";\r\n\r\n              if (this.state.message.hasOwnProperty(\"readAt\")) {\r\n\r\n                ticks = blueDoubleTick;\r\n                receiptText = \"SEEN\";\r\n              }\r\n            }\r\n          }\r\n          \r\n        }\r\n\r\n      }\r\n\r\n    } else {\r\n      dateField = this.state.message.sentAt;\r\n    }\r\n\r\n    //if delivery receipts are disabled in chat widget\r\n    if (validateWidgetSettings(this.props.widgetsettings, \"show_delivery_read_indicators\") === false) {\r\n      ticks = null;\r\n    }\r\n    \r\n    const receipt = (ticks) ? <img src={ticks} alt={Translator.translate(receiptText, this.props.lang)} /> : null;\r\n\r\n    const timestamp = getMessageSentTime(dateField, this.props.lang);\r\n    \r\n    return(\r\n      <span css={msgTimestampStyle(this.props, this.state)} className=\"message__timestamp\">{timestamp}{receipt}</span>\r\n    )\r\n  }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatReadReceipt.defaultProps = {\r\n  lang: Translator.getDefaultLanguage(),\r\n  theme: theme,\r\n};\r\n\r\nCometChatReadReceipt.propTypes = {\r\n  lang: PropTypes.string,\r\n  theme: PropTypes.object\r\n}\r\n\r\nexport default CometChatReadReceipt;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAFo9M/3AAAAAXNSR0IArs4c6QAAAWNJREFUOBFjYEAGEhISosh8BgaQCCNMSFJS0gTGZhARETECYbgAMgOuRUxMzAokwQhUGgGkmYD435s3b1aABBn+///PCMJgDskE0Mg0kCYYDTYGZOG/f//kmZiYWIFGr2NkZAx69erVIpJNp5IGmONgNIpfRUVFPVlZWe//+fNHnoWF5eGzZ89uMImLi0cBJXgcHBxYgD6Qtba2vg3yEUgS5CiwCVDj/gkICCz++PFjND8//9I7d+78RHE10BQbkACMRpGkKYeZkOkgz3379s2fm5tb6OvXr4/R+SjBhG6YiooK34cPH8KAcfyLj49vJVCeHRgIocC4/g3iwwNCQUGBA2QysgHAFK0ACj1gQgkApT0pKSk5ZD5MLdgFwLiw+Pv3rx5Q8BPQ9C3ASNL4/fu3EZB97fXr10eAIWsINMQUxodpBtEoXgDaZg2MRG2QBBsb2yFQZAINdwEargTjg+QGFwAAd+eJSUtUxzMAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAFo9M/3AAAAAXNSR0IArs4c6QAAAWdJREFUOBHNUrtKA1EQPXeNRUDxgVqLQj7AjWjAwh8QKyvbuIIgVhYWNhYWdhFBkugPpLOwt7CwSEQLrTQI1roB44Os7nhm4YZdCyWg4MDsmTOzM3dm7gXiMlUWN84B9RjrcouyBQOJOMmmqg0mMJ5S0IjhrzfELmpQWzYZdUJEjGpEOv6wZNSKxagMScEYzDHU63RjIgxwzvOGO67+Swm2OYupeN1sSY650DzxSFFjxi3JXcpgxunDQ8tHc2wA6bqPV06h24NT88zoe4h7Bv10D4bqDTwqajAh2aLsqcNiIvin5McbzVUkHTRwwms642BrX/m3BbjLcbZ/RX3i4JnWC/pDwTWLNZWfLhrf0flyBzKoldW2ki3LPG19jBdVDyNvz5j+CFFn8qVyTdZ/ow64uR2+sXXy25SDWa7do62Pfp9tr0yWZIMnb1tObEtiBN7wLk9Y1ahxkK8umUOOUSFdsLyd+W+MTyDvnh60pF/jAAAAAElFTkSuQmCC\"","export const messageContainerStyle = () => {\r\n\r\n    return {\r\n        alignSelf: \"flex-start\",\r\n        marginBottom: \"16px\",\r\n        paddingLeft: \"16px\",\r\n        paddingRight: \"16px\",\r\n        maxWidth: \"65%\",\r\n        clear: \"both\",\r\n        position: \"relative\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flexShrink: \"0\",\r\n        \":hover\": {\r\n            \"ul.message__actions\": {\r\n                display: \"flex\"\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const messageWrapperStyle = () => {\r\n\r\n    return {\r\n        width: \"auto\",\r\n        flex: \"1 1\",\r\n        alignSelf: \"flex-start\",\r\n        display: \"flex\",\r\n    }\r\n}\r\n\r\nexport const messageThumbnailStyle = () => {\r\n\r\n    return {\r\n        width: \"36px\",\r\n        height: \"36px\",\r\n        margin: \"10px 5px\",\r\n        float: \"left\",\r\n        flexShrink: \"0\",\r\n    }\r\n}\r\n\r\nexport const messageDetailStyle = () => {\r\n\r\n    return {\r\n        flex: \"1 1\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n    }\r\n}\r\n\r\nexport const nameWrapperStyle = (avatar) => {\r\n\r\n    const paddingValue = (avatar) ? {\r\n        padding: \"3px 5px\",\r\n    } : {};\r\n\r\n    return {\r\n        alignSelf: \"flex-start\",\r\n        ...paddingValue\r\n    }\r\n}\r\n\r\nexport const nameStyle = (props) => {\r\n\r\n    return {\r\n        fontSize: \"10px\",\r\n        color: `${props.theme.color.helpText}`,\r\n    }\r\n}\r\n\r\nexport const messageAudioContainerStyle = () => {\r\n\r\n    return {\r\n        width: \"auto\",\r\n        flex: \"1 1\",\r\n        alignSelf: \"flex-start\",\r\n        display: \"flex\",\r\n    }\r\n}\r\n\r\nexport const messageAudioWrapperStyle = (props) => {\r\n\r\n    return {\r\n        display: \"inline-block\",\r\n        borderRadius: \"12px\",\r\n        alignSelf: \"flex-start\",\r\n        \" > audio\": {\r\n            maxWidth: \"250px\",\r\n            display: \"inherit\",\r\n            outline: \"none\",\r\n        }\r\n    }\r\n}\r\n\r\nexport const messageInfoWrapperStyle = () => {\r\n\r\n    return {\r\n        alignSelf: \"flex-start\",\r\n        padding: \"3px 5px\",\r\n    }\r\n}\r\n\r\nexport const messageReactionsWrapperStyle = () => {\r\n\r\n    return {\r\n        display: \"inline-flex\",\r\n        alignSelf: \"flex-start\",\r\n        width: \"100%\",\r\n        flexWrap: \"wrap\",\r\n        justifyContent: \"flex-start\",\r\n    }\r\n}","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\nimport { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\r\nimport { CometChatMessageReactions } from \"../Extensions\";\r\nimport { CometChatAvatar } from \"../../Shared\";\r\n\r\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\r\n\r\nimport { theme } from \"../../../resources/theme\";\r\n\r\nimport {\r\n  messageContainerStyle,\r\n  messageWrapperStyle,\r\n  messageThumbnailStyle,\r\n  messageDetailStyle,\r\n  nameWrapperStyle,\r\n  nameStyle,\r\n  messageAudioContainerStyle,\r\n  messageAudioWrapperStyle,\r\n  messageInfoWrapperStyle,\r\n  messageReactionsWrapperStyle\r\n} from \"./style\";\r\n\r\nclass CometChatReceiverAudioMessageBubble extends React.Component {\r\n\r\n  messageFrom = \"receiver\";\r\n\r\n  constructor(props) {\r\n\r\n    super(props);\r\n\r\n    const message = Object.assign({}, props.message, { messageFrom: this.messageFrom });\r\n\r\n    this.state = {\r\n      message: message,\r\n      isHovering: false\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n\r\n    const previousMessageStr = JSON.stringify(prevProps.message);\r\n    const currentMessageStr = JSON.stringify(this.props.message);\r\n\r\n    if (previousMessageStr !== currentMessageStr) {\r\n\r\n      const message = Object.assign({}, this.props.message, { messageFrom: this.messageFrom });\r\n      this.setState({ message: message })\r\n    }\r\n  }\r\n\r\n  handleMouseHover = () => {\r\n    this.setState(this.toggleHoverState);\r\n  }\r\n\r\n  toggleHoverState = (state) => {\r\n\r\n    return {\r\n      isHovering: !state.isHovering,\r\n    };\r\n  }\r\n\r\n  render() {\r\n\r\n    let avatar = null, name = null;\r\n    if (this.state.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\r\n\r\n      avatar = (\r\n        <div css={messageThumbnailStyle()} className=\"message__thumbnail\">\r\n          <CometChatAvatar user={this.state.message.sender} />\r\n        </div>\r\n      );\r\n\r\n      name = (<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\r\n        <span css={nameStyle(this.props)} className=\"message__name\">{this.state.message.sender.name}</span>\r\n        </div>);\r\n    }\r\n\r\n    let messageReactions = null;\r\n    const reactionsData = checkMessageForExtensionsData(this.state.message, \"reactions\");\r\n    if (reactionsData) {\r\n\r\n      if (Object.keys(reactionsData).length) {\r\n        messageReactions = (\r\n          <div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\r\n            <CometChatMessageReactions {...this.props} message={this.state.message} reaction={reactionsData} />\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n\r\n    let toolTipView = null;\r\n    if (this.state.isHovering) {\r\n      toolTipView = (<CometChatMessageActions {...this.props} message={this.state.message} name={name} />);\r\n    }\r\n\r\n    return (\r\n      <div \r\n      css={messageContainerStyle()} \r\n      className=\"receiver__message__container message__audio\"\r\n      onMouseEnter={this.handleMouseHover}\r\n      onMouseLeave={this.handleMouseHover}>\r\n        \r\n        <div css={messageWrapperStyle()} className=\"message__wrapper\">\r\n          {avatar}\r\n          <div css={messageDetailStyle()} className=\"message__details\">\r\n            {name}\r\n            {toolTipView}\r\n            <div css={messageAudioContainerStyle(this.props)} className=\"message__audio__container\">\r\n              <div css={messageAudioWrapperStyle(this.props)} className=\"message__audio__wrapper\">\r\n                <audio controls>\r\n                  <source src={this.props.message.data.url} />\r\n                </audio>\r\n              </div>\r\n            </div>\r\n\r\n            {messageReactions}\r\n\r\n            <div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\r\n              <CometChatReadReceipt {...this.props} message={this.state.message} />\r\n              <CometChatThreadedMessageReplyCount {...this.props} message={this.state.message} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatReceiverAudioMessageBubble.defaultProps = {\r\n  theme: theme,\r\n  message: {},\r\n};\r\n\r\nCometChatReceiverAudioMessageBubble.propTypes = {\r\n  theme: PropTypes.object,\r\n  message: PropTypes.object\r\n}\r\n\r\nexport default CometChatReceiverAudioMessageBubble;","export const messageContainerStyle = () => {\r\n\r\n    return {\r\n        alignSelf: \"flex-start\",\r\n        marginBottom: \"16px\",\r\n        paddingLeft: \"16px\",\r\n        paddingRight: \"16px\",\r\n        maxWidth: \"305px\",\r\n        clear: \"both\",\r\n        position: \"relative\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flexShrink: \"0\",\r\n        \":hover\": {\r\n            \"ul.message__actions\": {\r\n                display: \"flex\"\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const messageWrapperStyle = () => {\r\n\r\n    return {\r\n        width: \"auto\",\r\n        flex: \"1 1\",\r\n        alignSelf: \"flex-start\",\r\n        display: \"flex\",\r\n    }\r\n}\r\n\r\nexport const messageThumbnailStyle = () => {\r\n\r\n    return {\r\n        width: \"36px\",\r\n        height: \"36px\",\r\n        margin: \"10px 5px\",\r\n        float: \"left\",\r\n        flexShrink: \"0\",\r\n    }\r\n}\r\n\r\nexport const messageDetailStyle = () => {\r\n\r\n    return {\r\n        flex: \"1 1\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n    }\r\n}\r\n\r\nexport const nameWrapperStyle = (avatar) => {\r\n\r\n    const paddingValue = (avatar) ? {\r\n        padding: \"3px 5px\",\r\n    } : {};\r\n\r\n    return {\r\n        alignSelf: \"flex-start\",\r\n        ...paddingValue\r\n    }\r\n}\r\n\r\nexport const nameStyle = (props) => {\r\n\r\n    return {\r\n        fontSize: \"10px\",\r\n        color: `${props.theme.color.helpText}`,\r\n    }\r\n}\r\n\r\nexport const messageTxtContainerStyle = () => {\r\n\r\n    return {\r\n        width: \"auto\",\r\n        flex: \"1 1\",\r\n        alignSelf: \"flex-start\",\r\n        display: \"flex\",\r\n        \"img\": {\r\n            width: \"35px\"\r\n        }\r\n    }\r\n}\r\n\r\nexport const messageTxtWrapperStyle = (props) => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        borderRadius: \"12px\",\r\n        backgroundColor: `${props.theme.backgroundColor.secondary}`,\r\n        padding: \"16px\",\r\n        alignSelf: \"flex-start\",\r\n        width: \"100%\",\r\n        minHeight: \"106px\",\r\n    }\r\n}\r\n\r\nexport const messageTxtTitleStyle = (props) => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        color: `${props.theme.color.primary}`,\r\n    }\r\n}\r\n\r\nexport const messageTxtStyle = () => {\r\n\r\n    return {\r\n        margin: \"0\",\r\n        whiteSpace: \"pre-wrap\",\r\n        wordWrap: \"break-word\",\r\n        textAlign: \"left\",\r\n        width: \"100%\",\r\n        fontSize: \"14px\",\r\n        marginLeft: \"8px\"\r\n    }\r\n}\r\n\r\nexport const messageBtnStyle = (props) => {\r\n\r\n    return {\r\n        listStyleType: \"none\",\r\n        padding: \"0\",\r\n        margin: \"0\",\r\n        \"li\": {\r\n            backgroundColor: `${props.theme.backgroundColor.white}`,\r\n            borderRadius: \"8px\",\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n            width: \"100%\",\r\n            cursor: \"pointer\",\r\n            position: \"relative\",\r\n            margin: \"16px 0 0 0\",\r\n            padding: \"8px\",\r\n            \"> p\": {\r\n                background: \"0 0\",\r\n                textAlign: \"center\",\r\n                color: `${props.theme.color.primary}`,\r\n                width: \"100%\",\r\n                display: \"inline-block\",\r\n                fontSize: \"14px\",\r\n                margin: \"0\",\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport const messageInfoWrapperStyle = () => {\r\n\r\n    return {\r\n        alignSelf: \"flex-start\",\r\n        padding: \"3px 5px\",\r\n    }\r\n}\r\n\r\nexport const messageReactionsWrapperStyle = () => {\r\n\r\n    return {\r\n        display: \"inline-flex\",\r\n        alignSelf: \"flex-start\",\r\n        width: \"100%\",\r\n        flexWrap: \"wrap\",\r\n        justifyContent: \"flex-start\",\r\n    }\r\n}","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\nimport { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\r\nimport { CometChatMessageReactions } from \"../Extensions\";\r\nimport { CometChatAvatar } from \"../../Shared\";\r\n\r\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\r\nimport * as enums from \"../../../util/enums.js\";\r\n\r\nimport { theme } from \"../../../resources/theme\";\r\nimport Translator from \"../../../resources/localization/translator\";\r\n\r\nimport {\r\n    messageContainerStyle,\r\n    messageWrapperStyle,\r\n    messageThumbnailStyle,\r\n    messageDetailStyle,\r\n    nameWrapperStyle,\r\n    nameStyle,\r\n    messageTxtContainerStyle,\r\n    messageTxtWrapperStyle,\r\n    messageTxtTitleStyle,\r\n    messageTxtStyle,\r\n    messageBtnStyle,\r\n    messageInfoWrapperStyle,\r\n    messageReactionsWrapperStyle\r\n} from \"./style\";\r\n\r\nimport callIcon from \"./resources/receivervideocall.png\";\r\n\r\nclass CometChatReceiverDirectCallBubble extends React.Component {\r\n\r\n    messageFrom = \"receiver\";\r\n\r\n    constructor(props) {\r\n\r\n        super(props);\r\n\r\n        const message = Object.assign({}, props.message, { messageFrom: this.messageFrom });\r\n        this.state = {\r\n            message: message,\r\n            isHovering: false\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n\r\n        const previousMessageStr = JSON.stringify(prevProps.message);\r\n        const currentMessageStr = JSON.stringify(this.props.message);\r\n\r\n        if (previousMessageStr !== currentMessageStr) {\r\n\r\n            const message = Object.assign({}, this.props.message, { messageFrom: this.messageFrom });\r\n            this.setState({ message: message })\r\n        }\r\n    }\r\n\r\n    handleMouseHover = () => {\r\n        this.setState(this.toggleHoverState);\r\n    }\r\n\r\n    toggleHoverState = (state) => {\r\n\r\n        return {\r\n            isHovering: !state.isHovering,\r\n        };\r\n    }\r\n\r\n    render () {\r\n\r\n        let avatar = null, name = null;\r\n        if (this.state.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\r\n\r\n            avatar = (\r\n                <div css={messageThumbnailStyle} className=\"message__thumbnail\">\r\n                    <CometChatAvatar user={this.state.message.sender} />\r\n                </div>\r\n            );\r\n\r\n            name = (<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\r\n                <span css={nameStyle(this.props)} className=\"message__name\">{this.props.message.sender.name}</span>\r\n            </div>);\r\n        }\r\n\r\n        let messageReactions = null;\r\n        const reactionsData = checkMessageForExtensionsData(this.state.message, \"reactions\");\r\n        if (reactionsData) {\r\n\r\n            if (Object.keys(reactionsData).length) {\r\n                messageReactions = (\r\n                    <div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\r\n                        <CometChatMessageReactions  {...this.props} message={this.state.message} reaction={reactionsData} />\r\n                    </div>\r\n                );\r\n            }\r\n        }\r\n\r\n        let toolTipView = null;\r\n        if (this.state.isHovering) {\r\n            toolTipView = (<CometChatMessageActions {...this.props} message={this.state.message} name={name} />);\r\n        }\r\n\r\n        const messageTitle = `${this.state.message.sender.name} ${Translator.translate(\"INITIATED_GROUP_CALL\", this.props.lang)}`;\r\n\r\n        return (\r\n            <div css={messageContainerStyle()} \r\n            className=\"receiver__message__container message__directcall\"\r\n            onMouseEnter={this.handleMouseHover}\r\n            onMouseLeave={this.handleMouseHover}>\r\n\r\n                <div css={messageWrapperStyle()} className=\"message__wrapper\">\r\n                    {avatar}\r\n                    <div css={messageDetailStyle()} className=\"message__details\">\r\n                        {name}\r\n                        {toolTipView}\r\n                        <div css={messageTxtContainerStyle()} className=\"message__directcall__container\">\r\n                            <div css={messageTxtWrapperStyle(this.props)} className=\"message__directcall__wrapper\">\r\n                                <div css={messageTxtTitleStyle(this.props)} className=\"message__directcall__title\">\r\n                                    <img src={callIcon} alt={Translator.translate(\"VIDEO_CALL\", this.props.lang)} />\r\n                                    <p css={messageTxtStyle()} className=\"directcall__title\">{messageTitle}</p>\r\n                                </div>\r\n\r\n                                <ul css={messageBtnStyle(this.props)} className=\"directcall__button\">\r\n                                    <li onClick={() => this.props.actionGenerated(enums.ACTIONS[\"JOIN_DIRECT_CALL\"], this.state.message)}>\r\n                                        <p>{Translator.translate(\"JOIN\", this.props.lang)}</p>\r\n                                    </li>\r\n                                </ul>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {messageReactions}\r\n\r\n                        <div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\r\n                            <CometChatReadReceipt {...this.props} message={this.state.message} />\r\n                            <CometChatThreadedMessageReplyCount {...this.props} message={this.state.message} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatReceiverDirectCallBubble.defaultProps = {\r\n    lang: Translator.getDefaultLanguage(),\r\n    theme: theme,\r\n    message: {},\r\n    loggedInUser: {}\r\n};\r\n\r\nCometChatReceiverDirectCallBubble.propTypes = {\r\n    lang: PropTypes.string,\r\n    theme: PropTypes.object,\r\n    message: PropTypes.object,\r\n    loggedInUser: PropTypes.object\r\n}\r\n\r\nexport default CometChatReceiverDirectCallBubble;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAAgCAYAAAC7FpAiAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAMaADAAQAAAABAAAAIAAAAAA8cTDNAAAETUlEQVRYCe2YXYiVRRjHn3n3rOZX7V5kCBsquRFdiLl73DKVXUohCLHADygkNTcsIZO6CKTdm/JGrQsR3JNbSF8beOWF9AGun7W7ihYopFSkiKTFFip+7PGdfs+cM6fXw3r2HM7Zw3vhHN4zM88zM8//P/PMMPMYiaSWlG1IW3ndiDyL+BErUi9WqFYuGSM3GO0va+VYEMieCTPkq942ky7HQg5g80673hrZCugx5QxYal9InQpEXuxvN2dK7evbOxIQeItZ3+aFzL3ldx4DZ5ixwZy8zALGahhiOrYaySdGhrtIuen4a0bzEVOntUGnMaFvaOak7PTbofyCoFaFAO/F2PqBdnPKN6p03rTT1gZG3gytdDC2J/MFJF4qZIt+i9BvBt9MJvpETUJe6VttTgcQeAOFI0D+08RGWTiaBBQkYIewsYU98arWNTF5y+d32wcztTv/rbWmqct+gPQbvtmsZAIPSabT8qW2DOj8jBY01QSysdxNlhmpuP+BtaYH+0e0NaBqrqdlQX5PZn98c0r24N7v5uuQzZy7204OYDXNK+vGSp8vVzHP2QTL1KhdPS1xncOAfUHlEL5hdPWMWxHX9NaQ1HMwyAOuJnLx25XmWrZctQzgZyPGPBZJdtlkOpR+9E9k9RcgtODYWrOL/EKkjwSwROZYXokqqlVmg1/N2cpiwYWW4l4HkE9xOiM/kifZRwO5tpGCrkRsEoQMK/Ae09rDCoxzwIx8OrlBWgsdv4nYMAAIR66elPWKCf+/DZm3cZ+PtF4oxYoEQB0B8kF8fBmn1/eFwHtd3EgortN8i/H/Xz3IkfJY7Qlc6MB9CXkS/y+agBKMFQlOpINH1piST8lYkRjJbe6mv0fibjNTbXm8VsJIa8tn9v5SJyFeJKzMT1+TvpZPbGMpROJFIoP8sfQt6WtO2YXFEokbiX+zwDVAsQ8iG4ohEisSvBW2872vwPWRZEP5kPd/99KvbcHgRaxIADrkwreJ2+zL8LjpyIis+v0f2c8D6SGtD5cCborceh3zScM1GG0ZN1cfKODqmsHCvelzggBtXEP+zGKbSyxggHfG7OHw6Ep4P5yyaLedMFyj0ZRxW42eRB6L9K8xP+BScyD2s9pnph+m7eFkyq5C3hDFpC+7P7zg7+t0qnJyQLM2AZnDoiIugucm1cnTyPdqXR9KYSjdFDV049KYWhlUd+rN1vUhso1NpAGuqiR9hmJonhrTR9C4hBzMN9y7zFx9vl2WgHNLvo4+J4+uNJcCEO9A6aJpzMqs3wblu5Zu+3h+h0rWW/fbBHGkjYDY5cfFds+h1eayr0fzTqJ9x9vNO4B9jj796G6SHyWeuELbsVIinMcdnAydWnYps8HOoTzL4BUNY+IS07DxKN//G5pIC/Wiw5i0vSM5Ehpha+6STbDrAHTV3EmRYLMyAWVP66mP7YyhUNaxg9rcjBmpo+yI+jbl5oCueGj/PwaBULXZIFOpAAAAAElFTkSuQmCC\"","export const messageContainerStyle = () => {\r\n\r\n    return {\r\n        alignSelf: \"flex-start\",\r\n        marginBottom: \"16px\",\r\n        paddingLeft: \"16px\",\r\n        paddingRight: \"16px\",\r\n        maxWidth: \"65%\",\r\n        clear: \"both\",\r\n        position: \"relative\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flexShrink: \"0\",\r\n        \":hover\": {\r\n            \"ul.message__actions\": {\r\n                display: \"flex\"\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const messageWrapperStyle = () => {\r\n\r\n    return {\r\n        width: \"auto\",\r\n        flex: \"1 1\",\r\n        alignSelf: \"flex-start\",\r\n        display: \"flex\",\r\n    }\r\n}\r\n\r\nexport const messageThumbnailStyle = () => {\r\n\r\n    return {\r\n        width: \"36px\",\r\n        height: \"36px\",\r\n        margin: \"10px 5px\",\r\n        float: \"left\",\r\n        flexShrink: \"0\",\r\n    }\r\n}\r\n\r\nexport const messageDetailStyle = () => {\r\n\r\n    return {\r\n        flex: \"1 1\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n    }\r\n}\r\n\r\nexport const nameWrapperStyle = (avatar) => {\r\n\r\n    const paddingValue = (avatar) ? {\r\n        padding: \"3px 5px\",\r\n    } : {};\r\n\r\n    return {\r\n        alignSelf: \"flex-start\",\r\n        ...paddingValue\r\n    }\r\n}\r\n\r\nexport const nameStyle = (props) => {\r\n\r\n    return {\r\n        fontSize: \"10px\",\r\n        color: `${props.theme.color.helpText}`,\r\n    }\r\n}\r\n\r\nexport const messageFileContainerStyle = () => {\r\n\r\n    return {\r\n        width: \"auto\",\r\n        flex: \"1 1\",\r\n        alignSelf: \"flex-start\",\r\n        display: \"flex\",\r\n    }\r\n}\r\n\r\nexport const messageFileWrapperStyle = (props) => {\r\n\r\n    return {\r\n        display: \"inline-block\",\r\n        borderRadius: \"12px\",\r\n        color: `${props.theme.color.secondary}`,\r\n        backgroundColor: `${props.theme.backgroundColor.secondary}`,\r\n        padding: \"8px 16px\",\r\n        alignSelf: \"flex-start\",\r\n        width: \"auto\",\r\n        \"> a\": {\r\n            background: \"0 0\",\r\n            textDecoration: \"none\",\r\n            backgroundColor: \"transparent\",\r\n            color: `${props.theme.color.primary}`,\r\n            width: \"auto\",\r\n            fontSize: \"14px\",\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            \"&:visited, &:active, &:hover\": {\r\n                color: `${props.theme.color.primary}`,\r\n                textDecoration: \"none\",\r\n            },\r\n            \"img\": {\r\n                marginRight: \"8px\",\r\n            },\r\n            \"label\": {\r\n                cursor: \"pointer\"\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const messageInfoWrapperStyle = () => {\r\n\r\n    return {\r\n        alignSelf: \"flex-start\",\r\n        padding: \"3px 5px\",\r\n    }\r\n}\r\n\r\nexport const messageReactionsWrapperStyle = () => {\r\n\r\n    return {\r\n        display: \"inline-flex\",\r\n        alignSelf: \"flex-start\",\r\n        width: \"100%\",\r\n        flexWrap: \"wrap\",\r\n        justifyContent: \"flex-start\",\r\n    }\r\n}","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\nimport { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\r\nimport { CometChatMessageReactions } from \"../Extensions\";\r\nimport { CometChatAvatar } from \"../../Shared\";\r\n\r\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\r\n\r\nimport { theme } from \"../../../resources/theme\";\r\nimport Translator from \"../../../resources/localization/translator\";\r\n\r\nimport { \r\n  messageContainerStyle,\r\n  messageWrapperStyle,\r\n  messageThumbnailStyle,\r\n  messageDetailStyle,\r\n  nameWrapperStyle,\r\n  nameStyle,\r\n  messageFileContainerStyle,\r\n  messageFileWrapperStyle,\r\n  messageInfoWrapperStyle,\r\n  messageReactionsWrapperStyle\r\n} from \"./style\";\r\n\r\nimport blueFile from \"./resources/receiverfile.png\";\r\n\r\nclass CometChatReceiverFileMessageBubble extends React.Component {\r\n\r\n  messageFrom = \"receiver\";\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const message = Object.assign({}, props.message, { messageFrom: this.messageFrom });\r\n\r\n    this.state = {\r\n      message: message,\r\n      isHovering: false\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n\r\n    const previousMessageStr = JSON.stringify(prevProps.message);\r\n    const currentMessageStr = JSON.stringify(this.props.message);\r\n\r\n    if (previousMessageStr !== currentMessageStr) {\r\n\r\n      const message = Object.assign({}, this.props.message, { messageFrom: this.messageFrom });\r\n      this.setState({ message: message })\r\n    }\r\n  }\r\n\r\n  handleMouseHover = () => {\r\n    this.setState(this.toggleHoverState);\r\n  }\r\n\r\n  toggleHoverState = (state) => {\r\n\r\n    return {\r\n      isHovering: !state.isHovering,\r\n    };\r\n  }\r\n\r\n  render() {\r\n\r\n    let avatar = null, name = null;\r\n    if (this.state.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\r\n\r\n      avatar = (\r\n        <div css={messageThumbnailStyle()} className=\"message__thumbnail\">\r\n          <CometChatAvatar user={this.state.message.sender} />\r\n        </div>\r\n      );\r\n\r\n      name = (<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\r\n        <span css={nameStyle(this.props)} className=\"message__name\">{this.state.message.sender.name}</span>\r\n        </div>);\r\n    }\r\n\r\n    let messageReactions = null;\r\n    const reactionsData = checkMessageForExtensionsData(this.state.message, \"reactions\");\r\n    if (reactionsData) {\r\n\r\n      if (Object.keys(reactionsData).length) {\r\n        messageReactions = (\r\n          <div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\r\n            <CometChatMessageReactions {...this.props} message={this.state.message} reaction={reactionsData} />\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n\r\n    let toolTipView = null;\r\n    if (this.state.isHovering) {\r\n      toolTipView = (<CometChatMessageActions {...this.props} message={this.state.message} name={name} />);\r\n    }\r\n\r\n    return (\r\n      <div \r\n      css={messageContainerStyle()} \r\n      className=\"receiver__message__container message__file\"\r\n      onMouseEnter={this.handleMouseHover}\r\n      onMouseLeave={this.handleMouseHover}>\r\n        \r\n        <div css={messageWrapperStyle()} className=\"message__wrapper\">\r\n          {avatar}\r\n          <div css={messageDetailStyle()} className=\"message__details\">\r\n            {name}\r\n            {toolTipView}\r\n            <div css={messageFileContainerStyle(this.props)} className=\"message__file__container\">\r\n              <div css={messageFileWrapperStyle(this.props)} className=\"message__file__wrapper\">\r\n                <a href={this.state.message.data.attachments[0].url} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                  <img src={blueFile} alt={this.state.message.data.attachments[0].url} />\r\n                  <label>{this.state.message.data.attachments[0].name}</label>\r\n                </a>\r\n              </div>\r\n            </div>\r\n\r\n            {messageReactions}\r\n\r\n            <div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\r\n              <CometChatReadReceipt {...this.props} message={this.state.message} />\r\n              <CometChatThreadedMessageReplyCount {...this.props} message={this.state.message} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatReceiverFileMessageBubble.defaultProps = {\r\n  lang: Translator.getDefaultLanguage(),\r\n  theme: theme\r\n};\r\n\r\nCometChatReceiverFileMessageBubble.propTypes = {\r\n  lang: PropTypes.string,\r\n  theme: PropTypes.object\r\n}\r\n\r\nexport default CometChatReceiverFileMessageBubble;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAgCAYAAADnnNMGAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGaADAAQAAAABAAAAIAAAAAD0wk2pAAACf0lEQVRIDe2Wv2sTYRjHn/dyUQelVBEXHVpBweog5hqHLg4KQkEotWCRgsXW3b8gLTq6dGtaSiVYqrUiCIqDIC5WY9xcXIrURUGH4mJ6udfPE3LQXO4CSTNJnvL2fX7d93mf73uX9zWCeEv2hPXlPmrWWuljTqu/QYxY/rbFSMlxZKZ427xryIlxmFqBL4AfioknuoyIT7HJT9OmkJhUC7h0cK9W4A++nGPkPeNv3IN+IHfxj1PglxU5QlfLXt4GxWnzKC4/9LkkZmtGrnTHPAgDcXMmb3+wIDFG5oifRJ/AfIi/Qkercc+ozyGpv6rQQVJS1A94ZXhKbuFfQU+x0MKFeXs9mhfaDkp1k5MoChOjc86YoL9XJqDuMQt1mVe8BTsSzVNbi7Qta2OmcvCU3IS+dS0UBLKaWbDXooB7KqJgby8ZH8puoD5npNGfDObtsMZC2XMRBeKF2WEag7IX7M++ipWnvAxXO1okLNTXK6NQ9xJ7P+MZL8MVjbXVCUApfTgq7FH56HEZ4SN9DW0HiK9nl+wZN5rYzGZzf2s8sDLKKr+hKk118nOL78iRNZwehQ77fOwtFeE9feWLzML7OUCW69B3GTbYZYgMtVTkw5QpeYv2MiDjrPJYHVSj0YNriNHTUhHF4Zf3DZOOppJZtOdtRT7TtdvWxjdFjwl2i8SQkuzq0pXMTUykS1cMKcmu/4kuI2VtlDNCT7OOCbcfPbT0jlZ2jJXNGrLXsQoA8Qs8qHgcdJsu/zbQT9PJTGaeUEo+tnoHU7BQlBFQLnLezKqPJjbavnCHoM1mbi/bKUcGnOKk2TKuDMBdgfGVhxrO7WZAMbEdxanipeUsp+n3fzx9zTKZd9H5AAAAAElFTkSuQmCC\"","export const messageContainerStyle = () => {\r\n\r\n    return {\r\n        alignSelf: \"flex-start\",\r\n        marginBottom: \"16px\",\r\n        paddingLeft: \"16px\",\r\n        paddingRight: \"16px\",\r\n        maxWidth: \"65%\",\r\n        clear: \"both\",\r\n        position: \"relative\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flexShrink: \"0\",\r\n        \":hover\": {\r\n            \"ul.message__actions\": {\r\n                display: \"flex\"\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const messageWrapperStyle = () => {\r\n\r\n    return {\r\n        width: \"auto\",\r\n        flex: \"1 1\",\r\n        alignSelf: \"flex-start\",\r\n        display: \"flex\",\r\n    }\r\n}\r\n\r\nexport const messageThumbnailStyle = () => {\r\n\r\n    return {\r\n        width: \"36px\",\r\n        height: \"36px\",\r\n        margin: \"10px 5px\",\r\n        float: \"left\",\r\n        flexShrink: \"0\",\r\n    }\r\n}\r\n\r\nexport const messageDetailStyle = () => {\r\n\r\n    return {\r\n        flex: \"1 1\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n    }\r\n}\r\n\r\nexport const nameWrapperStyle = (avatar) => {\r\n\r\n    const paddingValue = (avatar) ? {\r\n        padding: \"3px 5px\",\r\n    } : {};\r\n\r\n    return {\r\n        alignSelf: \"flex-start\",\r\n        ...paddingValue\r\n    }\r\n}\r\n\r\nexport const nameStyle = (props) => {\r\n\r\n    return {\r\n        fontSize: \"10px\",\r\n        color: `${props.theme.color.helpText}`,\r\n    }\r\n}\r\n\r\nexport const messageImgContainerStyle = () => {\r\n\r\n    return {\r\n        width: \"auto\",\r\n        flex: \"1 1\",\r\n        alignSelf: \"flex-start\",\r\n        display: \"flex\",\r\n    }\r\n}\r\n\r\nexport const messageImgWrapperStyle = (props) => {\r\n\r\n    const mq = [...props.theme.breakPoints];\r\n\r\n    return {\r\n        display: \"inline-block\",\r\n        alignSelf: \"flex-start\",\r\n        maxWidth: \"300px\",\r\n        height: \"200px\",\r\n        cursor: \"pointer\",\r\n        'img': {\r\n            borderRadius: \"8px\",\r\n            height: \"100%\",\r\n        },\r\n        [`@media ${mq[0]}`]: {\r\n            minWidth: \"50px\",\r\n            maxWidth: \"150px\",\r\n            height: \"100px\",\r\n            padding: \"2px 2px\",\r\n        }\r\n    }\r\n}\r\n\r\nexport const messageInfoWrapperStyle = () => {\r\n\r\n    return {\r\n        alignSelf: \"flex-start\",\r\n        padding: \"3px 5px\",\r\n    }\r\n}\r\n\r\nexport const messageReactionsWrapperStyle = () => {\r\n\r\n    return {\r\n        display: \"inline-flex\",\r\n        alignSelf: \"flex-start\",\r\n        width: \"100%\",\r\n        flexWrap: \"wrap\",\r\n        justifyContent: \"flex-start\",\r\n    }\r\n}","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\nimport { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\r\nimport { CometChatMessageReactions } from \"../Extensions\";\r\nimport { CometChatAvatar } from \"../../Shared\";\r\n\r\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\r\n\r\nimport { theme } from \"../../../resources/theme\";\r\nimport Translator from \"../../../resources/localization/translator\";\r\n\r\nimport {\r\n  messageContainerStyle,\r\n  messageWrapperStyle,\r\n  messageThumbnailStyle,\r\n  messageDetailStyle,\r\n  nameWrapperStyle,\r\n  nameStyle,\r\n  messageImgContainerStyle,\r\n  messageImgWrapperStyle,\r\n  messageInfoWrapperStyle,\r\n  messageReactionsWrapperStyle\r\n} from \"./style\";\r\n\r\nimport srcIcon from \"./resources/1px.png\";\r\n\r\nclass CometChatReceiverImageMessageBubble extends React.PureComponent {\r\n\r\n  messageFrom = \"receiver\";\r\n\r\n  constructor(props) {\r\n\r\n    super(props);\r\n\r\n    this.imgRef = React.createRef();\r\n\r\n    const message = Object.assign({}, props.message, { messageFrom: this.messageFrom });\r\n\r\n    this.state = {\r\n      message: message,\r\n      imageUrl: srcIcon,\r\n      isHovering: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setImage();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n\r\n    const previousMessageStr = JSON.stringify(prevProps.message);\r\n    const currentMessageStr = JSON.stringify(this.props.message);\r\n\r\n    if (previousMessageStr !== currentMessageStr) {\r\n\r\n      const message = Object.assign({}, this.props.message, { messageFrom: this.messageFrom });\r\n      this.setState({ message: message })\r\n    }\r\n  }\r\n  \r\n  chooseImage = (thumbnailGenerationObject) => {\r\n\r\n    const smallUrl = thumbnailGenerationObject[\"url_small\"];\r\n    const mediumUrl = thumbnailGenerationObject[\"url_medium\"];\r\n\r\n    const mq = window.matchMedia(this.props.theme.breakPoints[0]);\r\n\r\n    let imageToDownload = mediumUrl;\r\n    if (mq.matches) {\r\n      imageToDownload = smallUrl;\r\n    }\r\n\r\n    return imageToDownload;\r\n  }\r\n\r\n  setImage = () => {\r\n\r\n    const thumbnailGenerationData = checkMessageForExtensionsData(this.state.message, \"thumbnail-generation\");\r\n    if (thumbnailGenerationData) {\r\n\r\n      const mq = window.matchMedia(this.props.theme.breakPoints[0]);\r\n      mq.addListener(() => {\r\n\r\n        const imageToDownload = this.chooseImage(thumbnailGenerationData);\r\n        let img = new Image();\r\n        img.src = imageToDownload;\r\n        img.onload = () => this.setState({ imageUrl: img.src });\r\n\r\n      });\r\n\r\n      const imageToDownload = this.chooseImage(thumbnailGenerationData);\r\n      this.downloadImage(imageToDownload).then(response => {\r\n\r\n        let img = new Image();\r\n        img.src = imageToDownload;\r\n        img.onload = () => {\r\n\r\n          this.setState({ imageUrl: img.src });\r\n        }\r\n\r\n      }).catch(error => console.error(error));\r\n\r\n    } else {\r\n      this.setMessageImageUrl();\r\n    }\r\n  }\r\n\r\n  setMessageImageUrl = () => {\r\n\r\n    let img = new Image();\r\n    img.src = this.state.message.data.url;\r\n    img.onload = () => this.setState({ imageUrl: img.src });\r\n  }\r\n\r\n  downloadImage(imgUrl) {\r\n\r\n    const promise = new Promise((resolve, reject) => {\r\n\r\n      const xhr = new XMLHttpRequest();\r\n      xhr.open(\"GET\", imgUrl, true);\r\n      xhr.responseType = \"blob\";\r\n\r\n      xhr.onload = () => {\r\n\r\n        if (xhr.readyState === 4) {\r\n\r\n          if (xhr.status === 200) {\r\n\r\n            this.timer = null;\r\n            resolve(xhr.response);\r\n\r\n          } else if (xhr.status === 403) {\r\n\r\n            this.timer = setTimeout(() => {\r\n\r\n              this.downloadImage(imgUrl).then(response => resolve(response)).catch(error => reject(error));\r\n\r\n            }, 800);\r\n          }\r\n\r\n        } else {\r\n          reject(xhr.statusText);\r\n        }\r\n\r\n      }\r\n\r\n      xhr.onerror = event => reject(new Error('There was a network error.', event));\r\n      xhr.ontimeout = event => reject(new Error('There was a timeout error.', event));\r\n      xhr.send();\r\n\r\n    });\r\n\r\n    return promise;\r\n  }\r\n\r\n  open = () => {\r\n    this.props.actionGenerated(\"viewActualImage\", this.state.message);\r\n  }\r\n\r\n  handleMouseHover = () => {\r\n    this.setState(this.toggleHoverState);\r\n  }\r\n\r\n  toggleHoverState = (state) => {\r\n\r\n    return {\r\n      isHovering: !state.isHovering,\r\n    };\r\n  }\r\n\r\n  render() {\r\n\r\n    let avatar = null, name = null;\r\n    if (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\r\n\r\n      avatar = (\r\n        <div css={messageThumbnailStyle()} className=\"message__thumbnail\">\r\n          <CometChatAvatar user={this.state.message.sender} />\r\n        </div>\r\n      );\r\n\r\n      name = (<div css={(nameWrapperStyle(avatar))} className=\"message__name__wrapper\">\r\n        <span css={nameStyle(this.props)} className=\"message__name\">{this.state.message.sender.name}</span>\r\n        </div>);\r\n    }\r\n\r\n    let messageReactions = null;\r\n    const reactionsData = checkMessageForExtensionsData(this.state.message, \"reactions\");\r\n    if (reactionsData) {\r\n\r\n      if (Object.keys(reactionsData).length) {\r\n        messageReactions = (\r\n          <div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\r\n            <CometChatMessageReactions  {...this.props} message={this.state.message} reaction={reactionsData} />\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n\r\n    let toolTipView = null;\r\n    if (this.state.isHovering) {\r\n      toolTipView = (<CometChatMessageActions {...this.props} message={this.state.message} name={name} />);\r\n    }\r\n\r\n    return (\r\n      <div \r\n      css={messageContainerStyle()} \r\n      className=\"receiver__message__container message__image\"\r\n      onMouseEnter={this.handleMouseHover}\r\n      onMouseLeave={this.handleMouseHover}>\r\n        \r\n        <div css={messageWrapperStyle()} className=\"message__wrapper\">\r\n          {avatar}\r\n          <div css={messageDetailStyle(name)} className=\"message__details\">\r\n            {name}\r\n            {toolTipView}\r\n            <div css={messageImgContainerStyle()} className=\"message__image__container\">\r\n              <div css={messageImgWrapperStyle(this.props)} onClick={this.open} className=\"message__image__wrapper\">\r\n                <img src={this.state.imageUrl} alt={this.state.imageUrl} ref={el => { this.imgRef = el; }} />\r\n              </div>\r\n            </div>\r\n\r\n            {messageReactions}\r\n\r\n            <div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\r\n              <CometChatReadReceipt {...this.props} message={this.state.message} />\r\n              <CometChatThreadedMessageReplyCount {...this.props} message={this.state.message} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatReceiverImageMessageBubble.defaultProps = {\r\n  lang: Translator.getDefaultLanguage(),\r\n  theme: theme\r\n};\r\n\r\nCometChatReceiverImageMessageBubble.propTypes = {\r\n  lang: PropTypes.string,\r\n  theme: PropTypes.object\r\n}\r\n\r\nexport default CometChatReceiverImageMessageBubble;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEXx7OqhaJO7AAAAAXRSTlPM0jRW/QAAAApJREFUeJxjYgAAAAYAAzY3fKgAAAAASUVORK5CYII=\"","export const messageContainerStyle = () => {\r\n\r\n    return {\r\n        alignSelf: \"flex-start\",\r\n        marginBottom: \"16px\",\r\n        paddingLeft: \"16px\",\r\n        paddingRight: \"16px\",\r\n        maxWidth: \"65%\",\r\n        clear: \"both\",\r\n        position: \"relative\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flexShrink: \"0\",\r\n        \":hover\": {\r\n            \"ul.message__actions\": {\r\n                display: \"flex\"\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const messageWrapperStyle = () => {\r\n\r\n    return {\r\n        width: \"auto\",\r\n        flex: \"1 1\",\r\n        alignSelf: \"flex-start\",\r\n        display: \"flex\",\r\n    }\r\n}\r\n\r\nexport const messageThumbnailStyle = () => {\r\n\r\n    return {\r\n        width: \"36px\",\r\n        height: \"36px\",\r\n        margin: \"10px 5px\",\r\n        float: \"left\",\r\n        flexShrink: \"0\",\r\n    }\r\n}\r\n\r\nexport const messageDetailStyle = () => {\r\n\r\n    return {\r\n        flex: \"1 1\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n    }\r\n}\r\n\r\nexport const nameWrapperStyle = (avatar) => {\r\n\r\n    const paddingValue = (avatar) ? {\r\n        padding: \"3px 5px\",\r\n    } : {};\r\n\r\n    return {\r\n        alignSelf: \"flex-start\",\r\n        ...paddingValue\r\n    }\r\n}\r\n\r\nexport const nameStyle = (props) => {\r\n\r\n    return {\r\n        fontSize: \"10px\",\r\n        color: `${props.theme.color.helpText}`,\r\n    }\r\n}\r\n\r\nexport const messageTxtContainerStyle = () => {\r\n\r\n    return {\r\n        width: \"auto\",\r\n        flex: \"1 1\",\r\n        display: \"flex\",\r\n        alignSelf: \"flex-start\",\r\n    }\r\n}\r\n\r\nexport const messageTxtWrapperStyle = (props) => {\r\n\r\n    return {\r\n        display: \"inline-block\",\r\n        borderRadius: \"12px\",\r\n        backgroundColor: `${props.theme.backgroundColor.secondary}`,\r\n        padding: \"8px 16px\",\r\n        width: \"auto\",\r\n    }\r\n}\r\n\r\nexport const messageTxtStyle = (parsedMessage, emojiMessage, showVariation) => {\r\n\r\n    let emojiAlignmentProp = {\r\n        \" > img\": {\r\n            width: \"24px\",\r\n            height: \"24px\",\r\n            display: \"inline-block\",\r\n            verticalAlign: \"top\",\r\n            zoom: \"1\",\r\n            margin: \"0 2px\"\r\n        }\r\n    };\r\n\r\n    let emojiProp = {};\r\n\r\n    if (parsedMessage.length === emojiMessage.length && emojiMessage.length === 1) {\r\n        emojiProp = {\r\n            \"> img\": {\r\n                width: \"48px\",\r\n                height: \"48px\",\r\n            }\r\n        };\r\n    } else if (parsedMessage.length === emojiMessage.length && emojiMessage.length === 2) {\r\n        emojiProp = {\r\n            \"> img\": {\r\n                width: \"36px\",\r\n                height: \"36px\",\r\n            }\r\n        };\r\n    } else if (parsedMessage.length === emojiMessage.length && emojiMessage.length > 2) {\r\n        emojiProp = {\r\n            \"> img\": {\r\n                width: \"24px\",\r\n                height: \"24px\",\r\n            }\r\n        };\r\n    }\r\n\r\n    if (showVariation === false) {\r\n        emojiProp = {\r\n            \"> img\": {\r\n                width: \"24px\",\r\n                height: \"24px\",\r\n            }\r\n        };\r\n    }\r\n\r\n    return {\r\n        margin: \"0\",\r\n        fontSize: \"14px\",\r\n        whiteSpace: \"pre-wrap\",\r\n        wordBreak: \"break-word\",\r\n        textAlign: \"left\",\r\n        width: \"auto\",\r\n        \" a\": {\r\n            color: \"#0432FF\",\r\n            \"&:hover\": {\r\n                color: \"#04009D\"\r\n            }\r\n        },\r\n        \" a[href^='mailto:']\": {\r\n            color: \"#F38C00\",\r\n            \"&:hover\": {\r\n                color: \"#F36800\"\r\n            }\r\n        },\r\n        \" a[href^='tel:']\": {\r\n            color: \"#3802DA\",\r\n            \"&:hover\": {\r\n                color: \"#2D038F\"\r\n            }\r\n        },\r\n        ...emojiAlignmentProp,\r\n        ...emojiProp\r\n    }\r\n}\r\n\r\nexport const messageInfoWrapperStyle = () => {\r\n\r\n    return {\r\n        alignSelf: \"flex-start\",\r\n        padding: \"3px 5px\",\r\n    }\r\n}\r\n\r\nexport const messageReactionsWrapperStyle = () => {\r\n\r\n    return {\r\n        display: \"inline-flex\",\r\n        alignSelf: \"flex-start\",\r\n        width: \"100%\",\r\n        flexWrap: \"wrap\",\r\n        justifyContent: \"flex-start\",\r\n    }\r\n}","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport twemoji from \"twemoji\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport PropTypes from \"prop-types\";\r\nimport { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt, CometChatLinkPreview} from \"../\";\r\nimport { CometChatMessageReactions } from \"../Extensions\";\r\nimport { CometChatAvatar } from \"../../Shared\";\r\n\r\nimport { linkify, checkMessageForExtensionsData, validateWidgetSettings } from \"../../../util/common\";\r\n\r\nimport Translator from \"../../../resources/localization/translator\";\r\nimport { theme } from \"../../../resources/theme\";\r\n\r\nimport {\r\n  messageContainerStyle,\r\n  messageWrapperStyle,\r\n  messageThumbnailStyle,\r\n  messageDetailStyle,\r\n  nameWrapperStyle,\r\n  nameStyle,\r\n  messageTxtContainerStyle,\r\n  messageTxtWrapperStyle,\r\n  messageTxtStyle,\r\n  messageInfoWrapperStyle,\r\n  messageReactionsWrapperStyle\r\n} from \"./style\";\r\n\r\nclass CometChatReceiverTextMessageBubble extends React.Component {\r\n\r\n  messageFrom = \"receiver\";\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const message = Object.assign({}, props.message, { messageFrom: this.messageFrom });\r\n    this.state = {\r\n      message: message,\r\n      translatedMessage: \"\",\r\n      isHovering: false\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n\r\n    const previousMessageStr = JSON.stringify(prevProps.message);\r\n    const currentMessageStr = JSON.stringify(this.props.message);\r\n\r\n    if (previousMessageStr !== currentMessageStr) {\r\n\r\n      const message = Object.assign({}, this.props.message, { messageFrom: this.messageFrom });\r\n      this.setState({ message: message, translatedMessage: \"\" })\r\n    }\r\n  }\r\n\r\n  getMessageText = () => {\r\n\r\n    let messageText = this.state.message.text;\r\n\r\n    //xss extensions data\r\n    const xssData = checkMessageForExtensionsData(this.state.message, \"xss-filter\");\r\n    if (xssData \r\n    && xssData.hasOwnProperty(\"sanitized_text\")\r\n    && xssData.hasOwnProperty(\"hasXSS\")\r\n    && xssData.hasXSS === \"yes\") {\r\n      messageText = xssData.sanitized_text;\r\n    }\r\n\r\n    //datamasking extensions data\r\n    const maskedData = checkMessageForExtensionsData(this.state.message, \"data-masking\");\r\n    if (maskedData\r\n    && maskedData.hasOwnProperty(\"data\")\r\n    && maskedData.data.hasOwnProperty(\"sensitive_data\")\r\n    && maskedData.data.hasOwnProperty(\"message_masked\")\r\n    && maskedData.data.sensitive_data === \"yes\") {\r\n\r\n      messageText = maskedData.data.message_masked;\r\n    }\r\n\r\n    //profanity extensions data\r\n    const profaneData = checkMessageForExtensionsData(this.state.message, \"profanity-filter\");\r\n    if (profaneData\r\n    && profaneData.hasOwnProperty(\"profanity\")\r\n    && profaneData.hasOwnProperty(\"message_clean\")\r\n    && profaneData.profanity === \"yes\") {\r\n\r\n      messageText = profaneData.message_clean;\r\n    }\r\n\r\n    const formattedText = linkify(messageText);\r\n\r\n    const emojiParsedMessage = twemoji.parse(formattedText, { folder: \"svg\", ext: \".svg\" });\r\n    const parsedMessage = ReactHtmlParser(emojiParsedMessage, { decodeEntities: false });\r\n    const emojiMessage = parsedMessage.filter(message => (message instanceof Object && message.type === \"img\"));\r\n\r\n    let showVariation = true;\r\n    //if larger size emojis are disabled in chat widget\r\n    if (validateWidgetSettings(this.props.widgetsettings, \"show_emojis_in_larger_size\") === false) {\r\n      showVariation = false;\r\n    }\r\n\r\n    messageText = (\r\n      <div css={messageTxtWrapperStyle(this.props)} className=\"message__txt__wrapper\">\r\n        <p css={messageTxtStyle(parsedMessage, emojiMessage, showVariation)} className=\"message__txt\">{parsedMessage}{this.state.translatedMessage}</p>\r\n      </div>\r\n    );\r\n\r\n    return messageText;\r\n  }  \r\n  \r\n  translateMessage = (message) => {\r\n\r\n    const messageId = message.id;\r\n    const messageText = message.text;\r\n    const translateToLanguage = Translator.getBrowserLanguage();\r\n\r\n    let translatedMessage = \"\";\r\n\r\n    CometChat.callExtension('message-translation', 'POST', 'v2/translate', {\r\n      \"msgId\": messageId,\r\n      \"text\": messageText,\r\n      \"languages\": [translateToLanguage]\r\n    }).then(result => {\r\n\r\n      if (result.hasOwnProperty(\"language_original\") && result[\"language_original\"] !== translateToLanguage) {\r\n\r\n        if (result.hasOwnProperty(\"translations\") && result.translations.length) {\r\n\r\n          const messageTranslation = result.translations[0];\r\n          if (messageTranslation.hasOwnProperty(\"message_translated\")) {\r\n\r\n            translatedMessage = `\\n(${messageTranslation[\"message_translated\"]})`;\r\n          }\r\n        }\r\n      }\r\n\r\n      this.setState({ translatedMessage: translatedMessage })\r\n\r\n    }).catch(error => {\r\n      // Some error occured\r\n      console.log(\"translateMessage error\", error);\r\n    });\r\n  }\r\n\r\n  handleMouseHover = () => {\r\n    this.setState(this.toggleHoverState);\r\n  }\r\n\r\n  toggleHoverState = (state) => {\r\n\r\n    return {\r\n      isHovering: !state.isHovering,\r\n    };\r\n  }\r\n\r\n  render() {\r\n\r\n    let avatar = null, name = null;\r\n    if (this.state.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\r\n\r\n      avatar = (\r\n        <div css={messageThumbnailStyle()} className=\"message__thumbnail\">\r\n          <CometChatAvatar user={this.state.message.sender} />\r\n        </div>\r\n      );\r\n\r\n      name = (<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\r\n        <span css={nameStyle(this.props)} className=\"message__name\">{this.state.message.sender.name}</span>\r\n        </div>);\r\n    }\r\n\r\n    let messageText = this.getMessageText();\r\n    //linkpreview extensions data\r\n    const linkPreviewData = checkMessageForExtensionsData(this.state.message, \"link-preview\");\r\n    if (linkPreviewData && linkPreviewData.hasOwnProperty(\"links\") && linkPreviewData[\"links\"].length) {\r\n\r\n      messageText = (\r\n        <CometChatLinkPreview {...this.props} message={this.state.message} messageText={messageText} />\r\n      );\r\n    }\r\n\r\n    //messagereactions extensions data\r\n    let messageReactions = null;\r\n    const reactionsData = checkMessageForExtensionsData(this.state.message, \"reactions\");\r\n    if (reactionsData) {\r\n\r\n      if (Object.keys(reactionsData).length) {\r\n        messageReactions = (\r\n          <div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\r\n            <CometChatMessageReactions {...this.props} message={this.state.message} reaction={reactionsData} />\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n\r\n    let toolTipView = null;\r\n    if (this.state.isHovering) {\r\n      toolTipView = (<CometChatMessageActions {...this.props} message={this.state.message} name={name} translateMessage={this.translateMessage} />);\r\n    }\r\n\r\n    return (\r\n      <div \r\n      css={messageContainerStyle()} \r\n      className=\"receiver__message__container message__text\"\r\n      onMouseEnter={this.handleMouseHover}\r\n      onMouseLeave={this.handleMouseHover}>\r\n        \r\n        <div css={messageWrapperStyle()} className=\"message__wrapper\">\r\n          {avatar}\r\n          <div css={messageDetailStyle()} className=\"message__details\">\r\n            {name}\r\n            {toolTipView}\r\n            <div css={messageTxtContainerStyle()} className=\"message__text__container\">{messageText}</div>\r\n\r\n            {messageReactions}\r\n\r\n            <div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\r\n              <CometChatReadReceipt {...this.props} message={this.state.message} />\r\n              <CometChatThreadedMessageReplyCount {...this.props} message={this.state.message} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatReceiverTextMessageBubble.defaultProps = {\r\n  lang: Translator.getDefaultLanguage(),\r\n  theme: theme\r\n};\r\n\r\nCometChatReceiverTextMessageBubble.propTypes = {\r\n  lang: PropTypes.string,\r\n  theme: PropTypes.object\r\n}\r\n\r\nexport default CometChatReceiverTextMessageBubble;","export const messageContainerStyle = () => {\r\n\r\n    return {\r\n        alignSelf: \"flex-start\",\r\n        marginBottom: \"16px\",\r\n        paddingLeft: \"16px\",\r\n        paddingRight: \"16px\",\r\n        maxWidth: \"65%\",\r\n        clear: \"both\",\r\n        position: \"relative\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flexShrink: \"0\",\r\n        \":hover\": {\r\n            \"ul.message__actions\": {\r\n                display: \"flex\"\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const messageWrapperStyle = () => {\r\n\r\n    return {\r\n        width: \"auto\",\r\n        flex: \"1 1\",\r\n        alignSelf: \"flex-start\",\r\n        display: \"flex\",\r\n    }\r\n}\r\n\r\nexport const messageThumbnailStyle = () => {\r\n\r\n    return {\r\n        width: \"36px\",\r\n        height: \"36px\",\r\n        margin: \"10px 5px\",\r\n        float: \"left\",\r\n        flexShrink: \"0\",\r\n    }\r\n}\r\n\r\nexport const messageDetailStyle = () => {\r\n\r\n    return {\r\n        flex: \"1 1\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n    }\r\n}\r\n\r\nexport const nameWrapperStyle = (avatar) => {\r\n\r\n    const paddingValue = (avatar) ? {\r\n        padding: \"3px 5px\",\r\n    } : {};\r\n\r\n    return {\r\n        alignSelf: \"flex-start\",\r\n        ...paddingValue\r\n    }\r\n}\r\n\r\nexport const nameStyle = (props) => {\r\n\r\n    return {\r\n        fontSize: \"10px\",\r\n        color: `${props.theme.color.helpText}`,\r\n    }\r\n}\r\n\r\nexport const messageVideoContainerStyle = () => {\r\n\r\n    return {\r\n        width: \"auto\",\r\n        flex: \"1 1\",\r\n        alignSelf: \"flex-start\",\r\n        display: \"flex\",\r\n    }\r\n}\r\n\r\nexport const messageVideoWrapperStyle = (props) => {\r\n\r\n    return {\r\n        display: \"inline-block\",\r\n        alignSelf: \"flex-start\",\r\n        '> video': {\r\n            maxWidth: \"250px\",\r\n            borderRadius: \"12px\",\r\n            display: \"inherit\",\r\n            outline: \"none\",\r\n        }\r\n    }\r\n}\r\n\r\nexport const messageInfoWrapperStyle = () => {\r\n\r\n    return {\r\n        alignSelf: \"flex-start\",\r\n        padding: \"3px 5px\",\r\n    }\r\n}\r\n\r\nexport const messageReactionsWrapperStyle = () => {\r\n\r\n    return {\r\n        display: \"inline-flex\",\r\n        alignSelf: \"flex-start\",\r\n        width: \"100%\",\r\n        flexWrap: \"wrap\",\r\n        justifyContent: \"flex-start\",\r\n    }\r\n}","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\nimport { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\r\nimport { CometChatMessageReactions } from \"../Extensions\";\r\nimport { CometChatAvatar } from \"../../Shared\";\r\n\r\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\r\n\r\nimport { theme } from \"../../../resources/theme\";\r\n\r\nimport {\r\n  messageContainerStyle,\r\n  messageWrapperStyle,\r\n  messageThumbnailStyle,\r\n  messageDetailStyle,\r\n  nameWrapperStyle,\r\n  nameStyle,\r\n  messageVideoContainerStyle,\r\n  messageVideoWrapperStyle,\r\n  messageInfoWrapperStyle,\r\n  messageReactionsWrapperStyle\r\n} from \"./style\";\r\n\r\nclass CometChatReceiverVideoMessageBubble extends React.Component {\r\n\r\n  messageFrom = \"receiver\";\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const message = Object.assign({}, props.message, { messageFrom: this.messageFrom });\r\n    this.state = {\r\n      message: message,\r\n      isHovering: false\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n\r\n    const previousMessageStr = JSON.stringify(prevProps.message);\r\n    const currentMessageStr = JSON.stringify(this.props.message);\r\n\r\n    if (previousMessageStr !== currentMessageStr) {\r\n\r\n      const message = Object.assign({}, this.props.message, { messageFrom: this.messageFrom });\r\n      this.setState({ message: message })\r\n    }\r\n  }\r\n\r\n  handleMouseHover = () => {\r\n    this.setState(this.toggleHoverState);\r\n  }\r\n\r\n  toggleHoverState = (state) => {\r\n\r\n    return {\r\n      isHovering: !state.isHovering,\r\n    };\r\n  }\r\n\r\n  render() {\r\n\r\n    let avatar = null, name = null;\r\n    if (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\r\n\r\n      avatar = (\r\n        <div css={messageThumbnailStyle()} className=\"message__thumbnail\">\r\n          <CometChatAvatar user={this.props.message.sender} />\r\n        </div>\r\n      );\r\n\r\n      name = (<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\r\n        <span css={nameStyle(this.props)} className=\"message__name\">{this.props.message.sender.name}</span>\r\n        </div>);\r\n    }\r\n\r\n    let messageReactions = null;\r\n    const reactionsData = checkMessageForExtensionsData(this.state.message, \"reactions\");\r\n    if (reactionsData) {\r\n\r\n      if (Object.keys(reactionsData).length) {\r\n        messageReactions = (\r\n          <div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\r\n            <CometChatMessageReactions  {...this.props} message={this.state.message} reaction={reactionsData} />\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n\r\n    let toolTipView = null;\r\n    if (this.state.isHovering) {\r\n      toolTipView = (<CometChatMessageActions {...this.props} message={this.state.message} name={name} /> );\r\n    }\r\n\r\n    return (\r\n      <div \r\n      css={messageContainerStyle()} \r\n      className=\"receiver__message__container message__video\"\r\n      onMouseEnter={this.handleMouseHover}\r\n      onMouseLeave={this.handleMouseHover}>\r\n\r\n        <div css={messageWrapperStyle()} className=\"message__wrapper\">\r\n          {avatar}\r\n          <div css={messageDetailStyle(name)} className=\"message__details\">\r\n            {name}\r\n            {toolTipView}\r\n            <div css={messageVideoContainerStyle()} className=\"message__video__container\">\r\n              <div css={messageVideoWrapperStyle(this.props)} className=\"message__video__wrapper\">\r\n                <video controls>\r\n                  <source src={this.props.message.data.url} />\r\n                </video>\r\n              </div>\r\n            </div>\r\n\r\n            {messageReactions}\r\n\r\n            <div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\r\n              <CometChatReadReceipt {...this.props} message={this.state.message} />\r\n              <CometChatThreadedMessageReplyCount {...this.props} message={this.state.message} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatReceiverVideoMessageBubble.defaultProps = {\r\n  theme: theme\r\n};\r\n\r\nCometChatReceiverVideoMessageBubble.propTypes = {\r\n  theme: PropTypes.object\r\n}\r\n\r\nexport default CometChatReceiverVideoMessageBubble;","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\"\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\r\nimport { CometChatMessageReactions } from \"../Extensions\";\r\n\r\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\r\n\r\nimport { theme } from \"../../../resources/theme\";\r\n\r\nimport {\r\n  messageContainerStyle,\r\n  messageWrapperStyle,\r\n  messageAudioWrapperStyle,\r\n  messageInfoWrapperStyle,\r\n  messageReactionsWrapperStyle\r\n} from \"./style\";\r\n\r\nclass CometChatSenderAudioMessageBubble extends React.Component {\r\n\r\n  messageFrom = \"sender\";\r\n\r\n  constructor(props) {\r\n\r\n    super(props);\r\n\r\n    const message = Object.assign({}, props.message, { messageFrom: this.messageFrom });\r\n    this.state = {\r\n      message: message,\r\n      isHovering: false\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n\r\n    const previousMessageStr = JSON.stringify(prevProps.message);\r\n    const currentMessageStr = JSON.stringify(this.props.message);\r\n\r\n    if (previousMessageStr !== currentMessageStr) {\r\n\r\n      const message = Object.assign({}, this.props.message, { messageFrom: this.messageFrom });\r\n      this.setState({ message: message })\r\n    }\r\n  }\r\n\r\n  handleMouseHover = () => {\r\n    this.setState(this.toggleHoverState);\r\n  }\r\n\r\n  toggleHoverState = (state) => {\r\n\r\n    return {\r\n      isHovering: !state.isHovering,\r\n    };\r\n  }\r\n\r\n  render() {\r\n\r\n    let messageReactions = null;\r\n    const reactionsData = checkMessageForExtensionsData(this.state.message, \"reactions\");\r\n    if (reactionsData) {\r\n\r\n      if (Object.keys(reactionsData).length) {\r\n        messageReactions = (\r\n          <div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\r\n            <CometChatMessageReactions  {...this.props} message={this.state.message} reaction={reactionsData} />\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n\r\n    let toolTipView = null;\r\n    if (this.state.isHovering) {\r\n      toolTipView = (<CometChatMessageActions {...this.props} message={this.state.message} />);\r\n    }\r\n    \r\n    return (\r\n      <div \r\n      css={messageContainerStyle()} \r\n      className=\"sender__message__container message__audio\"\r\n      onMouseEnter={this.handleMouseHover}\r\n      onMouseLeave={this.handleMouseHover}>\r\n\r\n        {toolTipView}\r\n        <div css={messageWrapperStyle()} className=\"message__wrapper\">\r\n          <div css={messageAudioWrapperStyle(this.props)} className=\"message__audio__wrapper\">\r\n            <audio controls src={this.state.message.data.url}></audio>\r\n          </div>\r\n        </div>\r\n\r\n        {messageReactions}\r\n\r\n        <div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\r\n          <CometChatThreadedMessageReplyCount {...this.props} message={this.state.message} />\r\n          <CometChatReadReceipt {...this.props} message={this.state.message} />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatSenderAudioMessageBubble.defaultProps = {\r\n  theme: theme,\r\n  message: {}\r\n};\r\n\r\nCometChatSenderAudioMessageBubble.propTypes = {\r\n  theme: PropTypes.object,\r\n  message: PropTypes.object\r\n}\r\n\r\nexport default CometChatSenderAudioMessageBubble;","export const messageContainerStyle = () => {\r\n\r\n    return {\r\n        alignSelf: \"flex-end\",\r\n        marginBottom: \"16px\",\r\n        paddingLeft: \"16px\",\r\n        paddingRight: \"16px\",\r\n        maxWidth: \"65%\",\r\n        clear: \"both\",\r\n        position: \"relative\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flexShrink: \"0\",\r\n        \":hover\": {\r\n            \"ul.message__actions\": {\r\n                display: \"flex\"\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const messageWrapperStyle = () => {\r\n\r\n    return {\r\n        width: \"auto\",\r\n        flex: \"1 1\",\r\n        alignSelf: \"flex-end\",\r\n        display: \"flex\",\r\n    }\r\n}\r\n\r\nexport const messageAudioWrapperStyle = (props) => {\r\n\r\n    return {\r\n        display: \"inline-block\",\r\n        borderRadius: \"12px\",\r\n        alignSelf: \"flex-end\",\r\n        ' > audio': {\r\n            maxWidth: \"250px\",\r\n            display: \"inherit\",\r\n            outline: \"none\",        \r\n        }\r\n    }\r\n}\r\n\r\nexport const messageInfoWrapperStyle = () => {\r\n\r\n    return {\r\n        alignSelf: \"flex-end\",\r\n    }\r\n}\r\n\r\nexport const messageReactionsWrapperStyle = () => {\r\n\r\n    return {\r\n        display: \"inline-flex\",\r\n        alignSelf: \"flex-end\",\r\n        width: \"100%\",\r\n        flexWrap: \"wrap\",\r\n        justifyContent: \"flex-end\",\r\n    }\r\n}","export const messageContainerStyle = () => {\r\n\r\n    return {\r\n        alignSelf: \"flex-end\",\r\n        marginBottom: \"16px\",\r\n        paddingLeft: \"16px\",\r\n        paddingRight: \"16px\",\r\n        maxWidth: \"305px\",\r\n        clear: \"both\",\r\n        position: \"relative\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flexShrink: \"0\",\r\n        \":hover\": {\r\n            \"ul.message__actions\": {\r\n                display: \"flex\"\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const messageWrapperStyle = () => {\r\n\r\n    return {\r\n        width: \"auto\",\r\n        flex: \"1 1\",\r\n        alignSelf: \"flex-end\",\r\n        display: \"flex\",\r\n    }\r\n}\r\n\r\nexport const messageTxtWrapperStyle = (props) => {\r\n\r\n    return {\r\n        display: \"inline-block\",\r\n        borderRadius: \"12px\",\r\n        backgroundColor: `${props.theme.backgroundColor.blue}`,\r\n        color: `${props.theme.color.white}`,\r\n        padding: \"16px\",\r\n        alignSelf: \"flex-end\",\r\n        width: \"auto\",\r\n        minHeight: \"106px\",\r\n    }\r\n}\r\n\r\nexport const messageTxtContainerStyle = () => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        \"img\": {\r\n            width: \"35px\"\r\n        }\r\n    }\r\n}\r\n\r\nexport const messageTxtStyle = () => {\r\n\r\n    return {\r\n        margin: \"0\",\r\n        whiteSpace: \"pre-wrap\",\r\n        wordBreak: \"break-word\",\r\n        textAlign: \"left\",\r\n        width: \"100%\",\r\n        fontSize: \"14px\",\r\n        marginLeft: \"8px\"\r\n    }\r\n}\r\n\r\nexport const messageBtnStyle = (props) => {\r\n\r\n    return {\r\n        listStyleType: \"none\",\r\n        padding: \"0\",\r\n        margin: \"0\",\r\n        width: \"100%\",\r\n        \"li\": {\r\n            backgroundColor: `${props.theme.backgroundColor.white}`,\r\n            borderRadius: \"8px\",\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n            width: \"100%\",\r\n            position: \"relative\",\r\n            margin: \"16px 0 0 0\",\r\n            padding: \"8px\",\r\n            cursor: \"pointer\",\r\n            \"> p\": {\r\n                background: \"0 0\",\r\n                textAlign: \"center\",\r\n                color: `${props.theme.color.primary}`,\r\n                width: \"100%\",\r\n                display: \"inline-block\",\r\n                fontSize: \"14px\",\r\n                margin: \"0\",\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const messageInfoWrapperStyle = () => {\r\n\r\n    return {\r\n        alignSelf: \"flex-end\",\r\n    }\r\n}\r\n\r\nexport const messageReactionsWrapperStyle = () => {\r\n\r\n    return {\r\n        display: \"inline-flex\",\r\n        alignSelf: \"flex-end\",\r\n        width: \"100%\",\r\n        flexWrap: \"wrap\",\r\n        justifyContent: \"flex-end\",\r\n    }\r\n}","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\r\nimport { CometChatMessageReactions } from \"../Extensions\";\r\n\r\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\r\nimport * as enums from \"../../../util/enums.js\";\r\n\r\nimport { theme } from \"../../../resources/theme\";\r\nimport Translator from \"../../../resources/localization/translator\";\r\n\r\nimport {\r\n    messageContainerStyle,\r\n    messageWrapperStyle,\r\n    messageTxtWrapperStyle,\r\n    messageTxtContainerStyle,\r\n    messageTxtStyle,\r\n    messageBtnStyle,\r\n    messageInfoWrapperStyle,\r\n    messageReactionsWrapperStyle,\r\n} from \"./style\";\r\n\r\nimport callIcon from \"./resources/sendervideocall.png\";\r\n\r\nclass CometChatSenderDirectCallBubble extends React.Component {\r\n\r\n    messageFrom = \"sender\";\r\n\r\n    constructor(props) {\r\n\r\n        super(props);\r\n        const message = Object.assign({}, props.message, { messageFrom: this.messageFrom });\r\n\r\n        this.state = {\r\n            message: message, \r\n            isHovering: false,\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n\r\n        const previousMessageStr = JSON.stringify(prevProps.message);\r\n        const currentMessageStr = JSON.stringify(this.props.message);\r\n\r\n        if (previousMessageStr !== currentMessageStr) {\r\n\r\n            const message = Object.assign({}, this.props.message, { messageFrom: this.messageFrom });\r\n            this.setState({ message: message })\r\n        }\r\n    }\r\n\r\n    handleMouseHover = () => {\r\n        this.setState(this.toggleHoverState);\r\n    }\r\n\r\n    toggleHoverState = (state) => {\r\n\r\n        return {\r\n            isHovering: !state.isHovering,\r\n        };\r\n    }\r\n\r\n    render() {\r\n\r\n        let messageReactions = null;\r\n        const reactionsData = checkMessageForExtensionsData(this.state.message, \"reactions\");\r\n        if (reactionsData) {\r\n\r\n            if (Object.keys(reactionsData).length) {\r\n                messageReactions = (\r\n                    <div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\r\n                        <CometChatMessageReactions {...this.props} message={this.state.message} reaction={reactionsData} />\r\n                    </div>\r\n                );\r\n            }\r\n        }\r\n\r\n        let toolTipView = null;\r\n        if (this.state.isHovering) {\r\n            toolTipView = (<CometChatMessageActions {...this.props} message={this.state.message} />);\r\n        }\r\n\r\n        const messageTitle = Translator.translate(\"YOU_INITIATED_GROUP_CALL\", this.props.lang);\r\n        return (\r\n            <div css={messageContainerStyle()} \r\n            className=\"sender__message__container message__directcall\"\r\n            onMouseEnter={this.handleMouseHover}\r\n            onMouseLeave={this.handleMouseHover}>\r\n\r\n                {toolTipView}\r\n\r\n                <div css={messageWrapperStyle()} className=\"message__wrapper\">\r\n                    <div css={messageTxtWrapperStyle(this.props)} className=\"message__directcall__wrapper\">\r\n                        <div css={messageTxtContainerStyle()} className=\"message__directcall__container\">\r\n                            <img src={callIcon} alt={Translator.translate(\"VIDEO_CALL\", this.props.lang)} />\r\n                            <p css={messageTxtStyle()} className=\"directcall__title\">{messageTitle}</p>\r\n                        </div>\r\n                        <ul css={messageBtnStyle(this.props)} className=\"directcall__button\">\r\n                            <li onClick={() => this.props.actionGenerated(enums.ACTIONS[\"JOIN_DIRECT_CALL\"], this.state.message)}>\r\n                                <p>{Translator.translate(\"JOIN\", this.props.lang)}</p>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n\r\n                {messageReactions}\r\n\r\n                <div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\r\n                    <CometChatThreadedMessageReplyCount {...this.props} message={this.state.message} />\r\n                    <CometChatReadReceipt {...this.props} message={this.state.message} />\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatSenderDirectCallBubble.defaultProps = {\r\n    lang: Translator.getDefaultLanguage(),\r\n    theme: theme,\r\n    message: {},\r\n    loggedInUser: {}\r\n};\r\n\r\nCometChatSenderDirectCallBubble.propTypes = {\r\n    lang: PropTypes.string,\r\n    theme: PropTypes.object,\r\n    message: PropTypes.object,\r\n    loggedInUser: PropTypes.object\r\n}\r\n\r\nexport default CometChatSenderDirectCallBubble;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAAgCAYAAAC7FpAiAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAMaADAAQAAAABAAAAIAAAAAA8cTDNAAADDklEQVRYCe2YTWxMURTH542SoD5modKEmAYlrJBaSEgJYkMiUjY2EhsfC6RLXxs2hC5siU0TFixsRCIaVGhLiogFsSHSSCRCSVrajt9/eu+482HeTObNcxdO8p9z7rnn3XP+7869L/cGCUcymcwCmgfBZrAYpEAAopQRBvsMnoIb4FoQBGPo2gUCh8EoiFtekbC1FgbZt8wgRxnkgjNQBvsDeAO+OP5azSkM0AKWgkZnsCHsNcyIdKhQb5LYiVwgjhbwE1jpwViZC6iDwfhTQScYBla6w1IRuBU8A79AP1iRfQbjPLDyHKMhbLCo+sm1xyZGj4F5pcbGH4CzoFBeWBKDTs+mUoPU00fuXif/rsJc9M0AN52YQrMpyUNp58E+x47LdHMucpNSrXbLXrDT+LWz7Qd3TFsqJRJzjGOIxfLD2HGqt04yW0sCAm34+8Eq0/8RvYEaL6Nl50Qk7HdgOOeN1/jupLO7ZQe++6DZ9D1Bt0FgwLTzlEj4JFrAJynoOphuCruKbofAX7ff2HYiU1CYOkRAygSNozspvivsId9IWAL6wO6GwN0wAur3jYRqeg12QOCdGpWIbyS0mLdDoKpNxreF/aBaApop30hU8u8pivlPouiV/COHbzPRzsdudrXvwjcS6yHQBxEdmioW30io8OVARLZUysI3El9N4fpy34bIkUqI+EbiEkWfMYXrPH4RIlfAtHJkfCMxwcfuOAXvBaOm8H3oHojMN+0iJRK62ZDMmlSx/7q3HtlaINJNFRvBJ1PNOvQARFabdp4SCfs/bCZoZl5vPA13J7K1JCDymPRrwUtTxkK0zuOaGR1b/whO3XBYEftYhcQPbXJ0qYuCRvy3nJhCs0ln2S7Hq5sPLahYhFwdTu5yVzZJ4s45sdYczBZKqxWMWy/6Hpi8lKoTFcZvAMfAN2BF66CsELgN6BsyAh6BZXog0A+NU6jTso1ogb0HuonQKSsq0Synge5e3QWt83PF15jEFgskdEA/ATSlcUs0F8qWFtUvwT4AtMDTYC7IzhY6Kon8av83mVv/s3Jn6OgAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAgCAYAAADnnNMGAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGaADAAQAAAABAAAAIAAAAAD0wk2pAAAB2UlEQVRIDe2XzStEURjGZ3xvNMXCysZGsdJEFrKjlFIaQij/AnuhWfsbfGTyNVJKWViblKViNdkq0mRjPv2emUOjOYe5M7PSPPXrPc557/vMea/uudfnQ7lcrhv24BGS4FKWhTe4hlFdW5ZIlkECvCrFBUvlmDSRFIZ2eIcNuIEPsGmVyQV4gU7YwSjr9/sPGLtF0oPZwpo7q7BC3rbJXSfumnGaOPfbtQ0s9pgE7aBcZUhcgQg0wj5GM0SrZNJsVlwtsl5Ii7IsLMMRqO0RjKaJJZJJxcJIO1qEKMjoEKMp4g9VZaJKGKUJ83AO6soxRpPEb1VtokoYpQizcAEtcIrRBDGvmpiokjEKMbyEVjjDaJzoq9RE/1ElwijJpG7+FbRBFKM+3SwvejXJIS5+Yqw22XTC5CB0QFjPrS8FbdnFcyQGQc8vL3r2tBPacUf1MYz1aOkq/gGWcYC5EQh42omlkHOKHzNgtpup9MY7i9sW6ia2rjjn6u1ytsa2UG+XrSvOuf/VLh00kk6zWkqHlpRUu+L5YeGQMcOahCFTJa7zJAa9sMmjWa84t+DpHYz8Yqkjw7BlJmN+Cnfzxz3ofbjWSlCwP19URlDOpwNpf0qfHvoEUT1twPcJ93ifHl8MOSIAAAAASUVORK5CYII=\"","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\r\nimport { CometChatMessageReactions } from \"../Extensions\";\r\n\r\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\r\n\r\nimport Translator from \"../../../resources/localization/translator\";\r\nimport { theme } from \"../../../resources/theme\";\r\n\r\nimport {\r\n  messageContainerStyle,\r\n  messageWrapperStyle,\r\n  messageFileWrapper,\r\n  messageInfoWrapperStyle,\r\n  messageReactionsWrapperStyle\r\n} from \"./style\";\r\n\r\n\r\nimport blueFile from \"./resources/senderfile.png\";\r\n\r\nclass CometChatSenderFileMessageBubble extends React.Component {\r\n\r\n  messageFrom = \"sender\";\r\n\r\n  constructor(props) {\r\n\r\n    super(props);\r\n\r\n    const message = Object.assign({}, props.message, { messageFrom: this.messageFrom });\r\n\r\n    this.state = {\r\n      message: message,\r\n      isHovering: false\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n\r\n    const previousMessageStr = JSON.stringify(prevProps.message);\r\n    const currentMessageStr = JSON.stringify(this.props.message);\r\n\r\n    if (previousMessageStr !== currentMessageStr) {\r\n\r\n      const message = Object.assign({}, this.props.message, { messageFrom: this.messageFrom });\r\n      this.setState({ message: message })\r\n    }\r\n  }\r\n\r\n  handleMouseHover = () => {\r\n    this.setState(this.toggleHoverState);\r\n  }\r\n\r\n  toggleHoverState = (state) => {\r\n\r\n    return {\r\n      isHovering: !state.isHovering,\r\n    };\r\n  }\r\n\r\n  render() {\r\n\r\n    let messageReactions = null;\r\n    const reactionsData = checkMessageForExtensionsData(this.state.message, \"reactions\");\r\n    if (reactionsData) {\r\n\r\n      if (Object.keys(reactionsData).length) {\r\n        messageReactions = (\r\n          <div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\r\n            <CometChatMessageReactions {...this.props} message={this.state.message} reaction={reactionsData}  />\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n\r\n    let toolTipView = null;\r\n    if (this.state.isHovering) {\r\n      toolTipView = (<CometChatMessageActions {...this.props} message={this.state.message} />);\r\n    }\r\n\r\n    let fileMessage = null;\r\n    if (this.state.message.data.hasOwnProperty(\"attachments\") && this.state.message.data.attachments.length) {\r\n      \r\n      const fileName = this.state.message.data.attachments[0].name;\r\n      const fileUrl = this.state.message.data.attachments[0].url;\r\n\r\n      fileMessage = (\r\n        <a href={fileUrl} target=\"_blank\" rel=\"noopener noreferrer\" className=\"message__file\">\r\n          <img src={blueFile} alt=\"file\" />\r\n          <p>{fileName}</p>\r\n        </a>\r\n      );\r\n\r\n    } else {\r\n\r\n      const fileName = this.state.message.data.name || \"\";\r\n\r\n      fileMessage = (\r\n        <div className=\"message__file\">\r\n          <img src={blueFile} alt=\"file\" />\r\n          <p>{fileName}</p>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div \r\n      css={messageContainerStyle()} \r\n      className=\"sender__message__container message__file\"\r\n      onMouseEnter={this.handleMouseHover}\r\n      onMouseLeave={this.handleMouseHover}>\r\n\r\n        {toolTipView}\r\n          \r\n        <div css={messageWrapperStyle()} className=\"message__wrapper\">\r\n          <div css={messageFileWrapper(this.props)} className=\"message__file__wrapper\">{fileMessage}</div>\r\n        </div>\r\n\r\n        {messageReactions}\r\n\r\n        <div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\r\n          <CometChatThreadedMessageReplyCount {...this.props} message={this.state.message} />\r\n          <CometChatReadReceipt {...this.props} message={this.state.message} />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatSenderFileMessageBubble.defaultProps = {\r\n  lang: Translator.getDefaultLanguage(),\r\n  theme: theme\r\n};\r\n\r\nCometChatSenderFileMessageBubble.propTypes = {\r\n  lang: PropTypes.string,\r\n  theme: PropTypes.object\r\n}\r\n\r\nexport default CometChatSenderFileMessageBubble;","export const messageContainerStyle = () => {\r\n\r\n    return {\r\n        alignSelf: \"flex-end\",\r\n        marginBottom: \"16px\",\r\n        paddingLeft: \"16px\",\r\n        paddingRight: \"16px\",\r\n        maxWidth: \"65%\",\r\n        clear: \"both\",\r\n        position: \"relative\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flexShrink: \"0\",\r\n        \":hover\": {\r\n            \"ul.message__actions\": {\r\n                display: \"flex\"\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const messageWrapperStyle = () => {\r\n\r\n    return {\r\n        width: \"auto\",\r\n        flex: \"1 1\",\r\n        alignSelf: \"flex-end\",\r\n        display: \"flex\",\r\n    }\r\n}\r\n\r\nexport const messageFileWrapper = (props) => {\r\n\r\n    return {\r\n        display: \"inline-block\",\r\n        borderRadius: \"12px\",\r\n        backgroundColor: `${props.theme.backgroundColor.blue}`,\r\n        color: `${props.theme.color.white}`,\r\n        padding: \"8px 16px\",\r\n        alignSelf: \"flex-end\",\r\n        maxWidth: \"100%\",\r\n        \".message__file\": {\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n            background: \"0 0\",\r\n            textDecoration: \"none\",\r\n            color: `${props.theme.color.white}`,\r\n            maxWidth: \"100%\",\r\n            fontSize: \"14px\",\r\n            \"&:visited, &:active, &:hover\": {\r\n                color: `${props.theme.color.white}`,\r\n                textDecoration: \"none\",\r\n            },\r\n            \"> p\": {\r\n                margin: \"0\",\r\n                whiteSpace: \"pre-wrap\",\r\n                wordBreak: \"break-word\",\r\n                textAlign: \"left\",\r\n                width: \"100%\",\r\n                fontSize: \"14px\",\r\n                marginLeft: \"8px\"\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const messageInfoWrapperStyle = () => {\r\n\r\n    return {\r\n        alignSelf: \"flex-end\",\r\n    }\r\n}\r\n\r\nexport const messageReactionsWrapperStyle = () => {\r\n\r\n    return {\r\n        display: \"inline-flex\",\r\n        alignSelf: \"flex-end\",\r\n        width: \"100%\",\r\n        flexWrap: \"wrap\",\r\n        justifyContent: \"flex-end\",\r\n    }\r\n}","export const messageContainerStyle = () => {\r\n\r\n    return {\r\n        alignSelf: \"flex-end\",\r\n        marginBottom: \"16px\",\r\n        paddingLeft: \"16px\",\r\n        paddingRight: \"16px\",\r\n        maxWidth: \"65%\",\r\n        clear: \"both\",\r\n        position: \"relative\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flexShrink: \"0\",\r\n        \":hover\": {\r\n            \"ul.message__actions\": {\r\n                display: \"flex\"\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const messageWrapperStyle = () => {\r\n\r\n    return {\r\n        width: \"auto\",\r\n        flex: \"1 1\",\r\n        alignSelf: \"flex-end\",\r\n        display: \"flex\",\r\n    }\r\n}\r\n\r\nexport const messageImgWrapper = (props) => {\r\n\r\n    const mq = [...props.theme.breakPoints];\r\n\r\n    return {\r\n        display: \"inline-block\",\r\n        alignSelf: \"flex-end\",\r\n        maxWidth: \"300px\",\r\n        height: \"200px\",\r\n        cursor: \"pointer\",\r\n        flexShrink: \"0\",\r\n        'img': {\r\n            borderRadius: \"8px\",\r\n            height: \"100%\",\r\n        },\r\n        [`@media ${mq[0]}`]: {\r\n            minWidth: \"50px\",\r\n            maxWidth: \"150px\",\r\n            height: \"100px\",\r\n            padding: \"2px 2px\",\r\n        }\r\n    }\r\n}\r\n\r\nexport const messageInfoWrapperStyle = () => {\r\n\r\n    return {\r\n        alignSelf: \"flex-end\",\r\n    }\r\n}\r\n\r\nexport const messageReactionsWrapperStyle = () => {\r\n\r\n    return {\r\n        display: \"inline-flex\",\r\n        alignSelf: \"flex-end\",\r\n        width: \"100%\",\r\n        flexWrap: \"wrap\",\r\n        justifyContent: \"flex-end\",\r\n    }\r\n}","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\r\nimport { CometChatMessageReactions } from \"../Extensions\";\r\n\r\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\r\n\r\nimport { theme } from \"../../../resources/theme\";\r\n\r\nimport {\r\n  messageContainerStyle,\r\n  messageWrapperStyle,\r\n  messageImgWrapper,\r\n  messageInfoWrapperStyle,\r\n  messageReactionsWrapperStyle\r\n} from \"./style\";\r\n\r\nimport srcIcon from \"./resources/1px.png\";\r\n\r\nclass CometChatSenderImageMessageBubble extends React.PureComponent {\r\n\r\n  timer = null;\r\n  messageFrom = \"sender\";\r\n\r\n  constructor(props) {\r\n\r\n    super(props);\r\n\r\n    this.imgRef = React.createRef();\r\n    const message = Object.assign({}, props.message, { messageFrom: this.messageFrom });\r\n\r\n    this.state = {\r\n      message: message,\r\n      imageUrl: srcIcon,\r\n      fullScreenView: false,\r\n      isHovering: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setImage();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) { \r\n\r\n    const previousMessageStr = JSON.stringify(prevProps.message);\r\n    const currentMessageStr = JSON.stringify(this.props.message);\r\n\r\n    if (previousMessageStr !== currentMessageStr) {\r\n\r\n      const message = Object.assign({}, this.props.message, { messageFrom: this.messageFrom });\r\n      this.setState({ message: message });\r\n      this.setImage();\r\n    }\r\n  }\r\n\r\n  chooseImage = (thumbnailGenerationObject) => {\r\n\r\n    const smallUrl = thumbnailGenerationObject[\"url_small\"];\r\n    const mediumUrl = thumbnailGenerationObject[\"url_medium\"];\r\n\r\n    const mq = window.matchMedia(this.props.theme.breakPoints[0]);\r\n\r\n    let imageToDownload = mediumUrl;\r\n    if (mq.matches) {\r\n      imageToDownload = smallUrl;\r\n    }\r\n\r\n    return imageToDownload;\r\n  }\r\n\r\n  setImage = () => {\r\n\r\n    const thumbnailGenerationData = checkMessageForExtensionsData(this.state.message, \"thumbnail-generation\");\r\n    \r\n    if (thumbnailGenerationData) {\r\n\r\n      const mq = window.matchMedia(this.props.theme.breakPoints[0]);\r\n      mq.addListener(() => {\r\n\r\n        const imageToDownload = this.chooseImage(thumbnailGenerationData);\r\n        let img = new Image();\r\n        img.src = imageToDownload;\r\n        img.onload = () => this.setState({ imageUrl: img.src });\r\n\r\n      });\r\n\r\n      const imageToDownload = this.chooseImage(thumbnailGenerationData);\r\n      this.downloadImage(imageToDownload).then(response => {\r\n\r\n        let img = new Image();\r\n        img.src = imageToDownload;\r\n        img.onload = () => {\r\n\r\n          this.setState({ imageUrl: img.src });\r\n        }\r\n\r\n      }).catch(error => console.error(error));\r\n\r\n\r\n    } else {\r\n      this.setMessageImageUrl();\r\n    }\r\n  }\r\n\r\n  setMessageImageUrl = () => {\r\n\r\n    let img = new Image();\r\n    if (this.state.message.data.hasOwnProperty(\"url\")) {\r\n      \r\n      img.src = this.state.message.data.url;\r\n\r\n    } else if(this.state.message.data.hasOwnProperty(\"file\")) {\r\n\r\n      const reader = new FileReader();\r\n      reader.onload = function () {\r\n        img.src = reader.result;\r\n      }\r\n\r\n      reader.readAsDataURL(this.state.message.data.file);\r\n    }\r\n     \r\n    img.onload = () => this.setState({ imageUrl: img.src });\r\n  }\r\n\r\n  downloadImage(imgUrl) {\r\n\r\n    const promise = new Promise((resolve, reject) => {\r\n\r\n      const xhr = new XMLHttpRequest();\r\n      xhr.open(\"GET\", imgUrl, true);\r\n      xhr.responseType = \"blob\";\r\n\r\n      xhr.onload = () => {\r\n\r\n        if (xhr.readyState === 4) {\r\n\r\n          if (xhr.status === 200) {\r\n\r\n            this.timer = null;\r\n            resolve(imgUrl);\r\n\r\n          } else if (xhr.status === 403) {\r\n\r\n            this.timer = setTimeout(() => {\r\n\r\n              this.downloadImage(imgUrl).then(response => resolve(imgUrl)).catch(error => reject(error));\r\n\r\n            }, 800);\r\n          }\r\n          \r\n        } else {\r\n          reject(xhr.statusText);\r\n        }\r\n\r\n      }\r\n\r\n      xhr.onerror = event => reject(new Error('There was a network error.', event));\r\n      xhr.ontimeout = event => reject(new Error('There was a timeout error.', event));\r\n      xhr.send();\r\n      \r\n    });\r\n\r\n    return promise;\r\n  }\r\n\r\n  open = () => {\r\n    this.props.actionGenerated(\"viewActualImage\", this.state.message);\r\n  }\r\n\r\n  handleMouseHover = () => {\r\n    this.setState(this.toggleHoverState);\r\n  }\r\n\r\n  toggleHoverState = (state) => {\r\n\r\n    return {\r\n      isHovering: !state.isHovering,\r\n    };\r\n  }\r\n\r\n  render() {\r\n\r\n    let messageReactions = null;\r\n    const reactionsData = checkMessageForExtensionsData(this.state.message, \"reactions\");\r\n    if (reactionsData) {\r\n\r\n      if (Object.keys(reactionsData).length) {\r\n        messageReactions = (\r\n          <div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\r\n            <CometChatMessageReactions {...this.props} message={this.state.message} reaction={reactionsData} />\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n\r\n    let toolTipView = null;\r\n    if (this.state.isHovering) {\r\n      toolTipView = (<CometChatMessageActions {...this.props} message={this.state.message} />);\r\n    }\r\n\r\n    return (\r\n      <div \r\n      css={messageContainerStyle()} \r\n      className=\"sender__message__container message__image\"\r\n      onMouseEnter={this.handleMouseHover}\r\n      onMouseLeave={this.handleMouseHover}>\r\n\r\n        {toolTipView}\r\n          \r\n        <div css={messageWrapperStyle()} className=\"message__wrapper\">\r\n          <div css={messageImgWrapper(this.props)} onClick={this.open} className=\"message__img__wrapper\">\r\n            <img src={this.state.imageUrl} alt={this.state.imageUrl} ref={el => { this.imgRef = el; }} />\r\n          </div>\r\n        </div>\r\n\r\n        {messageReactions}\r\n\r\n        <div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\r\n          <CometChatThreadedMessageReplyCount {...this.props} message={this.state.message} />\r\n          <CometChatReadReceipt {...this.props} message={this.state.message} />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatSenderImageMessageBubble.defaultProps = {\r\n  theme: theme\r\n};\r\n\r\nCometChatSenderImageMessageBubble.propTypes = {\r\n  theme: PropTypes.object\r\n}\r\n\r\nexport default CometChatSenderImageMessageBubble;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEXx7OqhaJO7AAAAAXRSTlPM0jRW/QAAAApJREFUeJxjYgAAAAYAAzY3fKgAAAAASUVORK5CYII=\"","export const messageContainerStyle = () => {\r\n\r\n    return {\r\n        alignSelf: \"flex-end\",\r\n        marginBottom: \"16px\",\r\n        paddingLeft: \"16px\",\r\n        paddingRight: \"16px\",\r\n        maxWidth: \"65%\",\r\n        clear: \"both\",\r\n        position: \"relative\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flexShrink: \"0\",\r\n        \":hover\": {\r\n            \"ul.message__actions\": {\r\n                display: \"flex\"\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const messageWrapperStyle = () => {\r\n\r\n    return {\r\n        width: \"auto\",\r\n        alignSelf: \"flex-end\",\r\n        display: \"flex\",\r\n        flex: \"1 1\"\r\n    }\r\n}\r\n\r\nexport const messageTxtWrapperStyle = (props) => {\r\n\r\n    return {\r\n        display: \"inline-block\",\r\n        borderRadius: \"12px\",\r\n        backgroundColor: `${props.theme.backgroundColor.blue}`,\r\n        color: `${props.theme.color.white}`,\r\n        padding: \"8px 16px\",\r\n        width: \"auto\",\r\n    }\r\n}\r\n\r\nexport const messageTxtStyle = (props, parsedMessage, emojiMessage, showVariation) => {\r\n\r\n    let emojiAlignmentProp = {\r\n        \" > img\": {\r\n            width: \"24px\",\r\n            height: \"24px\",\r\n            display: \"inline-block\",\r\n            verticalAlign: \"top\",\r\n            zoom: \"1\",\r\n            margin: \"0 2px\"\r\n        }\r\n    };\r\n\r\n    let emojiProp = {};\r\n\r\n    if (parsedMessage.length === emojiMessage.length && emojiMessage.length === 1) {\r\n        emojiProp = {\r\n           \"> img\": {\r\n                width: \"48px\",\r\n                height: \"48px\",\r\n           }\r\n        };\r\n    } else if (parsedMessage.length === emojiMessage.length && emojiMessage.length === 2) {\r\n        emojiProp = {\r\n            \"> img\": {\r\n                width: \"36px\",\r\n                height: \"36px\",\r\n            }\r\n        };\r\n    } else if (parsedMessage.length === emojiMessage.length && emojiMessage.length > 2) {\r\n        emojiProp = {\r\n            \"> img\": {\r\n                width: \"24px\",\r\n                height: \"24px\",\r\n            }\r\n        };\r\n    }\r\n\r\n    if (showVariation === false) {\r\n        emojiProp = {\r\n            \"> img\": {\r\n                width: \"24px\",\r\n                height: \"24px\",\r\n            }\r\n        };\r\n    }\r\n\r\n    return {\r\n        margin: \"0\",\r\n        fontSize: \"14px\",\r\n        whiteSpace: \"pre-wrap\",\r\n        wordBreak: \"break-word\",\r\n        textAlign: \"left\",\r\n        width: \"auto\",\r\n        \" a\": {\r\n            color: \"#0432FF\",\r\n            \"&:hover\": {\r\n                color: \"#04009D\"\r\n            }\r\n        },\r\n        \" a[href^='mailto:']\": {\r\n            color: \"#F38C00\",\r\n            \"&:hover\": {\r\n                color: \"#F36800\"\r\n            }\r\n        },\r\n        \" a[href^='tel:']\": {\r\n            color: \"#3802DA\",\r\n            \"&:hover\": {\r\n                color: \"#2D038F\"\r\n            }\r\n        },\r\n        ...emojiAlignmentProp,\r\n        ...emojiProp\r\n    }\r\n}\r\n\r\nexport const messageInfoWrapperStyle = () => {\r\n\r\n    return {\r\n        alignSelf: \"flex-end\",\r\n    }\r\n}\r\n\r\nexport const messageReactionsWrapperStyle = () => {\r\n\r\n    return {\r\n        display: \"inline-flex\",\r\n        alignSelf: \"flex-end\",\r\n        width: \"100%\",\r\n        flexWrap: \"wrap\",\r\n        justifyContent: \"flex-end\",\r\n    }\r\n}","import React from \"react\";\r\nimport twemoji from \"twemoji\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\nimport { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt, CometChatLinkPreview } from \"../\";\r\nimport { CometChatMessageReactions } from \"../Extensions\";\r\n\r\nimport { linkify, checkMessageForExtensionsData, validateWidgetSettings } from \"../../../util/common\";\r\n\r\nimport Translator from \"../../../resources/localization/translator\";\r\nimport { theme } from \"../../../resources/theme\";\r\n\r\nimport {\r\n  messageContainerStyle,\r\n  messageWrapperStyle,\r\n  messageTxtWrapperStyle,\r\n  messageTxtStyle,\r\n  messageInfoWrapperStyle,\r\n  messageReactionsWrapperStyle,\r\n} from \"./style\";\r\n\r\nclass CometChatSenderTextMessageBubble extends React.Component {\r\n\r\n  messageFrom = \"sender\";\r\n\r\n  constructor(props) {\r\n\r\n    super(props);\r\n\r\n    const message = Object.assign({}, props.message, { messageFrom: this.messageFrom });\r\n\r\n    this.state = {\r\n      message: message,\r\n      translatedMessage: \"\",\r\n      isHovering: false\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n\r\n    if (prevProps.message !== this.props.message) {\r\n      const message = Object.assign({}, this.props.message, { messageFrom: this.messageFrom });\r\n      this.setState({ message: message, translatedMessage: \"\" })\r\n    }\r\n  }\r\n\r\n  getMessageText = () => {\r\n\r\n    let messageText = this.state.message.text;\r\n    \r\n    //xss extensions data\r\n    const xssData = checkMessageForExtensionsData(this.state.message, \"xss-filter\");\r\n    if (xssData \r\n    && xssData.hasOwnProperty(\"sanitized_text\") \r\n    && xssData.hasOwnProperty(\"hasXSS\")\r\n    && xssData.hasXSS === \"yes\") {\r\n      messageText = xssData.sanitized_text;\r\n    }\r\n    \r\n    //datamasking extensions data\r\n    const maskedData = checkMessageForExtensionsData(this.state.message, \"data-masking\");\r\n    if (maskedData \r\n    && maskedData.hasOwnProperty(\"data\") \r\n    && maskedData.data.hasOwnProperty(\"sensitive_data\") \r\n    && maskedData.data.hasOwnProperty(\"message_masked\") \r\n    && maskedData.data.sensitive_data === \"yes\") {\r\n      messageText = maskedData.data.message_masked;\r\n    }\r\n   \r\n    //profanity extensions data\r\n    const profaneData = checkMessageForExtensionsData(this.state.message, \"profanity-filter\");\r\n    if (profaneData \r\n      && profaneData.hasOwnProperty(\"profanity\") \r\n      && profaneData.hasOwnProperty(\"message_clean\")\r\n      && profaneData.profanity === \"yes\") {\r\n      messageText = profaneData.message_clean;\r\n    }\r\n    \r\n    const formattedText = linkify(messageText);\r\n    \r\n    const emojiParsedMessage = twemoji.parse(formattedText, { folder: \"svg\", ext: \".svg\" });\r\n    const parsedMessage = ReactHtmlParser(emojiParsedMessage, { decodeEntities: false });\r\n    \r\n    const emojiMessage = parsedMessage.filter(message => (message instanceof Object && message.type === \"img\"));\r\n\r\n    let showVariation = true;\r\n    //if larger size emojis are disabled in chat widget\r\n    if (validateWidgetSettings(this.props.widgetsettings, \"show_emojis_in_larger_size\") === false) {\r\n      showVariation = false;\r\n    }\r\n\r\n    messageText = (\r\n      <div css={messageTxtWrapperStyle(this.props)} className=\"message__txt__wrapper\">\r\n        <p css={messageTxtStyle(this.props, parsedMessage, emojiMessage, showVariation)} className=\"message__txt\">{parsedMessage}{this.state.translatedMessage}</p>\r\n      </div>\r\n    );\r\n\r\n    return messageText;\r\n  }\r\n\r\n  translateMessage = (message) => {\r\n\r\n    const messageId = message.id;\r\n    const messageText = message.text;\r\n    const translateToLanguage = Translator.getBrowserLanguage();\r\n\r\n    let translatedMessage = \"\";\r\n\r\n    CometChat.callExtension('message-translation', 'POST', 'v2/translate', {\r\n      \"msgId\": messageId,\r\n      \"text\": messageText,\r\n      \"languages\": [translateToLanguage]\r\n    }).then(result => {\r\n\r\n      if (result.hasOwnProperty(\"language_original\") && result[\"language_original\"] !== translateToLanguage) {\r\n\r\n        if (result.hasOwnProperty(\"translations\") && result.translations.length) {\r\n          \r\n          const messageTranslation = result.translations[0];\r\n          if (messageTranslation.hasOwnProperty(\"message_translated\")) {\r\n\r\n            translatedMessage = `\\n(${messageTranslation[\"message_translated\"]})`;\r\n          }\r\n        }\r\n      }\r\n\r\n      this.setState({ translatedMessage: translatedMessage })\r\n\r\n    }).catch(error => {\r\n      // Some error occured\r\n\r\n      console.log(\"translateMessage error\", error);\r\n\r\n    });\r\n  }\r\n\r\n  handleMouseHover = () => {\r\n    this.setState(this.toggleHoverState);\r\n  }\r\n\r\n  toggleHoverState = (state) => {\r\n\r\n    return {\r\n      isHovering: !state.isHovering,\r\n    };\r\n  }\r\n\r\n  render() {\r\n\r\n    let messageText = this.getMessageText();\r\n    \r\n    //linkpreview extensions data\r\n    const linkPreviewData = checkMessageForExtensionsData(this.state.message, \"link-preview\");\r\n    if (linkPreviewData && linkPreviewData.hasOwnProperty(\"links\") && linkPreviewData[\"links\"].length) {\r\n\r\n      messageText = (\r\n        <CometChatLinkPreview {...this.props} message={this.state.message} messageText={messageText} />\r\n      );\r\n    }\r\n\r\n    //messagereactions extensions data\r\n    let messageReactions = null;\r\n    const reactionsData = checkMessageForExtensionsData(this.state.message, \"reactions\");\r\n    if (reactionsData) {\r\n\r\n      if (Object.keys(reactionsData).length) {\r\n        messageReactions = (\r\n          <div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\r\n            <CometChatMessageReactions  {...this.props} message={this.state.message} reaction={reactionsData} />\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n\r\n    let toolTipView = null;\r\n    if (this.state.isHovering) {\r\n      toolTipView = (<CometChatMessageActions {...this.props} message={this.state.message} translateMessage={this.translateMessage} />);\r\n    }\r\n\r\n    return (\r\n      <div \r\n      css={messageContainerStyle()} \r\n      className=\"sender__message__container message__text\"\r\n      onMouseEnter={this.handleMouseHover}\r\n      onMouseLeave={this.handleMouseHover}>\r\n        \r\n        {toolTipView}\r\n        <div css={messageWrapperStyle()} className=\"message__wrapper\">{messageText}</div>\r\n        \r\n        {messageReactions}\r\n\r\n        <div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\r\n          <CometChatThreadedMessageReplyCount {...this.props} message={{...this.state.message}} />\r\n          <CometChatReadReceipt {...this.props} message={this.state.message} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatSenderTextMessageBubble.defaultProps = {\r\n  theme: theme\r\n};\r\n\r\nCometChatSenderTextMessageBubble.propTypes = {\r\n  theme: PropTypes.object\r\n}\r\n\r\nexport default CometChatSenderTextMessageBubble;","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\n\r\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\r\nimport { CometChatMessageReactions } from \"../Extensions\";\r\n\r\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\r\n\r\nimport {\r\n  messageContainerStyle,\r\n  messageWrapperStyle,\r\n  messageVideoWrapperStyle,\r\n  messageInfoWrapperStyle,\r\n  messageReactionsWrapperStyle\r\n} from \"./style\";\r\n\r\nclass CometChatSenderVideoMessageBubble extends React.PureComponent {\r\n\r\n  messageFrom = \"sender\";\r\n\r\n  constructor(props) {\r\n\r\n    super(props);\r\n\r\n    const message = Object.assign({}, props.message, { messageFrom: this.messageFrom });\r\n\r\n    this.state = {\r\n      message: message,\r\n      isHovering: false\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n\r\n    const previousMessageStr = JSON.stringify(prevProps.message);\r\n    const currentMessageStr = JSON.stringify(this.props.message);\r\n\r\n    if (previousMessageStr !== currentMessageStr) {\r\n\r\n      const message = Object.assign({}, this.props.message, { messageFrom: this.messageFrom });\r\n      this.setState({ message: message })\r\n    }\r\n  }\r\n\r\n  handleMouseHover = () => {\r\n    this.setState(this.toggleHoverState);\r\n  }\r\n\r\n  toggleHoverState = (state) => {\r\n\r\n    return {\r\n      isHovering: !state.isHovering,\r\n    };\r\n  }\r\n\r\n  render() {\r\n\r\n    let messageReactions = null;\r\n    const reactionsData = checkMessageForExtensionsData(this.state.message, \"reactions\");\r\n    if (reactionsData) {\r\n\r\n      if (Object.keys(reactionsData).length) {\r\n        messageReactions = (\r\n          <div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\r\n            <CometChatMessageReactions {...this.props} message={this.state.message} reaction={reactionsData} />\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n\r\n    let toolTipView = null;\r\n    if (this.state.isHovering) {\r\n      toolTipView = (<CometChatMessageActions {...this.props} message={this.state.message} />);\r\n    }\r\n\r\n    return (\r\n      <div \r\n      css={messageContainerStyle()} \r\n      className=\"sender__message__container message__video\"\r\n      onMouseEnter={this.handleMouseHover}\r\n      onMouseLeave={this.handleMouseHover}>\r\n\r\n        {toolTipView}\r\n          \r\n        <div css={messageWrapperStyle()} className=\"message__wrapper\">\r\n          <div css={messageVideoWrapperStyle(this.props)} className=\"message__video__wrapper\">\r\n            <video controls src={this.state.message.data.url}></video>\r\n          </div>\r\n        </div>\r\n\r\n        {messageReactions}\r\n\r\n        <div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\r\n          <CometChatThreadedMessageReplyCount {...this.props} message={this.state.message} />\r\n          <CometChatReadReceipt {...this.props} message={this.state.message} />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default CometChatSenderVideoMessageBubble;","export const messageContainerStyle = () => {\r\n\r\n    return {\r\n        alignSelf: \"flex-end\",\r\n        marginBottom: \"16px\",\r\n        paddingLeft: \"16px\",\r\n        paddingRight: \"16px\",\r\n        maxWidth: \"65%\",\r\n        clear: \"both\",\r\n        position: \"relative\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flexShrink: \"0\",\r\n        \":hover\": {\r\n            \"ul.message__actions\": {\r\n                display: \"flex\"\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const messageWrapperStyle = () => {\r\n\r\n    return {\r\n        width: \"auto\",\r\n        flex: \"1 1\",\r\n        alignSelf: \"flex-end\",\r\n        display: \"flex\",\r\n    }\r\n}\r\n\r\nexport const messageVideoWrapperStyle = (props) => {\r\n\r\n    return {\r\n        display: \"inline-block\",\r\n        alignSelf: 'flex-end',\r\n        ' > video': {\r\n            maxWidth: \"250px\",\r\n            borderRadius: \"12px\",\r\n            display: \"inherit\",\r\n        }\r\n    }\r\n}\r\n\r\nexport const messageInfoWrapperStyle = () => {\r\n\r\n    return {\r\n        alignSelf: \"flex-end\",\r\n    }\r\n}\r\n\r\nexport const messageReactionsWrapperStyle = () => {\r\n\r\n    return {\r\n        display: \"inline-flex\",\r\n        alignSelf: \"flex-end\",\r\n        width: \"100%\",\r\n        flexWrap: \"wrap\",\r\n        justifyContent: \"flex-end\",\r\n    }\r\n}","export const replyCountStyle = (props) => {\r\n\r\n    return {\r\n        display: \"inline-block\",\r\n        fontSize: \"11px\",\r\n        fontWeight: \"500\",\r\n        lineHeight: \"12px\",\r\n        textTransform: \"lowercase\",\r\n        padding: \"0 10px\",\r\n        cursor: \"pointer\",\r\n        color: props.theme.color.blue,\r\n        '&:hover': {\r\n            textDecoration: \"underline\",\r\n        }\r\n    }\r\n}","/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { validateWidgetSettings } from \"../../../util/common\";\r\n\r\nimport { theme } from \"../../../resources/theme\";\r\nimport Translator from \"../../../resources/localization/translator\";\r\n\r\nimport { replyCountStyle } from \"./style\";\r\n\r\nconst CometChatThreadedMessageReplyCount = (props) => {\r\n\r\n    const replyCount = props.message.replyCount;\r\n    const replyText = (replyCount === 1) ? (`${replyCount} ${Translator.translate(\"REPLY\", props.lang)}`) : (`${replyCount} ${Translator.translate(\"REPLIES\", props.lang)}`);\r\n\r\n    let replies = (\r\n    <span \r\n    css={replyCountStyle(props)} \r\n    className=\"replycount\" \r\n    onClick={() => props.actionGenerated(\"viewMessageThread\", props.message)}>{replyText}</span>);\r\n\r\n    if(props.message.hasOwnProperty(\"replyCount\") === false) {\r\n        replies = null;\r\n    }\r\n\r\n\r\n    //if threadedchats are disabled in chat widget\r\n    if (validateWidgetSettings(props.widgetconfig, \"threaded-chats\") === false) {\r\n        replies = null;\r\n    }\r\n\r\n    //if threadedchats are disabled in chat widget\r\n    if (validateWidgetSettings(props.widgetsettings, \"enable_threaded_replies\") === false) {\r\n        replies = null;\r\n    }\r\n\r\n    return replies;\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatThreadedMessageReplyCount.defaultProps = {\r\n    lang: Translator.getDefaultLanguage(),\r\n    theme: theme,\r\n    message: {}\r\n};\r\n\r\nCometChatThreadedMessageReplyCount.propTypes = {\r\n    lang: PropTypes.string,\r\n    theme: PropTypes.object,\r\n    message: PropTypes.object\r\n}\r\n\r\nexport default CometChatThreadedMessageReplyCount;","\r\n\r\nexport const previewWrapperStyle = (props, keyframes) => {\r\n\r\n    const slideAnimation = keyframes`\r\n    from {\r\n        bottom: -55px\r\n    }\r\n    to {\r\n        bottom: 0px\r\n    }`;\r\n\r\n    return {\r\n        padding: \"7px\",\r\n        backgroundColor: `${props.theme.backgroundColor.white}`,\r\n        border: `1px solid ${props.theme.borderColor.primary}`,\r\n        fontSize: \"13px\",\r\n        display: \"flex\",\r\n        flexDirection: \"row-reverse\",\r\n        justifyContent: \"space-between\",\r\n        animation: `${slideAnimation} 0.5s ease-out`,\r\n        position: \"relative\",\r\n    }\r\n}\r\n\r\nexport const previewHeadingStyle = () => {\r\n\r\n    return {\r\n        alignSelf: \"flex-start\",\r\n        display: \"flex\",\r\n        alignItems: \"baseline\",\r\n        justifyContent: \"space-between\"\r\n    }\r\n}\r\n\r\nexport const previewCloseStyle = (img) => {\r\n\r\n    return {\r\n        width: \"24px\",\r\n        height: \"24px\",\r\n        borderRadius: \"50%\",\r\n        background: `url(${img}) center center no-repeat`,\r\n        cursor: \"pointer\",\r\n    }\r\n}\r\n\r\nexport const previewOptionsWrapperStyle = () => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"space-around\",\r\n        width: \"100%\",\r\n    }\r\n}\r\n\r\nexport const previewOptionStyle = (props) => {\r\n\r\n    return {\r\n        padding: \"8px\",\r\n        margin: \"0 8px\",\r\n        backgroundColor: `${props.theme.backgroundColor.grey}`,\r\n        border: `1px solid ${props.theme.borderColor.primary}`,\r\n        borderRadius: \"10px\",\r\n        cursor: \"pointer\",\r\n        height: \"100%\",\r\n        textAlign: \"center\",\r\n    }\r\n}","/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx, keyframes } from '@emotion/core';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { theme } from \"../../../../resources/theme\";\r\n\r\nimport {\r\n    previewWrapperStyle,\r\n    previewHeadingStyle,\r\n    previewCloseStyle,\r\n    previewOptionsWrapperStyle,\r\n    previewOptionStyle,\r\n} from \"./style\";\r\n\r\nimport closeIcon from \"./resources/close.png\";\r\n\r\nconst CometChatSmartReplyPreview = (props) => {\r\n\r\n    const options = props.options.map((option, key) => {\r\n\r\n        return (<div key={key} css={previewOptionStyle(props)} className=\"option\" onClick={() => props.clicked(option)}>{option}</div>)\r\n    })\r\n\r\n    return (\r\n        <div css={previewWrapperStyle(props, keyframes)} className=\"reply__preview__wrapper\">\r\n            <div css={previewHeadingStyle()} className=\"preview__heading\">\r\n                <div css={previewCloseStyle(closeIcon)} onClick={props.close} className=\"preview__close\"></div>\r\n            </div>\r\n            <div css={previewOptionsWrapperStyle()} className=\"preview__options\">{options}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatSmartReplyPreview.defaultProps = {\r\n    theme: theme\r\n};\r\n\r\nCometChatSmartReplyPreview.propTypes = {\r\n    theme: PropTypes.object\r\n}\r\n\r\nexport default CometChatSmartReplyPreview;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFaADAAQAAAABAAAAFQAAAAAIGxIOAAACcElEQVQ4EZ2UPYgTQRiGs3MJhoAHBoNgIQd3vYiVjaV2IhHCZqMcWFgqCqcQ9U4Uf++wsFCw8DfJhuUKUUhhk0KwUlA4sFA4EJSAhAsWggSzPt+6EyZze6dxYJj53vf93vl2ftZJbdLCMFSNRmOP4zhT9Dy9C7bquu475uFGqU4SgdF2kqskeow7bA34V7Aa3I1KpbK2jreBer1eAbtLn7S5hHhNKXWiXC4vm5wyAyqcJ67R/8VQUrdRbUDenAS6DT8fYhbBI02MM8b763qeF0heZOr7/s7BYPCRODeOmaX9nslkZkql0rfo86nwkm3I6s/pvpUYheBP6M8sbrLf718QTLVarS2YupYgBfaaz/HA71jcEvAs2BsLT7HQ0Xa7nVa9Xm8/5NYEwVW5CbRTcJExSYvEc/H+X7ZzKCTf6XT2KYTTNikxggm4x9qY+SEqPBsbPkAycnMMj+k0B1QwgJGpNm42myu8ohcssBdsM0MppiCrrXsRpjMV3sTwfRAEu/j0t8RLJp8wlwehPicQEYTBdV7LeflkTvYTlcpdPAd+a6Mc8VO5XK6N6KctgryHQdXYwwy6mjZGf9/OIf5B3qvo8pO4zF4cMUUY3Cb+Ar7IODwU8F/Ep8FnGE/Shw3OpxAvLQjuFzmwwwgntIL5GT03x1hj312R9OEWZBJVwEF8YJUrAvxvI3+Bg5Sn/ufty4RVHP4BTxnl1zdWw/AhX31cJ5l7FXLSx9gKqXigBX8ZRTdvGop++Oszk7nsu9nja2AH4z00aXnjclgtCqiydSsjJEGiqRZx4QvczwOYTIHlWaDLfDWbzb4sFotdrbPH34IuDwr79+D1AAAAAElFTkSuQmCC\"","export const stickerWrapperStyle = (props, keyframes) => {\r\n\r\n    const slideAnimation = keyframes`\r\n    from {\r\n        bottom: -55px\r\n    }\r\n    to {\r\n        bottom: 0px\r\n    }`;\r\n\r\n    return {\r\n        backgroundColor: `${props.theme.backgroundColor.grey}`,\r\n        border: `1px solid ${props.theme.borderColor.primary}`,\r\n        borderBottom: \"none\",\r\n        animation: `${slideAnimation} 0.5s ease-out`,\r\n        borderRadius: \"10px 10px 0 0\",\r\n        height: \"215px\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        justifyContent: \"center\",\r\n    }\r\n}\r\n\r\nexport const stickerSectionListStyle = (props) => {\r\n\r\n    return {\r\n        borderTop: `1px solid ${props.theme.borderColor.primary}`,\r\n        backgroundColor: `${props.theme.backgroundColor.silver}`,\r\n        display: \"flex\",\r\n        justifyContent: \"space-between\",\r\n        alignItems: \"center\",\r\n        textTransform: \"uppercase\",\r\n        overflowX: \"auto\",\r\n        overflowY: \"hidden\",\r\n        padding: \"10px\",\r\n        \"::-webkit-scrollbar\": {\r\n            background: `${props.theme.backgroundColor.primary}`\r\n        },\r\n        \"::-webkit-scrollbar-thumb\": {\r\n            background: `${props.theme.backgroundColor.silver}`,\r\n        }\r\n    }\r\n}\r\n\r\nexport const sectionListItemStyle = (props) => {\r\n\r\n    return {\r\n\r\n        height: \"35px\",\r\n        width: \"35px\",\r\n        cursor: \"pointer\",\r\n        flexShrink: \"0\",\r\n        \":not(:first-of-type)\": {\r\n            marginLeft: \"16px\",\r\n        },\r\n    }\r\n}\r\n\r\nexport const stickerListStyle = () => {\r\n\r\n    return {\r\n        height: \"calc(100% - 50px)\",\r\n        display: \"flex\",\r\n        overflowX: \"hidden\",\r\n        overflowY: \"auto\",\r\n        flexWrap: \"wrap\",\r\n        justifyContent: \"space-between\",\r\n        alignItems: \"center\"\r\n    }\r\n}\r\n\r\nexport const stickerItemStyle = (props) => {\r\n\r\n    const mq = [...props.theme.breakPoints];\r\n\r\n    return {\r\n        minWidth: \"50px\",\r\n        minHeight: \"50px\",\r\n        maxWidth: \"70px\",\r\n        maxHeight: \"70px\",\r\n        cursor: \"pointer\",\r\n        flexShrink: \"0\",\r\n        marginRight: \"20px\",\r\n        [`@media ${mq[0]}`]: {\r\n            maxWidth: \"70px\",\r\n            maxHeight: \"70px\",\r\n        }\r\n    }\r\n}\r\n\r\nexport const stickerMsgStyle = () => {\r\n\r\n    return {\r\n        overflow: \"hidden\",\r\n        width: \"100%\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        position: \"absolute\",\r\n        top: \"35%\",\r\n    }\r\n}\r\n\r\nexport const stickerMsgTxtStyle = (theme) => {\r\n\r\n    return {\r\n        margin: \"0\",\r\n        height: \"30px\",\r\n        color: `${theme.color.secondary}`,\r\n        fontSize: \"24px!important\",\r\n        fontWeight: \"600\"\r\n    }\r\n}\r\n\r\nexport const stickerCloseStyle = (img) => {\r\n\r\n    return {\r\n        width: \"20px\",\r\n        height: \"20px\",\r\n        borderRadius: \"50%\",\r\n        alignSelf: \"flex-end\",\r\n        background: `url(${img}) center center no-repeat`,\r\n        cursor: \"pointer\",\r\n        margin: \"8px 8px 0 0\",\r\n    }\r\n}\r\n","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx, keyframes } from '@emotion/core';\r\nimport PropTypes from 'prop-types';\r\nimport { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport { theme } from \"../../../../resources/theme\";\r\nimport Translator from \"../../../../resources/localization/translator\";\r\n\r\nimport { \r\n    stickerWrapperStyle, \r\n    stickerSectionListStyle, \r\n    stickerListStyle,\r\n    sectionListItemStyle,\r\n    stickerItemStyle,\r\n    stickerMsgStyle,\r\n    stickerMsgTxtStyle,\r\n    stickerCloseStyle\r\n} from \"./style\";\r\n\r\nimport closeIcon from \"./resources/close.png\";\r\n\r\nclass CometChatStickerKeyboard extends React.PureComponent {\r\n\r\n    constructor(props) {\r\n\r\n        super(props);\r\n\r\n        this.decoratorMessage = Translator.translate(\"LOADING\", props.lang);\r\n\r\n        this.state = {\r\n            stickerlist: [],\r\n            stickerset: {},\r\n            activestickerlist: [],\r\n            activestickerset: null\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getStickers();\r\n    }\r\n\r\n    getStickers = () => {\r\n\r\n        CometChat.callExtension('stickers', 'GET', 'v1/fetch', null).then(stickers => {\r\n\r\n            // Stickers received\r\n            let activeStickerSet = null; \r\n            const customStickers = (stickers.hasOwnProperty(\"customStickers\")) ? stickers[\"customStickers\"] : [];\r\n            const defaultStickers = (stickers.hasOwnProperty(\"defaultStickers\")) ? stickers[\"defaultStickers\"] : [];\r\n\r\n            defaultStickers.sort(function (a, b) {\r\n                return a.stickerSetOrder - b.stickerSetOrder;\r\n            });\r\n\r\n            customStickers.sort(function (a, b) {\r\n                return a.stickerSetOrder - b.stickerSetOrder;\r\n            });\r\n\r\n            const stickerList = [...defaultStickers, ...customStickers];\r\n            \r\n            if (stickerList.length === 0) {\r\n                this.decoratorMessage = Translator.translate(\"NO_STICKERS_FOUND\", this.props.lang);\r\n            }\r\n\r\n            const stickerSet = stickerList.reduce((r, sticker, index) => {\r\n\r\n                const { stickerSetName } = sticker;\r\n                if (index === 0) {\r\n                    activeStickerSet = stickerSetName;\r\n                }\r\n\r\n                r[stickerSetName] = [...r[stickerSetName] || [], { ...sticker}];\r\n\r\n                return r;\r\n            }, {});\r\n\r\n            let activeStickerList = [];\r\n            if (Object.keys(stickerSet).length) {\r\n\r\n                Object.keys(stickerSet).forEach(key => {\r\n                    stickerSet[key].sort(function (a, b) {\r\n                        return a.stickerOrder - b.stickerOrder;\r\n                    });\r\n                });\r\n\r\n                activeStickerList = stickerSet[activeStickerSet];\r\n            }\r\n            \r\n            this.setState({ \r\n                \"stickerlist\": stickerList, \r\n                \"stickerset\": stickerSet, \r\n                \"activestickerlist\": activeStickerList, \r\n                \"activestickerset\": activeStickerSet \r\n            });\r\n\r\n        }).catch(error => {\r\n            \r\n            // Some error occured\r\n            console.warn(\"Error: \", error);\r\n            this.decoratorMessage = Translator.translate(\"NO_STICKERS_FOUND\", this.props.lang);\r\n\r\n            this.setState({ \"activestickerlist\": [], \"stickerset\": {} });\r\n\r\n        });\r\n    }\r\n\r\n    sendStickerMessage = (stickerItem) => {\r\n        this.props.actionGenerated(\"sendSticker\", stickerItem);\r\n    }\r\n\r\n    onStickerSetClicked = (sectionItem) => {\r\n\r\n        this.setState({ activestickerlist: [] }, () => {\r\n\r\n            const stickerSet = { ...this.state.stickerset };\r\n            const activeStickerList = stickerSet[sectionItem];\r\n            this.setState({ \"activestickerset\": sectionItem, \"activestickerlist\": activeStickerList });\r\n        });\r\n    }\r\n\r\n    render() {\r\n\r\n        let messageContainer = null;\r\n        if (this.state.activestickerlist.length === 0) {\r\n            messageContainer = (\r\n                <div css={stickerMsgStyle()} className=\"stickers__decorator-message\">\r\n                    <p css={stickerMsgTxtStyle(this.props.theme)} className=\"decorator-message\">{this.decoratorMessage}</p>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        let stickers = null;\r\n        if (Object.keys(this.state.stickerset).length) {\r\n\r\n            const sectionItems = Object.keys(this.state.stickerset).map((sectionItem, key) => {\r\n\r\n                const stickerSetThumbnail = this.state.stickerset[sectionItem][0][\"stickerUrl\"];\r\n                return(\r\n                <div \r\n                key={key} \r\n                className=\"stickers__sectionitem\"\r\n                css={sectionListItemStyle(this.props)} \r\n                onClick={() => this.onStickerSetClicked(sectionItem)}>\r\n                    <img src={stickerSetThumbnail} alt={sectionItem} />\r\n                </div>\r\n                );\r\n            });\r\n\r\n            let activeStickerList = [];\r\n            if (this.state.activestickerlist.length) {\r\n\r\n                const stickerList = [...this.state.activestickerlist];\r\n                activeStickerList = stickerList.map((stickerItem, key) => {\r\n\r\n                    return (\r\n                        <div key={key} css={stickerItemStyle(this.props)} onClick={() => this.sendStickerMessage(stickerItem)} className=\"stickers__listitem\">\r\n                            <img src={stickerItem.stickerUrl} alt={stickerItem.stickerName} />\r\n                        </div>\r\n                    );\r\n                });\r\n            }\r\n\r\n            stickers = (\r\n                <React.Fragment>\r\n                    <div css={stickerCloseStyle(closeIcon)} className=\"stickers__close\" onClick={() => this.props.actionGenerated(\"closeSticker\")}></div>\r\n                    <div css={stickerListStyle(this.props)} className=\"stickers__list\">{activeStickerList}</div>\r\n                    <div css={stickerSectionListStyle(this.props)} className=\"stickers__sections\">{sectionItems}</div>\r\n                </React.Fragment>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div css={stickerWrapperStyle(this.props, keyframes)} className=\"stickers\">\r\n                {messageContainer}\r\n                {stickers}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatStickerKeyboard.defaultProps = {\r\n    lang: Translator.getDefaultLanguage(),\r\n    theme: theme\r\n};\r\n\r\nCometChatStickerKeyboard.propTypes = {\r\n    lang: PropTypes.string,\r\n    theme: PropTypes.object\r\n}\r\n\r\nexport default CometChatStickerKeyboard;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFaADAAQAAAABAAAAFQAAAAAIGxIOAAACcElEQVQ4EZ2UPYgTQRiGs3MJhoAHBoNgIQd3vYiVjaV2IhHCZqMcWFgqCqcQ9U4Uf++wsFCw8DfJhuUKUUhhk0KwUlA4sFA4EJSAhAsWggSzPt+6EyZze6dxYJj53vf93vl2ftZJbdLCMFSNRmOP4zhT9Dy9C7bquu475uFGqU4SgdF2kqskeow7bA34V7Aa3I1KpbK2jreBer1eAbtLn7S5hHhNKXWiXC4vm5wyAyqcJ67R/8VQUrdRbUDenAS6DT8fYhbBI02MM8b763qeF0heZOr7/s7BYPCRODeOmaX9nslkZkql0rfo86nwkm3I6s/pvpUYheBP6M8sbrLf718QTLVarS2YupYgBfaaz/HA71jcEvAs2BsLT7HQ0Xa7nVa9Xm8/5NYEwVW5CbRTcJExSYvEc/H+X7ZzKCTf6XT2KYTTNikxggm4x9qY+SEqPBsbPkAycnMMj+k0B1QwgJGpNm42myu8ohcssBdsM0MppiCrrXsRpjMV3sTwfRAEu/j0t8RLJp8wlwehPicQEYTBdV7LeflkTvYTlcpdPAd+a6Mc8VO5XK6N6KctgryHQdXYwwy6mjZGf9/OIf5B3qvo8pO4zF4cMUUY3Cb+Ar7IODwU8F/Ep8FnGE/Shw3OpxAvLQjuFzmwwwgntIL5GT03x1hj312R9OEWZBJVwEF8YJUrAvxvI3+Bg5Sn/ufty4RVHP4BTxnl1zdWw/AhX31cJ5l7FXLSx9gKqXigBX8ZRTdvGop++Oszk7nsu9nja2AH4z00aXnjclgtCqiydSsjJEGiqRZx4QvczwOYTIHlWaDLfDWbzb4sFotdrbPH34IuDwr79+D1AAAAAElFTkSuQmCC\"","export const messageReactionsStyle = (props, reactionData) => {\r\n\r\n    const uid = props.loggedInUser.uid;\r\n    let borderStyle = {};\r\n    let hoveredBorderStyle = {};\r\n\r\n    if (reactionData.hasOwnProperty(uid)) {\r\n        borderStyle = {\r\n            border: `1px solid ${props.theme.borderColor.blue}`\r\n        }\r\n\r\n        hoveredBorderStyle = { ...borderStyle };\r\n\r\n    } else {\r\n        borderStyle = {\r\n            border: \"1px solid transparent\"\r\n        }\r\n\r\n        hoveredBorderStyle = { \r\n            border: `1px solid ${props.theme.borderColor.primary}`\r\n         };\r\n    }\r\n\r\n    return {\r\n        fontSize: \"11px\",\r\n        padding: \"2px 6px\",\r\n        display: \"inline-flex\",\r\n        alignItems: \"center\",\r\n        verticalAlign: \"top\",\r\n        backgroundColor: `${props.theme.backgroundColor.secondary}`,\r\n        borderRadius: \"12px\",\r\n        margin: \"4px 4px 0 0\",\r\n        cursor: \"pointer\",\r\n        ...borderStyle,\r\n        \".emoji-mart-emoji\": {\r\n            display: \"inline-flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n        },\r\n        \"&:hover\": {\r\n            ...hoveredBorderStyle,\r\n        }\r\n    }\r\n}\r\n\r\nexport const emojiButtonStyle = (img) => {\r\n\r\n    return {\r\n        outline: \"0\",\r\n        border: \"0\",\r\n        borderRadius: \"4px\",\r\n        alignItems: \"center\",\r\n        display: \"inline-flex\",\r\n        justifyContent: \"center\",\r\n        position: \"relative\",\r\n        \"span\": {\r\n            height: \"20px\",\r\n            width: \"20px\",\r\n            background: `url(${img}) center center / 20px 19px no-repeat`,\r\n        }        \r\n    }\r\n}\r\n\r\nexport const reactionCountStyle = (props) => {\r\n\r\n    return {\r\n        color: `${props.theme.color.primary}`,\r\n        padding: \"0 1px 0 3px\",\r\n    }\r\n}","export default __webpack_public_path__ + \"static/media/add-reaction.738e657c.png\";","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Emoji } from \"emoji-mart\";\r\nimport { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport { checkMessageForExtensionsData, validateWidgetSettings } from \"../../../../util/common\";\r\n\r\nimport { theme } from \"../../../../resources/theme\";\r\nimport Translator from \"../../../../resources/localization/translator\";\r\n\r\nimport {\r\n    messageReactionsStyle,\r\n    reactionCountStyle,\r\n    emojiButtonStyle,\r\n} from \"./style\";\r\n\r\nimport reactIcon from \"./resources/add-reaction.png\";\r\n\r\nclass CometChatMessageReactions extends React.Component {\r\n\r\n    constructor(props) {\r\n\r\n        super(props);\r\n        this.state = {\r\n            message: props.message,\r\n            reaction: props.reaction\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n\r\n        if (prevProps.message !== this.props.message) {\r\n            this.setState({ message: this.props.message });\r\n        }\r\n    }\r\n\r\n    reactToMessages = (emoji) => {\r\n\r\n        CometChat.callExtension(\"reactions\", \"POST\", \"v1/react\", {\r\n            msgId: this.state.message.id,\r\n            emoji: emoji.colons,\r\n        }).then(response => {\r\n            // Reaction added successfully\r\n        }).catch(error => {\r\n            // Some error occured\r\n        });\r\n    }\r\n\r\n    triggerEmojiClick = (event) => {\r\n\r\n        event.stopPropagation();\r\n        event.currentTarget.querySelector(\".emoji-mart-emoji\").click();\r\n    }\r\n\r\n    getMessageReactions = (reaction) => {\r\n\r\n        if(reaction === null) {\r\n            return null;\r\n        }\r\n\r\n        const messageReactions = Object.keys(reaction).map((data, key) => {\r\n\r\n            const reactionData = reaction[data];\r\n            const reactionName = data.replaceAll(\":\", \"\");\r\n            const reactionCount = Object.keys(reactionData).length;\r\n\r\n            if (!reactionCount) {\r\n                return null;\r\n            }\r\n\r\n            const userList = [];\r\n            let reactionTitle = \"\";\r\n\r\n            for (const user in reactionData) {\r\n                userList.push(reactionData[user][\"name\"]);\r\n            }\r\n\r\n            if (userList.length) {\r\n\r\n                reactionTitle = userList.join(\", \");\r\n                const str = ` ${Translator.translate(\"REACTED\", this.props.lang)}`;\r\n                reactionTitle = reactionTitle.concat(str);\r\n            }\r\n\r\n            const reactionClassName = `reaction reaction__${reactionName}`;\r\n            return (\r\n                <div\r\n                key={key}\r\n                css={messageReactionsStyle(this.props, reactionData)}\r\n                className={reactionClassName}\r\n                title={reactionTitle}\r\n                onClick={this.triggerEmojiClick}>\r\n                    <Emoji\r\n                    emoji={{ id: reactionName }}\r\n                    size={16}\r\n                    native\r\n                    onClick={this.reactToMessages} />\r\n                    <span css={reactionCountStyle(this.props)} className=\"reaction__count\">{reactionCount}</span>\r\n                </div>\r\n            );\r\n        });\r\n\r\n        return messageReactions;\r\n    }\r\n\r\n    addMessageReaction = () => {\r\n\r\n        //if message reactions are disabled in chat widget\r\n        if (validateWidgetSettings(this.props.widgetsettings, \"allow_message_reactions\") === false) {\r\n            return null;\r\n        }\r\n\r\n        const addReactionEmoji = (\r\n            <div \r\n            key=\"-1\" \r\n            css={messageReactionsStyle(this.props, {})} \r\n            className=\"reaction reaction__add\"\r\n            title={Translator.translate(\"ADD_REACTION\", this.props.lang)}>\r\n                <button\r\n                type=\"button\"\r\n                css={emojiButtonStyle(reactIcon)}\r\n                className=\"button__reacttomessage\"\r\n                onClick={() => this.props.actionGenerated(\"reactToMessage\", this.props.message)}><span></span></button>\r\n            </div>\r\n        );\r\n\r\n        return addReactionEmoji;\r\n    }\r\n\r\n    render() {\r\n\r\n        const reaction = checkMessageForExtensionsData(this.state.message, \"reactions\");\r\n        const messageReactions = this.getMessageReactions(reaction);\r\n\r\n        const addReactionEmoji = this.addMessageReaction();\r\n\r\n        if (messageReactions !== null && messageReactions.length && addReactionEmoji !== null) {\r\n\r\n            if (this.props.message.messageFrom === \"receiver\") {\r\n                messageReactions.push(addReactionEmoji);\r\n            } else {\r\n                messageReactions.unshift(addReactionEmoji);\r\n            }\r\n        }\r\n\r\n        return (messageReactions);\r\n    }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatMessageReactions.defaultProps = {\r\n    lang: Translator.getDefaultLanguage(),\r\n    theme: theme\r\n};\r\n\r\nCometChatMessageReactions.propTypes = {\r\n    lang: PropTypes.string,\r\n    theme: PropTypes.object\r\n}\r\n\r\nexport default CometChatMessageReactions;","export const modalWrapperStyle = (props) => {\r\n\r\n    const show = (props.open) ? {\r\n        display: \"block\",\r\n    } : {};\r\n\r\n    const mq = [`@media (min-width : 320px) and (max-width: 767px)`];\r\n\r\n    return {\r\n        minWidth: \"350px\",\r\n        minHeight: \"450px\",\r\n        width: \"50%\",\r\n        height: \"40%\",\r\n        overflow: \"hidden\",\r\n        backgroundColor: `${props.theme.backgroundColor.white}`,\r\n        position: \"fixed\",\r\n        left: \"50%\",\r\n        top: \"50%\",\r\n        transform: \"translate(-50%, -50%)\",\r\n        zIndex: \"1002\",\r\n        margin: \"0 auto\",\r\n        boxShadow: \"rgba(20, 20, 20, 0.2) 0 16px 32px, rgba(20, 20, 20, 0.04) 0 0 0 1px\",\r\n        borderRadius: \"12px\",\r\n        display: \"none\",\r\n        ...show,\r\n        [mq[0]]: {\r\n            width: \"100%\",\r\n            height: \"100%\"\r\n        }\r\n    }\r\n}\r\n\r\nexport const modalCloseStyle = (img) => {\r\n\r\n    return {\r\n        position: \"absolute\",\r\n        width: \"32px\",\r\n        height: \"32px\",\r\n        borderRadius: \"50%\",\r\n        top: \"16px\",\r\n        right: \"16px\",\r\n        background: `url(${img}) center center no-repeat`,\r\n        cursor: \"pointer\",\r\n    }\r\n}\r\n\r\nexport const modalBodyStyle = () => {\r\n\r\n    return {\r\n        padding: \"24px\",\r\n        height: \"100%\",\r\n        width: \"100%\"\r\n    }\r\n}\r\n\r\nexport const modalErrorStyle = () => {\r\n\r\n    return {\r\n        fontSize: \"12px\",\r\n        color: \"red\",\r\n        textAlign: \"center\",\r\n        height: \"30px\"\r\n    }\r\n}\r\n\r\nexport const modalTableStyle = (props) => {\r\n\r\n    return {\r\n        borderCollapse: \"collapse\",\r\n        margin: \"0\",\r\n        padding: \"0\",\r\n        width: \"100%\",\r\n        height: \"90%\",\r\n        \"tr\": {\r\n            borderBottom: `1px solid ${props.theme.borderColor.primary}`,\r\n            display: \"table\",\r\n            width: \"100%\",\r\n            tableLayout: \"fixed\",\r\n        }\r\n    }\r\n}\r\n\r\nexport const tableCaptionStyle = () => {\r\n\r\n    return {\r\n        fontSize: \"20px\",\r\n        marginBottom: \"15px\",\r\n        fontWeight: \"bold\",\r\n        textAlign: \"left\",\r\n    }\r\n}\r\n\r\nexport const tableBodyStyle = () => {\r\n\r\n    return {\r\n        height: \"calc(100% - 40px)\",\r\n        overflowY: \"auto\",\r\n        display: \"block\",\r\n        \"tr\": {\r\n            \"td\": {\r\n                padding: \"8px 16px\",\r\n                fontSize: \"14px\",\r\n                \"input\": {\r\n                    width: \"100%\",\r\n                    border: \"none\",\r\n                    padding: \"8px 16px\",\r\n                    fontSize: \"14px\",\r\n                    \"&:focus\": {\r\n                        outline: \"none\"\r\n                    }\r\n                },\r\n                \"label\": {\r\n                    padding: \"8px 16px\", \r\n                },\r\n                \":first-of-type\": {\r\n                    width: \"120px\"\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport const tableFootStyle = (props, state, img) => {\r\n\r\n    let loadingState =  {};\r\n    let textMargin = {};\r\n\r\n    if (state.creatingPoll) {\r\n\r\n        loadingState = {\r\n            disabled: \"true\",\r\n            pointerEvents: \"none\",\r\n            background: `url(${img}) no-repeat right 10px center ${props.theme.backgroundColor.blue}`,\r\n        };\r\n\r\n        textMargin = {\r\n            marginRight: \"24px\",\r\n        }\r\n    }\r\n\r\n\r\n    return {\r\n        display: \"inline-block\",\r\n        \"tr\": {\r\n            border: \"none\",\r\n            \"td\": {\r\n                textAlign: \"center\",\r\n                \"button\": {\r\n                    cursor: \"pointer\",\r\n                    padding: \"8px 16px\",\r\n                    backgroundColor: `${props.theme.backgroundColor.blue}`,\r\n                    borderRadius: \"5px\",\r\n                    color: `${props.theme.color.white}`,\r\n                    fontSize: \"14px\",\r\n                    outline: \"0\",\r\n                    border: \"0\",\r\n                    ...loadingState,\r\n                    \"span\": {\r\n                        ...textMargin\r\n                    }\r\n                },\r\n            }\r\n        },\r\n    }\r\n}\r\n\r\nexport const iconWrapperStyle = () => {\r\n\r\n    return {\r\n        width: \"50px\"\r\n    }\r\n}\r\n\r\nexport const addOptionIconStyle = (img) => {\r\n\r\n    return {\r\n        background: `url(${img}) right center no-repeat`,\r\n        backgroundSize: \"28px 28px\",\r\n        cursor: \"pointer\",\r\n        display: \"block\",\r\n        height: \"28px\",\r\n        width: \"28px\",\r\n    }\r\n}","export default __webpack_public_path__ + \"static/media/creating.446449d0.svg\";","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\nimport { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport { CometChatBackdrop } from \"../../../Shared\";\r\nimport { CometChatCreatePollOptions } from \"../\";\r\n\r\nimport * as enums from \"../../../../util/enums.js\"; \r\nimport Translator from \"../../../../resources/localization/translator\";\r\n\r\nimport {\r\n    modalWrapperStyle,\r\n    modalCloseStyle,\r\n    modalBodyStyle,\r\n    modalErrorStyle,\r\n    modalTableStyle,\r\n    tableCaptionStyle,\r\n    tableBodyStyle,\r\n    tableFootStyle,\r\n    iconWrapperStyle,\r\n    addOptionIconStyle\r\n} from \"./style\";\r\n\r\nimport ringIcon from \"./resources/creating.svg\";\r\nimport addIcon from \"./resources/add.png\";\r\nimport clearIcon from \"./resources/close.png\";\r\n\r\nclass CometChatCreatePoll extends React.Component {\r\n\r\n    loggedInUser = null;\r\n\r\n    constructor(props) {\r\n\r\n        super(props);\r\n        this.state = {\r\n            error: null,\r\n            options: [],\r\n            creatingPoll: false\r\n        }\r\n\r\n        this.questionRef = React.createRef();\r\n        this.optionOneRef = React.createRef();\r\n        this.optionTwoRef = React.createRef();\r\n        this.optionRef = React.createRef();\r\n\r\n        CometChat.getLoggedinUser().then(user => {\r\n            this.loggedInUser = user;\r\n        }).catch((error) => {\r\n            console.error(\"[CometChatCreatePoll] getLoggedinUser error\", error);\r\n        });\r\n    }\r\n\r\n    addPollOption = () => {\r\n\r\n        const options = [...this.state.options];\r\n        options.push({ value: \"\", id: new Date().getTime() });\r\n        this.setState({options: options});\r\n    }\r\n\r\n    removePollOption = (option) => {\r\n\r\n        const options = [...this.state.options];\r\n        const optionKey = options.findIndex(opt => opt.id === option.id);\r\n        if (optionKey > -1) {\r\n\r\n            options.splice(optionKey, 1);\r\n            this.setState({ options: options});\r\n        }\r\n    }\r\n\r\n    optionChangeHandler = (event, option) => {\r\n\r\n        const options = [...this.state.options];\r\n        const optionKey = options.findIndex(opt => opt.id === option.id); \r\n        if (optionKey > -1) {\r\n\r\n            const newOption = { ...option, value: event.target.value}\r\n            options.splice(optionKey, 1, newOption);\r\n            this.setState({ options: options });\r\n        }\r\n    }\r\n\r\n    createPoll = () => {\r\n\r\n        const question = this.questionRef.current.value.trim();\r\n        const firstOption = this.optionOneRef.current.value.trim();\r\n        const secondOption = this.optionTwoRef.current.value.trim();\r\n        const optionItems = [firstOption, secondOption];\r\n\r\n        if (question.length === 0) {\r\n\r\n            this.setState({ error: Translator.translate(\"POLL_QUESTION_BLANK\", this.props.lang) })\r\n            return false;\r\n        }\r\n\r\n        if (firstOption.length === 0 || secondOption.length === 0) {\r\n\r\n            this.setState({ error: Translator.translate(\"POLL_OPTION_BLANK\", this.props.lang) })\r\n            return false;\r\n        }\r\n\r\n        this.state.options.forEach(function (option) {\r\n            optionItems.push(option.value)\r\n        })\r\n\r\n        let receiverId;\r\n        let receiverType = this.props.type;\r\n        if (this.props.type === CometChat.RECEIVER_TYPE.USER) {\r\n            receiverId = this.props.item.uid;\r\n        } else if (this.props.type === CometChat.RECEIVER_TYPE.GROUP) {\r\n            receiverId = this.props.item.guid;\r\n        }\r\n        \r\n        this.setState({ creatingPoll: true });\r\n\r\n        CometChat.callExtension('polls', 'POST', 'v2/create', {\r\n            \"question\": question,\r\n            \"options\": optionItems,\r\n            \"receiver\": receiverId,\r\n            \"receiverType\": receiverType\r\n        }).then(response => {\r\n\r\n            console.log(\"createPoll response\", response);\r\n            this.setState({ creatingPoll: false });\r\n            this.props.actionGenerated(enums.ACTIONS[\"POLL_CREATED\"]);\r\n\r\n        }).catch(error => {\r\n\r\n            console.log(\"createPoll error\", error);\r\n\r\n            this.setState({ creatingPoll: false });\r\n            if (error.hasOwnProperty(\"message\") && error.message.hasOwnProperty(\"message\")) {\r\n                this.setState({ error: error.message.message });\r\n            } else {\r\n                this.setState({ error: \"Error\" });\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n\r\n        const optionList = [...this.state.options];\r\n        const pollOptionView = optionList.map((option, index) => {\r\n            return (\r\n                <CometChatCreatePollOptions \r\n                key={index} \r\n                option={option} \r\n                tabIndex={index+4}\r\n                lang={this.props.lang}\r\n                optionChangeHandler={this.optionChangeHandler}\r\n                removePollOption={this.removePollOption} />\r\n            );\r\n        });\r\n\r\n        let errorContainer = null;\r\n        if (this.state.error) {\r\n            errorContainer = (\r\n                <tr className=\"error\">\r\n                    <td colSpan=\"3\"><div css={modalErrorStyle()}>{this.state.error}</div></td>\r\n                </tr>\r\n            );\r\n        }\r\n\r\n        const createText = (this.state.creatingPoll) ? Translator.translate(\"CREATING\", this.props.lang) : Translator.translate(\"CREATE\", this.props.lang);\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <CometChatBackdrop show={this.props.open} clicked={this.props.close} />\r\n                <div css={modalWrapperStyle(this.props)} className=\"modal__createpoll\">\r\n                    <span css={modalCloseStyle(clearIcon)} className=\"modal__close\" onClick={this.props.close} title={Translator.translate(\"CLOSE\", this.props.lang)}></span>\r\n                    <div css={modalBodyStyle()} className=\"modal__body\">\r\n                        <table css={modalTableStyle(this.props)}>\r\n                            <caption css={tableCaptionStyle()} className=\"modal__title\">{Translator.translate(\"CREATE_POLL\", this.props.lang)}</caption>\r\n                            <tbody css={tableBodyStyle()}>\r\n                                {errorContainer}\r\n                                <tr className=\"poll__question\">\r\n                                    <td><label>{Translator.translate(\"QUESTION\", this.props.lang)}</label></td>\r\n                                    <td colSpan=\"2\">\r\n                                        <input type=\"text\" autoFocus tabIndex=\"1\" placeholder={Translator.translate(\"ENTER_YOUR_QUESTION\", this.props.lang)} ref={this.questionRef} />\r\n                                    </td>\r\n                                </tr>\r\n                                <tr className=\"poll__options\">\r\n                                    <td><label>{Translator.translate(\"OPTIONS\", this.props.lang)}</label></td>\r\n                                    <td colSpan=\"2\">\r\n                                        <input type=\"text\" tabIndex=\"2\" placeholder={Translator.translate(\"ENTER_YOUR_OPTION\", this.props.lang)} ref={this.optionOneRef} />\r\n                                    </td>\r\n                                </tr>\r\n                                <tr ref={this.optionRef} className=\"poll__options\">\r\n                                    <td>&nbsp;</td>\r\n                                    <td colSpan=\"2\">\r\n                                        <input type=\"text\" tabIndex=\"3\" placeholder={Translator.translate(\"ENTER_YOUR_OPTION\", this.props.lang)} ref={this.optionTwoRef} />\r\n                                    </td>\r\n                                </tr>\r\n                                {pollOptionView}\r\n                                <tr>\r\n                                    <td>&nbsp;</td>\r\n                                    <td><label>{Translator.translate(\"ADD_NEW_OPTION\", this.props.lang)}</label></td>\r\n                                    <td css={iconWrapperStyle()}>\r\n                                        <span tabIndex=\"100\" css={addOptionIconStyle(addIcon)} className=\"option__add\" onClick={this.addPollOption}></span>\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                            <tfoot css={tableFootStyle(this.props, this.state, ringIcon)}>\r\n                                <tr className=\"createpoll\">\r\n                                    <td colSpan=\"2\">\r\n                                        <button type=\"button\" onClick={this.createPoll}><span>{createText}</span></button>\r\n                                    </td>\r\n                                </tr>\r\n                            </tfoot>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatCreatePoll.defaultProps = {\r\n    lang: Translator.getDefaultLanguage(),\r\n};\r\n\r\nCometChatCreatePoll.propTypes = {\r\n    lang: PropTypes.string,\r\n}\r\n\r\nexport default CometChatCreatePoll;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFaADAAQAAAABAAAAFQAAAAAIGxIOAAACcElEQVQ4EZ2UPYgTQRiGs3MJhoAHBoNgIQd3vYiVjaV2IhHCZqMcWFgqCqcQ9U4Uf++wsFCw8DfJhuUKUUhhk0KwUlA4sFA4EJSAhAsWggSzPt+6EyZze6dxYJj53vf93vl2ftZJbdLCMFSNRmOP4zhT9Dy9C7bquu475uFGqU4SgdF2kqskeow7bA34V7Aa3I1KpbK2jreBer1eAbtLn7S5hHhNKXWiXC4vm5wyAyqcJ67R/8VQUrdRbUDenAS6DT8fYhbBI02MM8b763qeF0heZOr7/s7BYPCRODeOmaX9nslkZkql0rfo86nwkm3I6s/pvpUYheBP6M8sbrLf718QTLVarS2YupYgBfaaz/HA71jcEvAs2BsLT7HQ0Xa7nVa9Xm8/5NYEwVW5CbRTcJExSYvEc/H+X7ZzKCTf6XT2KYTTNikxggm4x9qY+SEqPBsbPkAycnMMj+k0B1QwgJGpNm42myu8ohcssBdsM0MppiCrrXsRpjMV3sTwfRAEu/j0t8RLJp8wlwehPicQEYTBdV7LeflkTvYTlcpdPAd+a6Mc8VO5XK6N6KctgryHQdXYwwy6mjZGf9/OIf5B3qvo8pO4zF4cMUUY3Cb+Ar7IODwU8F/Ep8FnGE/Shw3OpxAvLQjuFzmwwwgntIL5GT03x1hj312R9OEWZBJVwEF8YJUrAvxvI3+Bg5Sn/ufty4RVHP4BTxnl1zdWw/AhX31cJ5l7FXLSx9gKqXigBX8ZRTdvGop++Oszk7nsu9nja2AH4z00aXnjclgtCqiydSsjJEGiqRZx4QvczwOYTIHlWaDLfDWbzb4sFotdrbPH34IuDwr79+D1AAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,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\"","/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { iconWrapperStyle } from \"../CometChatCreatePoll/style\";\r\n\r\nimport Translator from \"../../../../resources/localization/translator\";\r\n\r\nimport { removeOptionIconStyle } from \"./style\";\r\nimport removeIcon from \"./resources/remove.png\";\r\n\r\nconst CometChatCreatePollOptions = (props) => {\r\n\r\n    return (\r\n        <tr className=\"poll__options\">\r\n            <td>&nbsp;</td>\r\n            <td>\r\n                <input \r\n                autoFocus\r\n                tabIndex={props.tabIndex}\r\n                type=\"text\" \r\n                autoComplete=\"off\" \r\n                placeholder={Translator.translate(\"ENTER_YOUR_OPTION\", props.lang)}\r\n                value={props.value}\r\n                onChange={(event) => props.optionChangeHandler(event, props.option)} />\r\n            </td>\r\n            <td css={iconWrapperStyle()} className=\"option__remove\">\r\n                <span css={removeOptionIconStyle(removeIcon)} onClick={() => props.removePollOption(props.option)}></span>\r\n            </td>\r\n        </tr>\r\n    );\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatCreatePollOptions.defaultProps = {\r\n    lang: Translator.getDefaultLanguage(),\r\n};\r\n\r\nCometChatCreatePollOptions.propTypes = {\r\n    lang: PropTypes.string,\r\n}\r\n\r\nexport default CometChatCreatePollOptions;","export const removeOptionIconStyle = (img) => {\r\n\r\n    return {\r\n        background: `url(${img}) right center no-repeat`,\r\n        backgroundSize: \"28px 28px\",\r\n        cursor: \"pointer\",\r\n        display: \"block\",\r\n        height: \"28px\",\r\n        width: \"28px\",\r\n    };\r\n}\r\n\r\nexport const iconWrapperStyle = () => {\r\n    return {\r\n        width: \"50px\"\r\n    }\r\n}","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAFqADAAQAAAABAAAAFgAAAAA/6RFgAAABVUlEQVQ4Ea2VzUoCURSAr1qhi14gN0mLDETCCmrZyl24cR9EK9dBb9Jz9B7B2B8VRJRRa0FIIcm+M3FtZjgz5u0e+Ljec8/55qBzMWdmxMSYVUrqUIYveIduzphX1vkCWQGOIYBJChfkDyH/JzuFNbiFNGEy36V2PVNOQRMGc0jtQ/r07KtyDuqO0qi8GpMjXIQHsEWu6zWOwlTOpuNBaoc5iorvPYovQzHCDY9SO3VF3sHGdHR/HxoLuFYU34jcAfSUs2hqjc05iCcaZUloN+eTvFxdIStKHI4hKc5LQmteJn8DrvEm0/78iq4Kve8qTPNWPHl8M+5Ear/fM/3BTtlfF9MW4cXD1I84lmLjkNiF0T/kH/Rux6R2w0HbUT6kr2U96krBHvTAXs9Z6zO1O6osmaSwBKeQ9QARnkAx2S97/hOzg8YtKjZBrj7b8EIFNAZ8To1vlTPgMjYmAh4AAAAASUVORK5CYII=\"","export const messageContainerStyle = () => {\r\n\r\n    return {\r\n        alignSelf: \"flex-start\",\r\n        marginBottom: \"16px\",\r\n        paddingLeft: \"16px\",\r\n        paddingRight: \"16px\",\r\n        maxWidth: \"305px\",\r\n        clear: \"both\",\r\n        position: \"relative\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flexShrink: \"0\",\r\n        \":hover\": {\r\n            \"ul.message__actions\": {\r\n                display: \"flex\"\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const messageWrapperStyle = () => {\r\n\r\n    return {\r\n        width: \"auto\",\r\n        flex: \"1 1\",\r\n        alignSelf: \"flex-start\",\r\n        display: \"flex\",\r\n    }\r\n}\r\n\r\nexport const messageThumbnailStyle = () => {\r\n\r\n    return {\r\n        width: \"36px\",\r\n        height: \"36px\",\r\n        margin: \"10px 5px\",\r\n        float: \"left\",\r\n        flexShrink: \"0\",\r\n    }\r\n}\r\n\r\nexport const messageDetailStyle = () => {\r\n\r\n    return {\r\n        flex: \"1 1\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n    }\r\n}\r\n\r\nexport const nameWrapperStyle = (avatar) => {\r\n\r\n    const paddingValue = (avatar) ? {\r\n        padding: \"3px 5px\",\r\n    } : {};\r\n\r\n    return {\r\n        alignSelf: \"flex-start\",\r\n        ...paddingValue\r\n    }\r\n}\r\n\r\nexport const nameStyle = (props) => {\r\n\r\n    return {\r\n        fontSize: \"10px\",\r\n        color: `${props.theme.color.helpText}`,\r\n    }\r\n}\r\n\r\nexport const messageTxtContainerStyle = () => {\r\n\r\n    return {\r\n        width: \"auto\",\r\n        flex: \"1 1\",\r\n        alignSelf: \"flex-start\",\r\n        display: \"flex\",\r\n    }\r\n}\r\n\r\nexport const messageTxtWrapperStyle = (props) => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        borderRadius: \"12px\",\r\n        backgroundColor: `${props.theme.backgroundColor.secondary}`,\r\n        padding: \"16px\",\r\n        alignSelf: \"flex-start\",\r\n        width: \"100%\",\r\n    }\r\n}\r\n\r\nexport const messageTxtTitleStyle = (props) => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        color: `${props.theme.color.primary}`,\r\n    }\r\n}\r\n\r\nexport const messageTxtStyle = () => {\r\n\r\n    return {\r\n        margin: \"0\",\r\n        whiteSpace: \"pre-wrap\",\r\n        wordWrap: \"break-word\",\r\n        textAlign: \"left\",\r\n        width: \"100%\",\r\n        fontSize: \"14px\",\r\n        marginLeft: \"8px\"\r\n    }\r\n}\r\n\r\nexport const messageBtnStyle = (props) => {\r\n\r\n    return {\r\n        listStyleType: \"none\",\r\n        padding: \"0\",\r\n        margin: \"0\",\r\n        \"li\": {\r\n            backgroundColor: `${props.theme.backgroundColor.white}`,\r\n            borderRadius: \"8px\",\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n            width: \"100%\",\r\n            cursor: \"pointer\",\r\n            position: \"relative\",\r\n            margin: \"16px 0 0 0\",\r\n            padding: \"8px\",\r\n            \"> p\": {\r\n                background: \"0 0\",\r\n                textAlign: \"center\",\r\n                color: `${props.theme.color.primary}`,\r\n                width: \"100%\",\r\n                display: \"inline-block\",\r\n                fontSize: \"14px\",\r\n                margin: \"0\",\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const messageInfoWrapperStyle = () => {\r\n\r\n    return {\r\n        alignSelf: \"flex-start\",\r\n        padding: \"3px 5px\",\r\n    }\r\n}\r\n\r\nexport const messageReactionsWrapperStyle = () => {\r\n\r\n    return {\r\n        display: \"inline-flex\",\r\n        alignSelf: \"flex-start\",\r\n        width: \"100%\",\r\n        flexWrap: \"wrap\",\r\n        justifyContent: \"flex-start\",\r\n    }\r\n}","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\nimport { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\r\nimport { CometChatMessageReactions } from \"../\";\r\nimport { CometChatAvatar } from \"../../../Shared\";\r\n\r\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\r\n\r\nimport { theme } from \"../../../../resources/theme\";\r\nimport Translator from \"../../../../resources/localization/translator\";\r\n\r\nimport {\r\n    messageContainerStyle,\r\n    messageWrapperStyle,\r\n    messageThumbnailStyle,\r\n    messageDetailStyle,\r\n    nameWrapperStyle,\r\n    nameStyle,\r\n    messageTxtContainerStyle,\r\n    messageTxtWrapperStyle,\r\n    messageTxtTitleStyle,\r\n    messageTxtStyle,\r\n    messageBtnStyle,\r\n    messageInfoWrapperStyle,\r\n    messageReactionsWrapperStyle\r\n} from \"./style\";\r\n\r\n\r\nimport documentIcon from \"./resources/receiverdocument.png\";\r\n\r\nclass CometChatReceiverDocumentBubble extends React.PureComponent {\r\n\r\n    messageFrom = \"receiver\";\r\n\r\n    constructor(props) {\r\n\r\n        super(props);\r\n        \r\n        const message = Object.assign({}, props.message, { messageFrom: this.messageFrom });\r\n        this.state = {\r\n            message: message,\r\n            isHovering: false\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n\r\n        const previousMessageStr = JSON.stringify(prevProps.message);\r\n        const currentMessageStr = JSON.stringify(this.props.message);\r\n\r\n        if (previousMessageStr !== currentMessageStr) {\r\n\r\n            const message = Object.assign({}, this.props.message, { messageFrom: this.messageFrom });\r\n            this.setState({ message: message })\r\n        }\r\n    }\r\n\r\n    handleMouseHover = () => {\r\n        this.setState(this.toggleHoverState);\r\n    }\r\n\r\n    toggleHoverState = (state) => {\r\n\r\n        return {\r\n            isHovering: !state.isHovering,\r\n        };\r\n    }\r\n\r\n    launchCollaborativeDocument = () => {\r\n\r\n        let documentUrl = null;\r\n        let documentData = checkMessageForExtensionsData(this.state.message, \"document\");\r\n        if (documentData\r\n        && documentData.hasOwnProperty(\"document_url\")\r\n        && documentData.document_url.length) {\r\n\r\n            documentUrl = documentData.document_url;\r\n            window.open(documentUrl, '', 'fullscreen=yes, scrollbars=auto');\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        let avatar = null, name = null;\r\n        if (this.state.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\r\n\r\n            avatar = (\r\n                <div css={messageThumbnailStyle} className=\"message__thumbnail\">\r\n                    <CometChatAvatar user={this.state.message.sender} />\r\n                </div>\r\n            );\r\n\r\n            name = (<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\r\n                <span css={nameStyle(this.props)} className=\"message__name\">{this.props.message.sender.name}</span>\r\n                </div>);\r\n        }\r\n\r\n        let messageReactions = null;\r\n        const reactionsData = checkMessageForExtensionsData(this.state.message, \"reactions\");\r\n        if (reactionsData) {\r\n\r\n            if (Object.keys(reactionsData).length) {\r\n                messageReactions = (\r\n                    <div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\r\n                        <CometChatMessageReactions {...this.props} message={this.state.message} reaction={reactionsData} />\r\n                    </div>\r\n                );\r\n            }\r\n        }\r\n\r\n        let toolTipView = null;\r\n        if (this.state.isHovering) {\r\n            toolTipView = (<CometChatMessageActions {...this.props} message={this.state.message} name={name} />);\r\n        }\r\n\r\n        const documentTitle = `${this.state.message.sender.name} ${Translator.translate(\"SHARED_COLLABORATIVE_DOCUMENT\", this.props.lang)}`;\r\n\r\n        return (\r\n            <div \r\n            css={messageContainerStyle()} \r\n            className=\"receiver__message__container message__document\"\r\n            onMouseEnter={this.handleMouseHover}\r\n            onMouseLeave={this.handleMouseHover}>\r\n\r\n                <div css={messageWrapperStyle()} className=\"message__wrapper\">\r\n                    {avatar}\r\n                    <div css={messageDetailStyle()} className=\"message__details\">\r\n                        {name}\r\n                        {toolTipView}\r\n                        <div css={messageTxtContainerStyle()} className=\"message__document__container\">\r\n                            <div css={messageTxtWrapperStyle(this.props)} className=\"message__document__wrapper\">\r\n                                <div css={messageTxtTitleStyle(this.props)} className=\"message__document__title\">\r\n                                    <img src={documentIcon} alt={Translator.translate(\"COLLABORATIVE_DOCUMENT\", this.props.lang)} />\r\n                                    <p css={messageTxtStyle()} className=\"document__title\">{documentTitle}</p>\r\n                                </div>\r\n                                \r\n                                <ul css={messageBtnStyle(this.props)} className=\"document__button\">\r\n                                    <li onClick={this.launchCollaborativeDocument}>\r\n                                        <p>{Translator.translate(\"JOIN\", this.props.lang)}</p>\r\n                                    </li>\r\n                                </ul>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {messageReactions}\r\n\r\n                        <div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\r\n                            <CometChatReadReceipt {...this.props} message={this.state.message} />\r\n                            <CometChatThreadedMessageReplyCount {...this.props} message={this.state.message} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatReceiverDocumentBubble.defaultProps = {\r\n    lang: Translator.getDefaultLanguage(),\r\n    theme: theme\r\n};\r\n\r\nCometChatReceiverDocumentBubble.propTypes = {\r\n    lang: PropTypes.string,\r\n    theme: PropTypes.object\r\n}\r\n\r\nexport default CometChatReceiverDocumentBubble;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAE1klEQVRYCb2Xf2iVZRTHz/O+d5t3U+as2ArBRknZ3G0/QktLhEVZBCHlrCiw/kmjZEb0gyiGFP0hGlpz2x8R1T9lEFGRCJqYRkvapmszLKWkla7EJttt6b33ffqcd3u5d3f33t306oH7Puc5P77nvOc87/M810gaNXba8nhMKsWVsjTVRU1dKwnryVmnSP7oftLEAjATMJFtdm6oWF5ifi/CSjESEsuzQGSNeOCdN0Z+Ynyne490yscm4QeoabNVJSHZxSRSoHj5wGymEs/5CVD2N/B4McXrJPxJa8naFKAKVixvXgLmdfxK/ThW4rTk1lBNqy1GsMIXjj/ei3nyfN+QnJEBilUgarxTHKBqeakPSWa+ttg4st7c+La9oiwk/QiqiBalJDdTmuMFijsFpqHdbiDwFlWQzN8h10gRwbUKYqyMROMyrPylIoIPBthUokLLMonKNJ0sxFoplVY7xSeLeUYxfZ+EnyeYNQR/BcT+hqtlP3xtRvQLEOaVQGOn1NOvVvCrSX8J48YLiJXRJZRRmiZkca6mXw5JHGG8FnVT5C1b3feM+SXVVFtkE9JoXAmfG5PD/S1mqK7dLnVYWz1Pmb5U24CftgKRTbaMj3GlOhD8dZI4DDvLLZL7AhAdI9vtDdjtJfjXTHeVhGlXh33cdeRTPsD3Sa4o1T7gp00gNFNuJ/B8qvDX6LB8Dr9bnR0jzbLKusoreMiRNpbXIpI4SJJPIG7HVje4CsbwUJStPQNNmwCgD6kfn+juoy+YEc/KZwSJk9Ci+iZZqLpEXGoIshz2tBeX5p615l32klex24pMk/T4ZaScCdRvs1cBfI968lYDDW12AW/ucbD8zmIshn9AdXzbusW62p7ep80Jlflk5AsSZSOe/OkFah1zJmCK5W5sKtWQIK+ZkByB7Sb4PJUBvNJvQ/K8iPvy5GP82E3qk5oJLmNfxnV6fsjDyvMWJ3h0wSLSqVyJsgnmprrlspi2HKcaukgXsB7KKf9ZbJQWq5gxawuyJlDXIdcTYJl6Q5voa9s4K1L3pp3thuVHAlY5rjzSc0pa2KD6sI2QXjtJbPU8mYv9RjAs62cCJkBIjllbYDy5hgAz6eto/Lx8mXQRObTBDAO8U2UgV0uriTO2MB1CoFXrwncHvjvg/8HWmRHKXIWsFRiJS1e5K2twHkzfcADVcr/Mvv4dC3K/zin73trtdkmxIyuo9yyCHzi0znxT3277HEfOHFtvzqldOhm9DZHdAIo5lO8Ub1AL2Ol0w0LNOY6bWdAfBXhZWxAYXOoxaws0cM0WO2dGmdziJcQla7qRmyi9w/3iNyr4Q27LpDZnAiWlshnTNaz0vEjNyDLKAbSQ/v+aj1POBFhIX7G69RyYwJ4W0rA4j47GuE/mSVMSiMaSpe5dZz4AR38Fo/RWOhyXbGSS8CNwN/TviAULNxWITzf1H9e/joxKFDN/6ySRihJH7p/qVhiJHttU4MEUtO/9LZKLg97VV/sKK2Mk8gn7wc8o9e+Ub5Pi9P9ZI5YyhwHSu8UdAQCyVT54fYe9jQ1hD6HCgfIyjAe4pNzlb0S9a823ZPMYb37sMgROEGenF5NHB581Y5PKy15eUWRkKZVYRiLzUDrw2F8k0UbOjDE+6wEOuX09f8pBDjD/iP4Pc16HyR3qwHIAAAAASUVORK5CYII=\"","export const messageContainerStyle = () => {\r\n\r\n    return {\r\n        alignSelf: \"flex-start\",\r\n        marginBottom: \"16px\",\r\n        paddingLeft: \"16px\",\r\n        paddingRight: \"16px\",\r\n        maxWidth: \"65%\",\r\n        clear: \"both\",\r\n        position: \"relative\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flexShrink: \"0\",\r\n        \":hover\": {\r\n            \"ul.message__actions\": {\r\n                display: \"flex\"\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const messageWrapperStyle = () => {\r\n\r\n    return {\r\n        width: \"auto\",\r\n        flex: \"1 1\",\r\n        alignSelf: \"flex-start\",\r\n        display: \"flex\",\r\n    }\r\n}\r\n\r\nexport const messageThumbnailStyle = () => {\r\n\r\n    return {\r\n        width: \"36px\",\r\n        height: \"36px\",\r\n        margin: \"10px 5px\",\r\n        float: \"left\",\r\n        flexShrink: \"0\",\r\n    }\r\n}\r\n\r\nexport const messageDetailStyle = () => {\r\n\r\n    return {\r\n        flex: \"1 1\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n    }\r\n}\r\n\r\nexport const nameWrapperStyle = (avatar) => {\r\n\r\n    const paddingValue = (avatar) ? {\r\n        padding: \"3px 5px\",\r\n    } : {};\r\n\r\n    return {\r\n        alignSelf: \"flex-start\",\r\n        ...paddingValue\r\n    }\r\n}\r\n\r\nexport const nameStyle = (props) => {\r\n\r\n    return {\r\n        fontSize: \"10px\",\r\n        color: `${props.theme.color.helpText}`,\r\n    }\r\n}\r\n\r\nexport const messageTxtContainerStyle = () => {\r\n\r\n    return {\r\n        width: \"auto\",\r\n        flex: \"1 1\",\r\n        alignSelf: \"flex-start\",\r\n        display: \"flex\",\r\n    }\r\n}\r\n\r\nexport const messageTxtWrapperStyle = (props) => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        borderRadius: \"12px\",\r\n        backgroundColor: `${props.theme.backgroundColor.secondary}`,\r\n        padding: \"8px 16px\",\r\n        alignSelf: \"flex-start\",\r\n        width: \"100%\",\r\n    }\r\n}\r\n\r\nexport const pollQuestionStyle = () => {\r\n\r\n    return {\r\n        margin: \"0\",\r\n        whiteSpace: \"pre-wrap\",\r\n        wordWrap: \"break-word\",\r\n        textAlign: \"left\",\r\n        width: \"100%\",\r\n        fontSize: \"14px\",\r\n    }\r\n}\r\n\r\nexport const pollAnswerStyle = (props) => {\r\n\r\n    return {\r\n        listStyleType: \"none\",\r\n        padding: \"0\",\r\n        margin: \"0\",\r\n        \"li\": {\r\n            backgroundColor: `${props.theme.backgroundColor.white}`,\r\n            margin: \"10px 0\",\r\n            borderRadius: \"8px\",\r\n            display: \"flex\",\r\n            width: \"100%\",\r\n            cursor: \"pointer\",\r\n            position: \"relative\"\r\n        }\r\n    }\r\n}\r\n\r\nexport const pollTotalStyle = () => {\r\n\r\n    return {\r\n        fontSize: \"13px\",\r\n        margin: \"0\",\r\n        alignSelf: \"flex-end\"\r\n    }\r\n}\r\n\r\nexport const pollPercentStyle = (props, width) => {\r\n\r\n    const curvedBorders = (width === \"100%\") ? { borderRadius: \"8px\" } : {\r\n        borderRadius: \"8px 0 0 8px\"\r\n    };\r\n\r\n    return {\r\n        maxWidth: \"100%\",\r\n        width: width,\r\n        ...curvedBorders,\r\n        backgroundColor: `${props.theme.backgroundColor.primary}`,\r\n        minHeight: \"35px\",\r\n        height: \"100%\",\r\n        position: \"absolute\",\r\n        zIndex: \"1\",\r\n    }\r\n}\r\n\r\nexport const answerWrapperStyle = (props, optionData, img) => {\r\n\r\n    let bgImg = {};\r\n    let txtPadding = \"6px 12px\";\r\n    let countPadding = txtPadding;\r\n    if (optionData.hasOwnProperty(\"voters\") && optionData.voters.hasOwnProperty(props.loggedInUser.uid)) {\r\n\r\n        bgImg = {\r\n            background: `url(${img}) no-repeat 10px center`,\r\n        };\r\n        txtPadding = \"6px 12px 6px 35px\";\r\n        countPadding = \"6px 6px 6px 40px\";\r\n    }\r\n    \r\n    return {\r\n        width: \"100%\",\r\n        color: `${props.theme.color.primary}`,\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        minHeight: \"35px\",\r\n        height: \"100%\",\r\n        ...bgImg,\r\n        zIndex: \"2\",\r\n        \"p\": {\r\n            margin: \"0\",\r\n            padding: txtPadding,\r\n            width: \"calc(100% - 40px)\",\r\n            whiteSpace: \"pre-wrap\",\r\n            wordWrap: \"break-word\",\r\n            fontSize: \"14px\",\r\n        },\r\n        \"span\": {\r\n            width: \"40px\",\r\n            padding: countPadding,\r\n            fontWeight: \"bold\",\r\n            display: \"inline-block\",\r\n            fontSize: \"13px\",\r\n        }\r\n    }\r\n}\r\n\r\nexport const messageInfoWrapperStyle = () => {\r\n\r\n    return {\r\n        alignSelf: \"flex-start\",\r\n        padding: \"3px 5px\",\r\n    }\r\n}\r\n\r\nexport const messageReactionsWrapperStyle = () => {\r\n\r\n    return {\r\n        display: \"inline-flex\",\r\n        alignSelf: \"flex-start\",\r\n        width: \"100%\",\r\n        flexWrap: \"wrap\",\r\n        justifyContent: \"flex-start\",\r\n    }\r\n}","export default __webpack_public_path__ + \"static/media/check.cb75d77b.svg\";","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\nimport { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\r\nimport { CometChatMessageReactions } from \"../\";\r\nimport { CometChatAvatar } from \"../../../Shared\";\r\n\r\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\r\n\r\nimport { theme } from \"../../../../resources/theme\";\r\nimport Translator from \"../../../../resources/localization/translator\";\r\n\r\nimport {\r\n    messageContainerStyle,\r\n    messageWrapperStyle,\r\n    messageThumbnailStyle,\r\n    messageDetailStyle,\r\n    nameWrapperStyle,\r\n    nameStyle,\r\n    messageTxtContainerStyle,\r\n    messageTxtWrapperStyle,\r\n    pollQuestionStyle,\r\n    pollAnswerStyle,\r\n    pollPercentStyle,\r\n    answerWrapperStyle,\r\n    pollTotalStyle,\r\n    messageInfoWrapperStyle,\r\n    messageReactionsWrapperStyle\r\n} from \"./style\";\r\n\r\n\r\nimport checkIcon from \"./resources/check.svg\";\r\n\r\nclass CometChatReceiverPollMessageBubble extends React.Component {\r\n\r\n    pollId;\r\n    requestInProgress = null;\r\n    messageFrom = \"receiver\";\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        const message = Object.assign({}, props.message, { messageFrom: this.messageFrom });\r\n        this.state = {\r\n            message: message,\r\n            isHovering: false\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n\r\n        const previousMessageStr = JSON.stringify(prevProps.message);\r\n        const currentMessageStr = JSON.stringify(this.props.message);\r\n\r\n        if (previousMessageStr !== currentMessageStr) {\r\n\r\n            const message = Object.assign({}, this.props.message, { messageFrom: this.messageFrom });\r\n            this.setState({ message: message })\r\n        }\r\n    }\r\n\r\n    answerPollQuestion = (event, selectedOption) => {\r\n\r\n        CometChat.callExtension('polls', 'POST', 'v2/vote', {\r\n            vote: selectedOption,\r\n            id: this.pollId,\r\n        })\r\n        .then(response => {\r\n            console.log(\"answerPollQuestion response\", response);\r\n        })\r\n        .catch(error => {\r\n            console.log(\"answerPollQuestion error\", error);\r\n        });\r\n    }\r\n\r\n    handleMouseHover = () => {\r\n        this.setState(this.toggleHoverState);\r\n    }\r\n\r\n    toggleHoverState = (state) => {\r\n\r\n        return {\r\n            isHovering: !state.isHovering,\r\n        };\r\n    }\r\n\r\n    render() {\r\n\r\n        if (!this.props.message.hasOwnProperty(\"metadata\")) {\r\n            return null;\r\n        }\r\n        \r\n        if (!this.props.message.metadata.hasOwnProperty(\"@injected\")) {\r\n            return null;\r\n        }\r\n\r\n        if (!this.props.message.metadata[\"@injected\"].hasOwnProperty(\"extensions\")) {\r\n            return null;\r\n        }\r\n\r\n        if (!this.props.message.metadata[\"@injected\"][\"extensions\"].hasOwnProperty(\"polls\")) {\r\n            return null;\r\n        }\r\n\r\n        let avatar = null, name = null;\r\n        if (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\r\n\r\n            avatar = (\r\n                <div css={messageThumbnailStyle} className=\"message__thumbnail\">\r\n                    <CometChatAvatar user={this.props.message.sender} />\r\n                </div>\r\n            );\r\n\r\n            name = (<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\r\n                <span css={nameStyle(this.props)} className=\"message__name\">{this.props.message.sender.name}</span>\r\n            </div>);\r\n        }\r\n\r\n        const pollOptions = [];\r\n        const pollExtensionData = this.props.message.metadata[\"@injected\"][\"extensions\"][\"polls\"];\r\n        \r\n        this.pollId = pollExtensionData.id;\r\n        const total = pollExtensionData.results.total;\r\n        let totalText = Translator.translate(\"NO_VOTE\", this.props.lang);\r\n        \r\n        if(total === 1) {\r\n            \r\n            totalText = `${total} ${Translator.translate(\"VOTE\", this.props.lang)}`;\r\n\r\n        } else if (total > 1) {\r\n\r\n            totalText = `${total} ${Translator.translate(\"VOTES\", this.props.lang)}`;\r\n        }\r\n                \r\n        for (const option in pollExtensionData.options) {\r\n\r\n            const optionData = pollExtensionData.results.options[option];\r\n            const vote = optionData[\"count\"];\r\n\r\n            let width = \"0%\";\r\n            if (total) {\r\n\r\n                const fraction = (vote / total);\r\n                width = fraction.toLocaleString(\"en\", { style: 'percent' });\r\n            }\r\n\r\n            const template = (\r\n                <li key={option} onClick={(event) => this.answerPollQuestion(event, option)}>\r\n                    <div css={pollPercentStyle(this.props, width)}> </div>\r\n                    <div css={answerWrapperStyle(this.props, optionData, checkIcon)}>\r\n                        <span>{width}</span>\r\n                        <p>{optionData.text}</p>\r\n                    </div>\r\n                </li>\r\n            );\r\n            pollOptions.push(template);\r\n        }\r\n\r\n        let messageReactions = null;\r\n        const reactionsData = checkMessageForExtensionsData(this.state.message, \"reactions\");\r\n        if (reactionsData) {\r\n\r\n            if (Object.keys(reactionsData).length) {\r\n                messageReactions = (\r\n                    <div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\r\n                        <CometChatMessageReactions {...this.props} message={this.state.message} reaction={reactionsData} />\r\n                    </div>\r\n                );\r\n            }\r\n        }\r\n\r\n        let toolTipView = null;\r\n        if (this.state.isHovering) {\r\n            toolTipView = (<CometChatMessageActions {...this.props} message={this.state.message} name={name} />);\r\n        }\r\n\r\n        return (\r\n            <div \r\n            css={messageContainerStyle()} \r\n            className=\"receiver__message__container message__poll\"\r\n            onMouseEnter={this.handleMouseHover}\r\n            onMouseLeave={this.handleMouseHover}>\r\n\r\n                <div css={messageWrapperStyle()} className=\"message__wrapper\">\r\n                    {avatar}\r\n                    <div css={messageDetailStyle()} className=\"message__details\">\r\n                        {name}\r\n                        {toolTipView}\r\n                        <div css={messageTxtContainerStyle()} className=\"message__poll__container\">\r\n                            <div css={messageTxtWrapperStyle(this.props)} className=\"message__poll__wrapper\">\r\n                                <p css={pollQuestionStyle()} className=\"poll__question\">{pollExtensionData.question}</p>\r\n                                <ul css={pollAnswerStyle(this.props)} className=\"poll__options\">\r\n                                    {pollOptions}\r\n                                </ul>\r\n                                <p css={pollTotalStyle()} className=\"poll__votes\">{totalText}</p>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {messageReactions}\r\n\r\n                        <div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\r\n                            <CometChatReadReceipt {...this.props} message={this.state.message} />\r\n                            <CometChatThreadedMessageReplyCount {...this.props} message={this.state.message} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatReceiverPollMessageBubble.defaultProps = {\r\n    lang: Translator.getDefaultLanguage(),\r\n    theme: theme\r\n};\r\n\r\nCometChatReceiverPollMessageBubble.propTypes = {\r\n    lang: PropTypes.string,\r\n    theme: PropTypes.object\r\n}\r\n\r\nexport default CometChatReceiverPollMessageBubble;","export const messageContainerStyle = () => {\r\n\r\n    return {\r\n        alignSelf: \"flex-start\",\r\n        marginBottom: \"16px\",\r\n        paddingLeft: \"16px\",\r\n        paddingRight: \"16px\",\r\n        maxWidth: \"65%\",\r\n        clear: \"both\",\r\n        position: \"relative\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flexShrink: \"0\",\r\n        \":hover\": {\r\n            \"ul.message__actions\": {\r\n                display: \"flex\"\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const messageWrapperStyle = () => {\r\n\r\n    return {\r\n        width: \"auto\",\r\n        flex: \"1 1\",\r\n        alignSelf: \"flex-start\",\r\n        display: \"flex\",\r\n    }\r\n}\r\n\r\nexport const messageThumbnailStyle = () => {\r\n\r\n    return {\r\n        width: \"36px\",\r\n        height: \"36px\",\r\n        margin: \"10px 5px\",\r\n        float: \"left\",\r\n        flexShrink: \"0\",\r\n    }\r\n}\r\n\r\nexport const messageDetailStyle = () => {\r\n\r\n    return {\r\n        flex: \"1 1\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n    }\r\n}\r\n\r\nexport const nameWrapperStyle = (avatar) => {\r\n\r\n    const paddingValue = (avatar) ? {\r\n        padding: \"3px 5px\",\r\n    } : {};\r\n\r\n    return {\r\n        alignSelf: \"flex-start\",\r\n        ...paddingValue\r\n    }\r\n}\r\n\r\nexport const nameStyle = (props) => {\r\n\r\n    return {\r\n        fontSize: \"10px\",\r\n        color: `${props.theme.color.helpText}`,\r\n    }\r\n}\r\n\r\nexport const messageImgContainerStyle = () => {\r\n\r\n    return {\r\n        width: \"auto\",\r\n        flex: \"1 1\",\r\n        alignSelf: \"flex-start\",\r\n        display: \"flex\",\r\n    }\r\n}\r\n\r\nexport const messageImgWrapperStyle = (props) => {\r\n\r\n    const mq = [`@media (min-width : 320px) and (max-width: 767px)`];\r\n\r\n    return {\r\n        display: \"inline-block\",\r\n        alignSelf: \"flex-start\",\r\n        maxWidth: \"128px\",\r\n        height: \"128px\",\r\n        cursor: \"pointer\",\r\n        [mq[0]]: {\r\n            maxWidth: \"128px\",\r\n            height: \"128px\",\r\n            padding: \"2px 2px\",\r\n        }\r\n    }\r\n}\r\n\r\nexport const messageInfoWrapperStyle = () => {\r\n\r\n    return {\r\n        alignSelf: \"flex-start\",\r\n        padding: \"3px 5px\",\r\n    }\r\n}\r\n\r\nexport const messageReactionsWrapperStyle = () => {\r\n\r\n    return {\r\n        display: \"inline-flex\",\r\n        alignSelf: \"flex-start\",\r\n        width: \"100%\",\r\n        flexWrap: \"wrap\",\r\n        justifyContent: \"flex-start\",\r\n    }\r\n}","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\"\r\nimport PropTypes from \"prop-types\";\r\nimport { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\r\nimport { CometChatMessageReactions } from \"../\";\r\nimport { CometChatAvatar } from \"../../../Shared\";\r\n\r\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\r\n\r\nimport { theme } from \"../../../../resources/theme\";\r\nimport Translator from \"../../../../resources/localization/translator\";\r\n\r\nimport {\r\n    messageContainerStyle,\r\n    messageWrapperStyle,\r\n    messageThumbnailStyle,\r\n    messageDetailStyle,\r\n    nameWrapperStyle,\r\n    nameStyle,\r\n    messageImgContainerStyle,\r\n    messageImgWrapperStyle,\r\n    messageInfoWrapperStyle,\r\n    messageReactionsWrapperStyle\r\n} from \"./style\";\r\n\r\nclass CometChatReceiverStickerMessageBubble extends React.Component {\r\n\r\n    messageFrom = \"receiver\";\r\n\r\n    constructor(props) {\r\n\r\n        super(props);\r\n\r\n        const message = Object.assign({}, props.message, { messageFrom: this.messageFrom });\r\n        this.state = {\r\n            message: message,\r\n            isHovering: false\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n\r\n        const previousMessageStr = JSON.stringify(prevProps.message);\r\n        const currentMessageStr = JSON.stringify(this.props.message);\r\n\r\n        if (previousMessageStr !== currentMessageStr) {\r\n\r\n            const message = Object.assign({}, this.props.message, { messageFrom: this.messageFrom });\r\n            this.setState({ message: message })\r\n        }\r\n    }\r\n\r\n    handleMouseHover = () => {\r\n        this.setState(this.toggleHoverState);\r\n    }\r\n\r\n    toggleHoverState = (state) => {\r\n\r\n        return {\r\n            isHovering: !state.isHovering,\r\n        };\r\n    }\r\n\r\n    render() {\r\n\r\n        let avatar = null, name = null;\r\n        if (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\r\n\r\n            avatar = (\r\n                <div css={messageThumbnailStyle()} className=\"message__thumbnail\">\r\n                    <CometChatAvatar user={this.state.message.sender} />\r\n                </div>\r\n            );\r\n\r\n            name = (<div css={(nameWrapperStyle(avatar))} className=\"message__name__wrapper\">\r\n                <span css={nameStyle(this.props)} className=\"message__name\">{this.state.message.sender.name}</span>\r\n            </div>);\r\n        }\r\n\r\n        let stickerData = null;\r\n        let stickerImg = null;\r\n        if (this.state.message.hasOwnProperty(\"data\") && this.state.message.data.hasOwnProperty(\"customData\")) {\r\n\r\n            stickerData = this.state.message.data.customData;\r\n            \r\n            if (stickerData.hasOwnProperty(\"sticker_url\")) {\r\n                const stickerName = (stickerData.hasOwnProperty(\"sticker_name\")) ? stickerData.sticker_name : Translator.translate(\"STICKER\", this.props.lang);\r\n                stickerImg = (<img src={stickerData.sticker_url} alt={stickerName} />);\r\n            }\r\n        }\r\n\r\n        let messageReactions = null;\r\n        const reactionsData = checkMessageForExtensionsData(this.state.message, \"reactions\");\r\n        if (reactionsData) {\r\n\r\n            if (Object.keys(reactionsData).length) {\r\n                messageReactions = (\r\n                    <div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\r\n                        <CometChatMessageReactions  {...this.props} message={this.state.message} reaction={reactionsData} />\r\n                    </div>\r\n                );\r\n            }\r\n        }\r\n\r\n        let toolTipView = null;\r\n        if (this.state.isHovering) {\r\n            toolTipView = (<CometChatMessageActions {...this.props} message={this.state.message} name={name} />);\r\n        }\r\n\r\n        return (\r\n            <div \r\n            css={messageContainerStyle()} \r\n            className=\"receiver__message__container message__sticker\"\r\n            onMouseEnter={this.handleMouseHover}\r\n            onMouseLeave={this.handleMouseHover}>\r\n                \r\n                <div css={messageWrapperStyle()} className=\"message__wrapper\">\r\n                    {avatar}\r\n                    <div css={messageDetailStyle(name)} className=\"message__details\">\r\n                        {name}\r\n                        {toolTipView}\r\n                        <div css={messageImgContainerStyle()} className=\"message__image__container\">\r\n                            <div css={messageImgWrapperStyle(this.props)} className=\"message__image__wrapper\">{stickerImg}</div>\r\n                        </div>\r\n\r\n                        {messageReactions}\r\n\r\n                        <div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\r\n                            <CometChatReadReceipt {...this.props} message={this.state.message} />\r\n                            <CometChatThreadedMessageReplyCount {...this.props} message={this.state.message} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatReceiverStickerMessageBubble.defaultProps = {\r\n    lang: Translator.getDefaultLanguage(),\r\n    theme: theme\r\n};\r\n\r\nCometChatReceiverStickerMessageBubble.propTypes = {\r\n    lang: PropTypes.string,\r\n    theme: PropTypes.object\r\n}\r\n\r\nexport default CometChatReceiverStickerMessageBubble;","export const messageContainerStyle = () => {\r\n\r\n    return {\r\n        alignSelf: \"flex-start\",\r\n        marginBottom: \"16px\",\r\n        paddingLeft: \"16px\",\r\n        paddingRight: \"16px\",\r\n        maxWidth: \"305px\",\r\n        clear: \"both\",\r\n        position: \"relative\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flexShrink: \"0\",\r\n        \":hover\": {\r\n            \"ul.message__actions\": {\r\n                display: \"flex\"\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const messageWrapperStyle = () => {\r\n\r\n    return {\r\n        width: \"auto\",\r\n        flex: \"1 1\",\r\n        alignSelf: \"flex-start\",\r\n        display: \"flex\",\r\n    }\r\n}\r\n\r\nexport const messageThumbnailStyle = () => {\r\n\r\n    return {\r\n        width: \"36px\",\r\n        height: \"36px\",\r\n        margin: \"10px 5px\",\r\n        float: \"left\",\r\n        flexShrink: \"0\",\r\n    }\r\n}\r\n\r\nexport const messageDetailStyle = () => {\r\n\r\n    return {\r\n        flex: \"1 1\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n    }\r\n}\r\n\r\nexport const nameWrapperStyle = (avatar) => {\r\n\r\n    const paddingValue = (avatar) ? {\r\n        padding: \"3px 5px\",\r\n    } : {};\r\n\r\n    return {\r\n        alignSelf: \"flex-start\",\r\n        ...paddingValue\r\n    }\r\n}\r\n\r\nexport const nameStyle = (props) => {\r\n\r\n    return {\r\n        fontSize: \"10px\",\r\n        color: `${props.theme.color.helpText}`,\r\n    }\r\n}\r\n\r\nexport const messageTxtContainerStyle = () => {\r\n\r\n    return {\r\n        width: \"auto\",\r\n        flex: \"1 1\",\r\n        alignSelf: \"flex-start\",\r\n        display: \"flex\",\r\n    }\r\n}\r\n\r\nexport const messageTxtWrapperStyle = (props) => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        borderRadius: \"12px\",\r\n        backgroundColor: `${props.theme.backgroundColor.secondary}`,\r\n        padding: \"16px\",\r\n        alignSelf: \"flex-start\",\r\n        width: \"100%\",\r\n    }\r\n}\r\n\r\nexport const messageTxtTitleStyle = (props) => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        color: `${props.theme.color.primary}`,\r\n    }\r\n}\r\n\r\nexport const messageTxtStyle = () => {\r\n\r\n    return {\r\n        margin: \"0\",\r\n        whiteSpace: \"pre-wrap\",\r\n        wordWrap: \"break-word\",\r\n        textAlign: \"left\",\r\n        width: \"100%\",\r\n        fontSize: \"14px\",\r\n        marginLeft: \"8px\"\r\n    }\r\n}\r\n\r\nexport const messageBtnStyle = (props) => {\r\n\r\n    return {\r\n        listStyleType: \"none\",\r\n        padding: \"0\",\r\n        margin: \"0\",\r\n        \"li\": {\r\n            backgroundColor: `${props.theme.backgroundColor.white}`,\r\n            borderRadius: \"8px\",\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n            width: \"100%\",\r\n            cursor: \"pointer\",\r\n            position: \"relative\",\r\n            margin: \"16px 0 0 0\",\r\n            padding: \"8px\",\r\n            \"> p\": {\r\n                background: \"0 0\",\r\n                textAlign: \"center\",\r\n                color: `${props.theme.color.primary}`,\r\n                width: \"100%\",\r\n                display: \"inline-block\",\r\n                fontSize: \"14px\",\r\n                margin: \"0\",\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport const messageInfoWrapperStyle = () => {\r\n\r\n    return {\r\n        alignSelf: \"flex-start\",\r\n        padding: \"3px 5px\",\r\n    }\r\n}\r\n\r\nexport const messageReactionsWrapperStyle = () => {\r\n\r\n    return {\r\n        display: \"inline-flex\",\r\n        alignSelf: \"flex-start\",\r\n        width: \"100%\",\r\n        flexWrap: \"wrap\",\r\n        justifyContent: \"flex-start\",\r\n    }\r\n}","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\nimport { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\r\nimport { CometChatMessageReactions } from \"../\";\r\nimport { CometChatAvatar } from \"../../../Shared\";\r\n\r\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\r\n\r\nimport { theme } from \"../../../../resources/theme\";\r\nimport Translator from \"../../../../resources/localization/translator\";\r\n\r\nimport {\r\n    messageContainerStyle,\r\n    messageWrapperStyle,\r\n    messageThumbnailStyle,\r\n    messageDetailStyle,\r\n    nameWrapperStyle,\r\n    nameStyle,\r\n    messageTxtContainerStyle,\r\n    messageTxtWrapperStyle,\r\n    messageTxtTitleStyle,\r\n    messageTxtStyle,\r\n    messageBtnStyle,\r\n    messageInfoWrapperStyle,\r\n    messageReactionsWrapperStyle\r\n} from \"./style\";\r\n\r\nimport whiteboardIcon from \"./resources/receiverwhiteboard.png\";\r\n\r\nclass ReceiverWhiteboardBubble extends React.PureComponent {\r\n\r\n    messageFrom = \"receiver\";\r\n\r\n    constructor(props) {\r\n\r\n        super(props);\r\n\r\n        const message = Object.assign({}, props.message, { messageFrom: this.messageFrom });\r\n        this.state = {\r\n            message: message,\r\n            isHovering: false\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n\r\n        const previousMessageStr = JSON.stringify(prevProps.message);\r\n        const currentMessageStr = JSON.stringify(this.props.message);\r\n\r\n        if (previousMessageStr !== currentMessageStr) {\r\n\r\n            const message = Object.assign({}, this.props.message, { messageFrom: this.messageFrom });\r\n            this.setState({ message: message })\r\n        }\r\n    }\r\n\r\n    launchCollaborativeWhiteboard = () => {\r\n\r\n        let whiteboardUrl = null;\r\n        let whiteboardData = checkMessageForExtensionsData(this.state.message, \"whiteboard\");\r\n        if (whiteboardData\r\n        && whiteboardData.hasOwnProperty(\"board_url\")\r\n        && whiteboardData.board_url.length) {\r\n\r\n            let username = this.props.loggedInUser.name.split(' ').join('_');\r\n            // Appending the username to the board_url\r\n            whiteboardUrl = whiteboardData.board_url + '&username=' + username;\r\n            window.open(whiteboardUrl, '', 'fullscreen=yes, scrollbars=auto');\r\n        }\r\n    }\r\n\r\n    handleMouseHover = () => {\r\n        this.setState(this.toggleHoverState);\r\n    }\r\n\r\n    toggleHoverState = (state) => {\r\n\r\n        return {\r\n            isHovering: !state.isHovering,\r\n        };\r\n    }\r\n\r\n    render() {\r\n\r\n        let avatar = null, name = null;\r\n        if (this.state.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\r\n\r\n            avatar = (\r\n                <div css={messageThumbnailStyle} className=\"message__thumbnail\">\r\n                    <CometChatAvatar user={this.state.message.sender} />\r\n                </div>\r\n            );\r\n\r\n            name = (<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\r\n                <span css={nameStyle(this.props)} className=\"message__name\">{this.props.message.sender.name}</span>\r\n            </div>);\r\n        }\r\n\r\n        let messageReactions = null;\r\n        const reactionsData = checkMessageForExtensionsData(this.state.message, \"reactions\");\r\n        if (reactionsData) {\r\n\r\n            if (Object.keys(reactionsData).length) {\r\n                messageReactions = (\r\n                    <div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\r\n                        <CometChatMessageReactions  {...this.props} message={this.state.message} reaction={reactionsData} />\r\n                    </div>\r\n                );\r\n            }\r\n        }\r\n\r\n        let toolTipView = null;\r\n        if (this.state.isHovering) {\r\n            toolTipView = (<CometChatMessageActions {...this.props} message={this.state.message} name={name} />);\r\n        }\r\n\r\n        const documentTitle = `${this.state.message.sender.name} ${Translator.translate(\"SHARED_COLLABORATIVE_WHITEBOARD\", this.props.lang)}`;\r\n\r\n        return (\r\n            <div \r\n            css={messageContainerStyle()} \r\n            className=\"receiver__message__container message__whiteboard\"\r\n            onMouseEnter={this.handleMouseHover}\r\n            onMouseLeave={this.handleMouseHover}>\r\n\r\n                <div css={messageWrapperStyle()} className=\"message__wrapper\">\r\n                    {avatar}\r\n                    <div css={messageDetailStyle()} className=\"message__details\">\r\n                        {name}\r\n                        {toolTipView}\r\n                        <div css={messageTxtContainerStyle()} className=\"message__whiteboard__container\">\r\n                            <div css={messageTxtWrapperStyle(this.props)} className=\"message__whiteboard__wrapper\">\r\n                                <div css={messageTxtTitleStyle(this.props)} className=\"message__whiteboard__title\">\r\n                                    <img src={whiteboardIcon} alt={Translator.translate(\"COLLABORATIVE_WHITEBOARD\", this.props.lang)} />\r\n                                    <p css={messageTxtStyle()} className=\"whiteboard__title\">{documentTitle}</p>\r\n                                </div>\r\n                                \r\n                                <ul css={messageBtnStyle(this.props)} className=\"whiteboard__button\">\r\n                                    <li onClick={this.launchCollaborativeWhiteboard}>\r\n                                        <p>{Translator.translate(\"JOIN\", this.props.lang)}</p>\r\n                                    </li>\r\n                                </ul>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {messageReactions}\r\n\r\n                        <div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\r\n                            <CometChatReadReceipt {...this.props} message={this.state.message} />\r\n                            <CometChatThreadedMessageReplyCount {...this.props} message={this.state.message} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n// Specifies the default values for props:\r\nReceiverWhiteboardBubble.defaultProps = {\r\n    lang: Translator.getDefaultLanguage(),\r\n    theme: theme\r\n};\r\n\r\nReceiverWhiteboardBubble.propTypes = {\r\n    lang: PropTypes.string,\r\n    theme: PropTypes.object\r\n}\r\n\r\nexport default ReceiverWhiteboardBubble;","export default \"data:image/png;base64,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\"","export const messageContainerStyle = () => {\r\n\r\n    return {\r\n        alignSelf: \"flex-end\",\r\n        marginBottom: \"16px\",\r\n        paddingLeft: \"16px\",\r\n        paddingRight: \"16px\",\r\n        maxWidth: \"305px\",\r\n        clear: \"both\",\r\n        position: \"relative\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flexShrink: \"0\",\r\n        \":hover\": {\r\n            \"ul.message__actions\": {\r\n                display: \"flex\"\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const messageWrapperStyle = () => {\r\n\r\n    return {\r\n        width: \"auto\",\r\n        flex: \"1 1\",\r\n        alignSelf: \"flex-end\",\r\n        display: \"flex\",\r\n    }\r\n}\r\n\r\nexport const messageTxtWrapperStyle = (props) => {\r\n\r\n    return {\r\n        display: \"inline-block\",\r\n        borderRadius: \"12px\",\r\n        backgroundColor: `${props.theme.backgroundColor.blue}`,\r\n        color: `${props.theme.color.white}`,\r\n        padding: \"16px\",\r\n        alignSelf: \"flex-end\",\r\n        width: \"auto\",\r\n    }\r\n}\r\n\r\nexport const messageTxtContainerStyle = () => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\"\r\n    }\r\n}\r\n\r\nexport const messageTxtStyle = () => {\r\n\r\n    return {\r\n        margin: \"0\",\r\n        whiteSpace: \"pre-wrap\",\r\n        wordBreak: \"break-word\",\r\n        textAlign: \"left\",\r\n        width: \"100%\",\r\n        fontSize: \"14px\",\r\n        marginLeft: \"8px\"\r\n    }\r\n}\r\n\r\nexport const messageBtnStyle = (props) => {\r\n\r\n    return {\r\n        listStyleType: \"none\",\r\n        padding: \"0\",\r\n        margin: \"0\",\r\n        width: \"100%\",\r\n        \"li\": {\r\n            backgroundColor: `${props.theme.backgroundColor.white}`,\r\n            borderRadius: \"8px\",\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n            width: \"100%\",\r\n            position: \"relative\",\r\n            margin: \"16px 0 0 0\",\r\n            padding: \"8px\",\r\n            cursor: \"pointer\",\r\n            \"> p\": {\r\n                background: \"0 0\",\r\n                textAlign: \"center\",\r\n                color: `${props.theme.color.primary}`,\r\n                width: \"100%\",\r\n                display: \"inline-block\",\r\n                fontSize: \"14px\",\r\n                margin: \"0\",\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const messageInfoWrapperStyle = () => {\r\n\r\n    return {\r\n        alignSelf: \"flex-end\",\r\n    }\r\n}\r\n\r\nexport const messageReactionsWrapperStyle = () => {\r\n\r\n    return {\r\n        display: \"inline-flex\",\r\n        alignSelf: \"flex-end\",\r\n        width: \"100%\",\r\n        flexWrap: \"wrap\",\r\n        justifyContent: \"flex-end\",\r\n    }\r\n}","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\r\nimport { CometChatMessageReactions } from \"../\";\r\n\r\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\r\n\r\nimport { theme } from \"../../../../resources/theme\";\r\nimport Translator from \"../../../../resources/localization/translator\";\r\n\r\nimport {\r\n    messageContainerStyle,\r\n    messageWrapperStyle,\r\n    messageTxtWrapperStyle,\r\n    messageTxtContainerStyle,\r\n    messageTxtStyle,\r\n    messageBtnStyle,\r\n    messageInfoWrapperStyle,\r\n    messageReactionsWrapperStyle,\r\n} from \"./style\";\r\n\r\nimport documentIcon from \"./resources/senderdocument.png\";\r\n\r\nclass CometChatSenderDocumentBubble extends React.PureComponent {\r\n\r\n    messageFrom = \"sender\";\r\n\r\n    constructor(props) {\r\n\r\n        super(props);\r\n        const message = Object.assign({}, props.message, { messageFrom: this.messageFrom });\r\n\r\n        this.state = {\r\n            message: message,\r\n            isHovering: false\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n\r\n        const previousMessageStr = JSON.stringify(prevProps.message);\r\n        const currentMessageStr = JSON.stringify(this.props.message);\r\n\r\n        if (previousMessageStr !== currentMessageStr) {\r\n\r\n            const message = Object.assign({}, this.props.message, { messageFrom: this.messageFrom });\r\n            this.setState({ message: message })\r\n        }\r\n    }\r\n\r\n    launchCollaborativeDocument = () => {\r\n\r\n        let documentUrl = null;\r\n        let documentData = checkMessageForExtensionsData(this.state.message, \"document\");\r\n        if (documentData\r\n        && documentData.hasOwnProperty(\"document_url\")\r\n        && documentData.document_url.length) {\r\n\r\n            documentUrl = documentData.document_url;\r\n            window.open(documentUrl, '', 'fullscreen=yes, scrollbars=auto');\r\n        }\r\n    }\r\n\r\n    handleMouseHover = () => {\r\n        this.setState(this.toggleHoverState);\r\n    }\r\n\r\n    toggleHoverState = (state) => {\r\n\r\n        return {\r\n            isHovering: !state.isHovering,\r\n        };\r\n    }\r\n\r\n    render() {\r\n\r\n        let messageReactions = null;\r\n        const reactionsData = checkMessageForExtensionsData(this.state.message, \"reactions\");\r\n        if (reactionsData) {\r\n\r\n            if (Object.keys(reactionsData).length) {\r\n                messageReactions = (\r\n                    <div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\r\n                        <CometChatMessageReactions {...this.props} message={this.state.message} reaction={reactionsData} />\r\n                    </div>\r\n                );\r\n            }\r\n        }\r\n\r\n        let toolTipView = null;\r\n        if (this.state.isHovering) {\r\n            toolTipView = (<CometChatMessageActions {...this.props} message={this.state.message} />);\r\n        }\r\n\r\n        const documentTitle = Translator.translate(\"CREATED_DOCUMENT\", this.props.lang); \r\n        return (\r\n            <div \r\n            css={messageContainerStyle()} \r\n            className=\"sender__message__container message__document\"\r\n            onMouseEnter={this.handleMouseHover}\r\n            onMouseLeave={this.handleMouseHover}>\r\n\r\n                {toolTipView}\r\n                    \r\n                <div css={messageWrapperStyle()} className=\"message__wrapper\">\r\n                    <div css={messageTxtWrapperStyle(this.props)} className=\"message__document__wrapper\">\r\n                        <div css={messageTxtContainerStyle()} className=\"message__document__container\">\r\n                            <img src={documentIcon} alt={Translator.translate(\"COLLABORATIVE_DOCUMENT\", this.props.lang)} />\r\n                            <p css={messageTxtStyle()} className=\"document__title\">{documentTitle}</p>\r\n                        </div>\r\n                        <ul css={messageBtnStyle(this.props)} className=\"document__button\">\r\n                            <li onClick={this.launchCollaborativeDocument}>\r\n                                <p>{Translator.translate(\"LAUNCH\", this.props.lang)}</p>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n\r\n                {messageReactions}\r\n\r\n                <div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\r\n                    <CometChatThreadedMessageReplyCount {...this.props} message={this.state.message} />\r\n                    <CometChatReadReceipt {...this.props} message={this.state.message} />\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatSenderDocumentBubble.defaultProps = {\r\n    lang: Translator.getDefaultLanguage(),\r\n    theme: theme\r\n};\r\n\r\nCometChatSenderDocumentBubble.propTypes = {\r\n    lang: PropTypes.string,\r\n    theme: PropTypes.object\r\n}\r\n\r\nexport default CometChatSenderDocumentBubble;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADeElEQVRYCb2XS0hUYRTHnXxEWpi9iUAkJIxehGRlthF6bSKspFbWNoLaJdEuaFO7IlpERSDRohaFbaIIK1KKsrKHEiVpEtJQ+CjzMf3+1++TO9frzJ3mOgd+nnO/xznne4+RLI/EYrFCihZDgacq3c9RHPyCb5FIZNg6i1iDwMuw62EXKIEcmKjHTlfGcPAX2uEyXCIRJZWVRfAl0AqZlLOK7YyQqGewT6jASA9aKOswZiGGn5mwHPJBMgIbNfo8eOka+lXsRZAD2SGSi6/10A5WrimB+dBjSvrRynLaBP/HTSyp6Awi5UKeidiH/mns6VJdLsdFSsArU645GeeDXx+vj0Tfcf4DOSNoBE7h9S00Ya9OFCGlOpzpCP4AifbCAq8DyrR5RsHKbW+boN842G+dSAeaAZzXgtq+g0Gopm8JOk4o0xJVwTbQZaZNXglr4hq6P6hMOAPUF4A9Ogexn4LkqMfPCsqanZrxP72oQyD9CrTZlVDKM7CFfqXQC3fgPkjkKFuGcX4BcwO0wGG4CLrgimAW6GqfLHRONgNXaCNpUG90OQzDEKw1ZeuwR0CjLbZRsOtB8h6URGozQKeF9NlpHLbxXYat67kbdHfUgESXl2ajlQemUwVG7qJ1DccdPVspnWwTbqeNs5nQp0Gb8AXYUe4hKQW2AXS/u8U+u7beXefY/utCFY7V6YDp0Yl+BirTiHRUq2ElVMAnkJTRr5BZ0LsvUZ36aNb8hQ6+e4DyUugDyRF3b77ngn0/zmPr4bLPeQN2BdRAJ4zBB0h5Dywl6Gzoh0Z3AoxQ78U9U1bCt6b+GHwHzZpm66ZB94aW2ncWplwCOshJHXQR4DPaKycpaIYmVdDmIaPcjLkD5sBjyp5Q9ho7ij2Eniw08F2CyS3DKSFeyhdROJGn8JJoCXQS5tGvHHTUtPuTidb6K9P9JllDW58wARqdgzrbOKAeIPFVJPElSPtkCTzAid6BoDOgM/8RohBI/BKYmGpGcR0vIkyZ8C+n9nyO/4Mwfr87z2aYET2+3P9x/VECA2CvTj2duz0dQvtkb2hwe10On2vNtNtvoGpNxW/0LegA3V5OG3Q6omnXVazfFlUuR/scmwQ2wSBkUvTj1nkfbBJ6PDoykIF+uDRCsQLHTS+F2gOVsBXUQHskbtfy/T+iOFraNngELZww53H6ByIvEUMkrUNxAAAAAElFTkSuQmCC\"","export const messageContainerStyle = () => {\r\n\r\n    return {\r\n        alignSelf: \"flex-end\",\r\n        marginBottom: \"16px\",\r\n        paddingLeft: \"16px\",\r\n        paddingRight: \"16px\",\r\n        maxWidth: \"65%\",\r\n        clear: \"both\",\r\n        position: \"relative\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flexShrink: \"0\",\r\n        \":hover\": {\r\n            \"ul.message__actions\": {\r\n                display: \"flex\"\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const messageWrapperStyle = () => {\r\n\r\n    return {\r\n        width: \"auto\",\r\n        flex: \"1 1\",\r\n        alignSelf: \"flex-end\",\r\n        display: \"flex\",\r\n    }\r\n}\r\n\r\nexport const messageTxtWrapperStyle = (props) => {\r\n\r\n    return {\r\n        display: \"inline-block\",\r\n        borderRadius: \"12px\",\r\n        backgroundColor: `${props.theme.backgroundColor.blue}`,\r\n        color: `${props.theme.color.white}`,\r\n        padding: \"8px 16px\",\r\n        alignSelf: \"flex-end\",\r\n        width: \"auto\",\r\n    }\r\n}\r\n\r\nexport const pollQuestionStyle = () => {\r\n\r\n    return {\r\n        margin: \"0\",\r\n        whiteSpace: \"pre-wrap\",\r\n        wordWrap: \"break-word\",\r\n        textAlign: \"left\",\r\n        width: \"100%\",\r\n        fontSize: \"14px\",\r\n    }\r\n}\r\n\r\nexport const pollAnswerStyle = (props) => {\r\n\r\n    return {\r\n        listStyleType: \"none\",\r\n        padding: \"0\",\r\n        margin: \"0\",\r\n        width: \"100%\",\r\n        \"li\": {\r\n            backgroundColor: `${props.theme.backgroundColor.white}`,\r\n            margin: \"10px 0\",\r\n            borderRadius: \"8px\",\r\n            display: \"flex\",\r\n            width: \"100%\",\r\n            position: \"relative\",\r\n        }\r\n    }\r\n}\r\n\r\nexport const pollTotalStyle = () => {\r\n\r\n    return {\r\n        fontSize: \"13px\",\r\n        margin: \"0\",\r\n        alignSelf: \"flex-end\"\r\n    }\r\n}\r\n\r\nexport const pollPercentStyle = (props, width) => {\r\n\r\n    const curvedBorders = (width === \"100%\") ? { borderRadius: \"8px\" } : {\r\n        borderRadius: \"8px 0 0 8px\"\r\n    };\r\n\r\n    return {\r\n        maxWidth: \"100%\",\r\n        width: width,\r\n        ...curvedBorders,\r\n        backgroundColor: `${props.theme.backgroundColor.primary}`,\r\n        minHeight: \"35px\",\r\n        height: \"100%\",\r\n        position: \"absolute\",\r\n        zIndex: \"1\",\r\n    }\r\n}\r\n\r\nexport const answerWrapperStyle = (props, width) => {\r\n\r\n    return {\r\n        width: \"100%\",\r\n        color: `${props.theme.color.primary}`,\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        minHeight: \"35px\",\r\n        height: \"100%\",\r\n        zIndex: \"2\",\r\n        \"p\": {\r\n            margin: \"0\",\r\n            padding: \"6px 12px\",\r\n            width: \"calc(100% - 40px)\",\r\n            whiteSpace: \"pre-wrap\",\r\n            wordWrap: \"break-word\",\r\n            fontSize: \"14px\",\r\n        },\r\n        \"span\": {\r\n            width: \"40px\",\r\n            padding: \"6px 12px\",\r\n            fontWeight: \"bold\",\r\n            display: \"inline-block\",\r\n            fontSize: \"13px\",\r\n        }\r\n    }\r\n}\r\n\r\nexport const messageInfoWrapperStyle = () => {\r\n\r\n    return {\r\n        alignSelf: \"flex-end\",\r\n    }\r\n}\r\n\r\nexport const messageReactionsWrapperStyle = () => {\r\n\r\n    return {\r\n        display: \"inline-flex\",\r\n        alignSelf: \"flex-end\",\r\n        width: \"100%\",\r\n        flexWrap: \"wrap\",\r\n        justifyContent: \"flex-end\",\r\n    }\r\n}","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\r\nimport { CometChatMessageReactions } from \"../\";\r\n\r\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\r\n\r\nimport { theme } from \"../../../../resources/theme\";\r\nimport Translator from \"../../../../resources/localization/translator\";\r\n\r\nimport {\r\n    messageContainerStyle,\r\n    messageWrapperStyle,\r\n    messageTxtWrapperStyle,\r\n    pollQuestionStyle,\r\n    pollAnswerStyle,\r\n    pollTotalStyle,\r\n    pollPercentStyle,\r\n    answerWrapperStyle,\r\n    messageInfoWrapperStyle,\r\n    messageReactionsWrapperStyle,\r\n} from \"./style\";\r\n\r\nclass CometChatSenderPollMessageBubble extends React.Component {\r\n    pollId;\r\n    requestInProgress = null;\r\n    messageFrom = \"sender\";\r\n\r\n    constructor(props) {\r\n        \r\n        super(props);\r\n        const message = Object.assign({}, props.message, { messageFrom: this.messageFrom });\r\n\r\n        this.state = {\r\n            message: message,\r\n            isHovering: false\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n\r\n        const previousMessageStr = JSON.stringify(prevProps.message);\r\n        const currentMessageStr = JSON.stringify(this.props.message);\r\n\r\n        if (previousMessageStr !== currentMessageStr) {\r\n\r\n            const message = Object.assign({}, this.props.message, { messageFrom: this.messageFrom });\r\n            this.setState({ message: message })\r\n        }\r\n    }\r\n\r\n    handleMouseHover = () => {\r\n        this.setState(this.toggleHoverState);\r\n    }\r\n\r\n    toggleHoverState = (state) => {\r\n\r\n        return {\r\n            isHovering: !state.isHovering,\r\n        };\r\n    }\r\n\r\n    render() {\r\n\r\n        if (!this.props.message.hasOwnProperty(\"metadata\")) {\r\n            return null;\r\n        }\r\n        \r\n        if (!this.props.message.metadata.hasOwnProperty(\"@injected\")) {\r\n            return null;\r\n        }\r\n\r\n        if (!this.props.message.metadata[\"@injected\"].hasOwnProperty(\"extensions\")) {\r\n            return null;\r\n        }\r\n\r\n        if (!this.props.message.metadata[\"@injected\"][\"extensions\"].hasOwnProperty(\"polls\")) {\r\n            return null;\r\n        }\r\n\r\n        const pollOptions = [];\r\n        const pollExtensionData = this.props.message.metadata[\"@injected\"][\"extensions\"][\"polls\"]; \r\n\r\n        this.pollId = pollExtensionData.id;\r\n        const total = pollExtensionData.results.total;\r\n        let totalText = Translator.translate(\"NO_VOTE\", this.props.lang);\r\n\r\n        if (total === 1) {\r\n\r\n            totalText = `${total} ${Translator.translate(\"VOTE\", this.props.lang)}`;\r\n\r\n        } else if (total > 1) {\r\n\r\n            totalText = `${total} ${Translator.translate(\"VOTES\", this.props.lang)}`;\r\n        }\r\n\r\n        for (const option in pollExtensionData.results.options) {\r\n\r\n            const optionData = pollExtensionData.results.options[option];\r\n            const vote = optionData[\"count\"];\r\n\r\n            let width = \"0%\";\r\n            if(total) {\r\n\r\n                const fraction = (vote / total);\r\n                width = fraction.toLocaleString(\"en\", { style: 'percent' }); \r\n            }\r\n\r\n            const template = (\r\n                <li key={option}>\r\n                    <div css={pollPercentStyle(this.props, width)}> </div>\r\n                    <div css={answerWrapperStyle(this.props, width)}>\r\n                        <span>{width}</span>\r\n                        <p>{optionData.text}</p>\r\n                    </div>\r\n                </li>\r\n            );\r\n            pollOptions.push(template);\r\n        }\r\n\r\n        let messageReactions = null;\r\n        const reactionsData = checkMessageForExtensionsData(this.state.message, \"reactions\");\r\n        if (reactionsData) {\r\n\r\n            if (Object.keys(reactionsData).length) {\r\n                messageReactions = (\r\n                    <div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\r\n                        <CometChatMessageReactions {...this.props} message={this.state.message} reaction={reactionsData} />\r\n                    </div>\r\n                );\r\n            }\r\n        }\r\n\r\n        let toolTipView = null;\r\n        if (this.state.isHovering) {\r\n            toolTipView = (<CometChatMessageActions {...this.props} message={this.state.message} />);\r\n        }\r\n\r\n        return (\r\n            <div \r\n            css={messageContainerStyle()} \r\n            className=\"sender__message__container message__poll\"\r\n            onMouseEnter={this.handleMouseHover}\r\n            onMouseLeave={this.handleMouseHover}>\r\n                \r\n                {toolTipView}\r\n                    \r\n                <div css={messageWrapperStyle()} className=\"message__wrapper\">\r\n                    <div css={messageTxtWrapperStyle(this.props)} className=\"message__poll__wrapper\">\r\n                        <p css={pollQuestionStyle()} className=\"poll__question\">{pollExtensionData.question}</p>\r\n                        <ul css={pollAnswerStyle(this.props)} className=\"poll__options\">\r\n                            {pollOptions}\r\n                        </ul>\r\n                        <p css={pollTotalStyle()} className=\"poll__votes\">{totalText}</p>\r\n                    </div>\r\n                </div>\r\n\r\n                {messageReactions}\r\n\r\n                <div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\r\n                    <CometChatThreadedMessageReplyCount {...this.props} message={this.state.message} />\r\n                    <CometChatReadReceipt {...this.props} message={this.state.message} />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatSenderPollMessageBubble.defaultProps = {\r\n    lang: Translator.getDefaultLanguage(),\r\n    theme: theme\r\n};\r\n\r\nCometChatSenderPollMessageBubble.propTypes = {\r\n    lang: PropTypes.string,\r\n    theme: PropTypes.object\r\n}\r\n\r\nexport default CometChatSenderPollMessageBubble;","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\r\nimport { CometChatMessageReactions } from \"../\";\r\n\r\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\r\n\r\nimport { theme } from \"../../../../resources/theme\";\r\nimport Translator from \"../../../../resources/localization/translator\";\r\n\r\nimport {\r\n    messageContainerStyle,\r\n    messageWrapperStyle,\r\n    messageImgWrapper,\r\n    messageInfoWrapperStyle,\r\n    messageReactionsWrapperStyle,\r\n} from \"./style\";\r\n\r\nclass CometChatSenderStickerBubble extends React.Component {\r\n\r\n    messageFrom = \"sender\";\r\n\r\n    constructor(props) {\r\n\r\n        super(props);\r\n\r\n        const message = Object.assign({}, props.message, { messageFrom: this.messageFrom });\r\n        this.state = {\r\n            message: message,\r\n            isHovering: false\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n\r\n        const previousMessageStr = JSON.stringify(prevProps.message);\r\n        const currentMessageStr = JSON.stringify(this.props.message);\r\n\r\n        if (previousMessageStr !== currentMessageStr) {\r\n\r\n            const message = Object.assign({}, this.props.message, { messageFrom: this.messageFrom });\r\n            this.setState({ message: message })\r\n        }\r\n    }\r\n\r\n    handleMouseHover = () => {\r\n        this.setState(this.toggleHoverState);\r\n    }\r\n\r\n    toggleHoverState = (state) => {\r\n\r\n        return {\r\n            isHovering: !state.isHovering,\r\n        };\r\n    }\r\n\r\n    render() {\r\n\r\n        let stickerData = null;\r\n        let stickerImg = null;\r\n        if (this.state.message.hasOwnProperty(\"data\") && this.state.message.data.hasOwnProperty(\"customData\")) {\r\n\r\n            stickerData = this.state.message.data.customData;\r\n\r\n            if (stickerData.hasOwnProperty(\"sticker_url\")) {\r\n                const stickerName = (stickerData.hasOwnProperty(\"sticker_name\")) ? stickerData.sticker_name : Translator.translate(\"STICKER\", this.props.lang);\r\n                stickerImg = (<img src={stickerData.sticker_url} alt={stickerName} />);\r\n            }\r\n        }\r\n\r\n        let messageReactions = null;\r\n        const reactionsData = checkMessageForExtensionsData(this.state.message, \"reactions\");\r\n        if (reactionsData) {\r\n\r\n            if (Object.keys(reactionsData).length) {\r\n                messageReactions = (\r\n                    <div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\r\n                        <CometChatMessageReactions {...this.props} message={this.state.message} reaction={reactionsData} />\r\n                    </div>\r\n                );\r\n            }\r\n        }\r\n\r\n        let toolTipView = null;\r\n        if (this.state.isHovering) {\r\n            toolTipView = (<CometChatMessageActions {...this.props} message={this.state.message} />);\r\n        }\r\n\r\n        return (\r\n            <div \r\n            css={messageContainerStyle()} \r\n            className=\"sender__message__container message__sticker\"\r\n            onMouseEnter={this.handleMouseHover}\r\n            onMouseLeave={this.handleMouseHover}>\r\n                \r\n                {toolTipView}\r\n                \r\n                <div css={messageWrapperStyle()} className=\"message__wrapper\">\r\n                    <div css={messageImgWrapper(this.props)} className=\"message__img__wrapper\">{stickerImg} </div>\r\n                </div>\r\n\r\n                {messageReactions}\r\n\r\n                <div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\r\n                    <CometChatThreadedMessageReplyCount {...this.props} message={this.state.message} />\r\n                    <CometChatReadReceipt {...this.props} message={this.state.message} />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatSenderStickerBubble.defaultProps = {\r\n    lang: Translator.getDefaultLanguage(),\r\n    theme: theme\r\n};\r\n\r\nCometChatSenderStickerBubble.propTypes = {\r\n    lang: PropTypes.string,\r\n    theme: PropTypes.object\r\n}\r\n\r\nexport default CometChatSenderStickerBubble;","export const messageContainerStyle = () => {\r\n\r\n    return {\r\n        alignSelf: \"flex-end\",\r\n        marginBottom: \"16px\",\r\n        paddingLeft: \"16px\",\r\n        paddingRight: \"16px\",\r\n        maxWidth: \"65%\",\r\n        clear: \"both\",\r\n        position: \"relative\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flexShrink: \"0\",\r\n        \":hover\": {\r\n            \"ul.message__actions\": {\r\n                display: \"flex\"\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const messageWrapperStyle = () => {\r\n\r\n    return {\r\n        width: \"auto\",\r\n        flex: \"1 1\",\r\n        alignSelf: \"flex-end\",\r\n        display: \"flex\",\r\n    }\r\n}\r\n\r\nexport const messageImgWrapper = (props) => {\r\n\r\n    const mq = [`@media (min-width : 320px) and (max-width: 767px)`];\r\n\r\n    return {\r\n        display: \"inline-block\",\r\n        alignSelf: \"flex-end\",\r\n        maxWidth: \"128px\",\r\n        height: \"128px\",\r\n        cursor: \"pointer\",\r\n        flexShrink: \"0\",\r\n        [mq[0]]: {\r\n            maxWidth: \"128px\",\r\n            height: \"128px\",\r\n            padding: \"2px 2px\",\r\n        }\r\n    }\r\n}\r\n\r\nexport const messageInfoWrapperStyle = () => {\r\n\r\n    return {\r\n        alignSelf: \"flex-end\",\r\n    }\r\n}\r\n\r\nexport const messageReactionsWrapperStyle = () => {\r\n\r\n    return {\r\n        display: \"inline-flex\",\r\n        alignSelf: \"flex-end\",\r\n        width: \"100%\",\r\n        flexWrap: \"wrap\",\r\n        justifyContent: \"flex-end\",\r\n    }\r\n}","export const messageContainerStyle = () => {\r\n\r\n    return {\r\n        alignSelf: \"flex-end\",\r\n        marginBottom: \"16px\",\r\n        paddingLeft: \"16px\",\r\n        paddingRight: \"16px\",\r\n        maxWidth: \"305px\",\r\n        clear: \"both\",\r\n        position: \"relative\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flexShrink: \"0\",\r\n        \":hover\": {\r\n            \"ul.message__actions\": {\r\n                display: \"flex\"\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const messageWrapperStyle = () => {\r\n\r\n    return {\r\n        width: \"auto\",\r\n        flex: \"1 1\",\r\n        alignSelf: \"flex-end\",\r\n        display: \"flex\",\r\n    }\r\n}\r\n\r\nexport const messageTxtWrapperStyle = (props) => {\r\n\r\n    return {\r\n        display: \"inline-block\",\r\n        borderRadius: \"12px\",\r\n        backgroundColor: `${props.theme.backgroundColor.blue}`,\r\n        color: `${props.theme.color.white}`,\r\n        padding: \"16px\",\r\n        alignSelf: \"flex-end\",\r\n        width: \"auto\",\r\n    }\r\n}\r\n\r\nexport const messageTxtContainerStyle = () => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\"\r\n    }\r\n}\r\n\r\nexport const messageTxtStyle = () => {\r\n\r\n    return {\r\n        margin: \"0\",\r\n        whiteSpace: \"pre-wrap\",\r\n        wordBreak: \"break-word\",\r\n        textAlign: \"left\",\r\n        width: \"100%\",\r\n        fontSize: \"14px\",\r\n        marginLeft: \"8px\"\r\n    }\r\n}\r\n\r\nexport const messageBtnStyle = (props) => {\r\n\r\n    return {\r\n        listStyleType: \"none\",\r\n        padding: \"0\",\r\n        margin: \"0\",\r\n        width: \"100%\",\r\n        \"li\": {\r\n            backgroundColor: `${props.theme.backgroundColor.white}`,\r\n            borderRadius: \"8px\",\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n            width: \"100%\",\r\n            position: \"relative\",\r\n            margin: \"16px 0 0 0\",\r\n            padding: \"8px\",\r\n            cursor: \"pointer\",\r\n            \"> p\": {\r\n                background: \"0 0\",\r\n                textAlign: \"center\",\r\n                color: `${props.theme.color.primary}`,\r\n                width: \"100%\",\r\n                display: \"inline-block\",\r\n                fontSize: \"14px\",\r\n                margin: \"0\",\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const messageInfoWrapperStyle = () => {\r\n\r\n    return {\r\n        alignSelf: \"flex-end\",\r\n    }\r\n}\r\n\r\nexport const messageReactionsWrapperStyle = () => {\r\n\r\n    return {\r\n        display: \"inline-flex\",\r\n        alignSelf: \"flex-end\",\r\n        width: \"100%\",\r\n        flexWrap: \"wrap\",\r\n        justifyContent: \"flex-end\",\r\n    }\r\n}","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\r\nimport { CometChatMessageReactions } from \"../\";\r\n\r\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\r\n\r\nimport { theme } from \"../../../../resources/theme\";\r\nimport Translator from \"../../../../resources/localization/translator\";\r\n\r\nimport {\r\n    messageContainerStyle,\r\n    messageWrapperStyle,\r\n    messageTxtWrapperStyle,\r\n    messageTxtContainerStyle,\r\n    messageTxtStyle,\r\n    messageBtnStyle,\r\n    messageInfoWrapperStyle,\r\n    messageReactionsWrapperStyle,\r\n} from \"./style\";\r\n\r\nimport whiteboardIcon from \"./resources/senderwhiteboard.png\";\r\n\r\nclass CometChatSenderWhiteboardBubble extends React.PureComponent {\r\n\r\n    messageFrom = \"sender\";\r\n\r\n    constructor(props) {\r\n\r\n        super(props);\r\n        const message = Object.assign({}, props.message, { messageFrom: this.messageFrom });\r\n\r\n        this.state = {\r\n            message: message,\r\n            isHovering: false\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n\r\n        const previousMessageStr = JSON.stringify(prevProps.message);\r\n        const currentMessageStr = JSON.stringify(this.props.message);\r\n\r\n        if (previousMessageStr !== currentMessageStr) {\r\n\r\n            const message = Object.assign({}, this.props.message, { messageFrom: this.messageFrom });\r\n            this.setState({ message: message })\r\n        }\r\n    }\r\n\r\n    launchCollaborativeWhiteboard = () => {\r\n\r\n        let whiteboardUrl = null;\r\n        let whiteboardData = checkMessageForExtensionsData(this.state.message, \"whiteboard\");\r\n        if (whiteboardData\r\n        && whiteboardData.hasOwnProperty(\"board_url\")\r\n        && whiteboardData.board_url.length) {\r\n\r\n            let username = this.props.loggedInUser.name.split(' ').join('_');\r\n            // Appending the username to the board_url\r\n            whiteboardUrl = whiteboardData.board_url + '&username=' + username;\r\n            window.open(whiteboardUrl, '', 'fullscreen=yes, scrollbars=auto');\r\n        }\r\n    }\r\n\r\n    handleMouseHover = () => {\r\n        this.setState(this.toggleHoverState);\r\n    }\r\n\r\n    toggleHoverState = (state) => {\r\n\r\n        return {\r\n            isHovering: !state.isHovering,\r\n        };\r\n    }\r\n\r\n    render() {\r\n\r\n        let messageReactions = null;\r\n        const reactionsData = checkMessageForExtensionsData(this.state.message, \"reactions\");\r\n        if (reactionsData) {\r\n\r\n            if (Object.keys(reactionsData).length) {\r\n                messageReactions = (\r\n                    <div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\r\n                        <CometChatMessageReactions {...this.props} message={this.state.message} reaction={reactionsData} />\r\n                    </div>\r\n                );\r\n            }\r\n        }\r\n\r\n        let toolTipView = null;\r\n        if (this.state.isHovering) {\r\n            toolTipView = (<CometChatMessageActions {...this.props} message={this.state.message} />);\r\n        }\r\n\r\n        const documentTitle = Translator.translate(\"CREATED_WHITEBOARD\", this.props.lang); \r\n        return (\r\n            <div \r\n            css={messageContainerStyle()} \r\n            className=\"sender__message__container message__document\"\r\n            onMouseEnter={this.handleMouseHover}\r\n            onMouseLeave={this.handleMouseHover}>\r\n\r\n                {toolTipView}\r\n                    \r\n                <div css={messageWrapperStyle()} className=\"message__wrapper\">\r\n                    <div css={messageTxtWrapperStyle(this.props)} className=\"message__whiteboard__wrapper\">\r\n                        <div css={messageTxtContainerStyle()} className=\"message__whiteboard__container\">\r\n                            <img src={whiteboardIcon} alt={Translator.translate(\"COLLABORATIVE_WHITEBOARD\", this.props.lang)} />\r\n                            <p css={messageTxtStyle()} className=\"document__title\">{documentTitle}</p>\r\n                        </div>\r\n                        <ul css={messageBtnStyle(this.props)} className=\"document__button\">\r\n                            <li onClick={this.launchCollaborativeWhiteboard}>\r\n                                <p>{Translator.translate(\"LAUNCH\", this.props.lang)}</p>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n\r\n                {messageReactions}\r\n\r\n                <div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\r\n                    <CometChatThreadedMessageReplyCount {...this.props} message={this.state.message} />\r\n                    <CometChatReadReceipt {...this.props} message={this.state.message} />\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatSenderWhiteboardBubble.defaultProps = {\r\n    lang: Translator.getDefaultLanguage(),\r\n    theme: theme\r\n};\r\n\r\nCometChatSenderWhiteboardBubble.propTypes = {\r\n    lang: PropTypes.string,\r\n    theme: PropTypes.object\r\n}\r\n\r\nexport default CometChatSenderWhiteboardBubble;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADtUlEQVRYCb2WW4iNURTH5xiMGWaM+7hlSkwSJY+epEwSymVcJpIHDKJ4kEujpIjyoBR5kQe5FE8ejJMGuReNBw+iGTODNLmNxnBmOH7/b9Y+dufmjHPMqt9Za6+991rr2/t8+9t5eSbRaHQorIeH8B1yKb8I1gLHYJrLGdM4Z8Mz6Av5QpKdfnI9+fO+yByXY6GK6A9V4JblF/Z5uAHfIQTZSpQAilMBW2AMSGrgWh5VPfUqU/L/JuRZBF2WrxFd0o9s072MdZ79P8y7BP1ogYvRhdqCAeaQinh2xiZPMoLBc2AI3A6FQq0pJv/E32192paQCvClV3tO4gImb4XtMMkCteJfSxH11vZVYnwG+1Ltj05nM6kCwv5kz76PnR8/H18pvLFxH9Bl+g/0WphYyaQwzPMm12O/t/Ygz5/W7HUBJF9PxCswwSJrX/fAcvhhvjtsgfx/F1sOp9JuAYN2QbcbjO6EDcqCrjV/B3pGssz4E7ZAE31JWQCDDvgDsZVopSWfhd1u/SeSJbdx/1YAgQ9bcKeUXEuuByiCe9bxEj06pwUQ8KgFd0rJV7gk2K44bc1i50+m6c98BRgcAn0+fflGI1h2JcCuhB824GR8UvyFvo92ZgUwsB+4J8MMRHeENS4gdhloySUNUOr1ldM+Ay9M64RUwRkXoPvBT3Cip1znJdDqnLdObYmO4UCwF0Cz9ekiIlmlTnRCAanOAX0fXJ/O7m281+cUxEQrsdrsQ/TpI6MEm1FXYSIcgf0gSf2NUXmeBK8h7XzYAZdgSU+Mnl/ao6AJJGHoD9qygyCJgL71KugWvIXh1k5YAQ3yJeU50JM+CLrXJugsnwLFcNZ8n9DLLFm1+WLXL9rZFUCAgeAuMKexZ8J9kLyC4L+AViK19Scd7BWfdQElBNTnVtIGOooldVDuJaoJvNFoFVpzjsNkGAJZfQ2/kuSiJRqJ7oB9sJg/YhPayVKMRtDFpB70FujPnCDxF5KEAb6DJDxAVF++B6ClvYmv2R9jdgN6LoThMVQx7jVzY2cFvkBUgLu1miu9IpBeqcvpR+XV0v8I2iHMnKRPrxgq4B2MUwOp6FHZ/ZLwGxEuJYkyFp9bBV37IyrgArhXZRPLpOXTwdIFuRLdBceDDqciC9qKbtemTsV4ArHXBbsNMrvRMDBDGca4Am/sblbqaNCmCJ16+pz2lVwnUYmSx67JOObT3gi6Tg0F9y3AzIl0EqUF9K04xdPrFf5TgBoSCtFWaJ9ixcmfA4mQ9HN8nN89fxTFHHw6mwAAAABJRU5ErkJggg==\"","export const chatComposerStyle = (props) => {\r\n\r\n    return {\r\n        padding: \"16px\",\r\n        backgroundColor: `${props.theme.backgroundColor.white}`,\r\n        zIndex: \"1\",\r\n        order: \"3\",\r\n        position: \"relative\",\r\n        flex: \"none\",\r\n        minHeight: \"105px\",\r\n    }\r\n}\r\n\r\nexport const editPreviewContainerStyle = (props, keyframes) => {\r\n\r\n    const slideAnimation = keyframes`\r\n    from {\r\n        bottom: -60px\r\n    }\r\n    to {\r\n        bottom: 0px\r\n    }`;\r\n\r\n    return {\r\n        padding: \"7px\",\r\n        backgroundColor: `${props.theme.backgroundColor.white}`,\r\n        borderColor: `${props.theme.borderColor.primary}`,\r\n        borderWidth: \"1px 1px 1px 5px\",\r\n        borderStyle: \"solid\",\r\n        color: `${props.theme.color.helpText}`,\r\n        fontSize: \"13px\",\r\n        animation: `${slideAnimation} 0.5s ease-out`,\r\n        position: \"relative\",\r\n    }\r\n}\r\n\r\nexport const previewHeadingStyle = () => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"space-between\"\r\n    }\r\n}\r\n\r\nexport const previewTextStyle = () => {\r\n\r\n    return {\r\n        padding: \"5px 0\",\r\n    }\r\n}\r\n\r\nexport const previewCloseStyle = (img) => {\r\n\r\n    return {\r\n        width: \"24px\",\r\n        height: \"24px\",\r\n        borderRadius: \"50%\",\r\n        background: `url(${img}) center center no-repeat`,\r\n        cursor: \"pointer\",\r\n    }\r\n}\r\n\r\nexport const composerInputStyle = () => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        width: \"100%\",\r\n        flexDirection: \"row\",\r\n        alignItems: \"flex-end\",\r\n        position: \"relative\",\r\n        zIndex: \"2\",\r\n        padding: \"0\",\r\n        minHeight: \"85px\",\r\n    }\r\n}\r\n\r\nexport const inputInnerStyle = (props, state) => {\r\n\r\n    const borderRadiusVal = (state.emojiViewer || state.stickerViewer) ? {\r\n        borderRadius: \"0 0 8px 8px\",\r\n    } : {\r\n        borderRadius: \"8px\",\r\n    };\r\n\r\n    return {\r\n        flex: \"1 1 auto\",\r\n        position: \"relative\",\r\n        outline: \"none\",\r\n        border: `1px solid ${props.theme.borderColor.primary}`,\r\n        backgroundColor: `${props.theme.backgroundColor.white}`,\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        width: \"100%\",\r\n        minHeight: \"85px\",\r\n        ...borderRadiusVal\r\n    }\r\n}\r\n\r\nexport const messageInputStyle = (disabled) => {\r\n\r\n    const disabledState = (disabled) ? {\r\n        pointerEvents : \"none\",\r\n        opacity: \"0.4\"\r\n    } : {};\r\n\r\n    return {\r\n        width: \"100%\",\r\n        fontSize: \"15px\",\r\n        lineHeight: \"20px\",\r\n        fontWeight: \"400\",\r\n        padding: \"16px\",\r\n        outline: \"none\",\r\n        overflowX: \"hidden\",\r\n        overflowY: \"auto\",\r\n        position: \"relative\",\r\n        whiteSpace: \"pre-wrap\",\r\n        wordWrap: \"break-word\",\r\n        zIndex: \"1\",\r\n        minHeight: \"50px\",\r\n        maxHeight: \"100px\",\r\n        userSelect: \"text\",\r\n        ...disabledState,\r\n        '&:empty:before': {\r\n            content: \"attr(placeholder)\",\r\n            color: \"rgb(153, 153, 153)\",\r\n            pointerEvents: \"none\",\r\n            display: \"block\", /* For Firefox */\r\n        }\r\n    }\r\n}\r\n\r\nexport const inputStickyStyle = (props, disabled) => {\r\n\r\n    const disabledState = (disabled) ? {\r\n        pointerEvents: \"none\",\r\n    } : {};\r\n\r\n    return {\r\n        padding: \"8px 16px\",\r\n        height: \"40px\",\r\n        borderTop: `1px solid ${props.theme.borderColor.primary}`,\r\n        backgroundColor: `${props.theme.backgroundColor.grey}`,\r\n        display: \"flex\",\r\n        justifyContent: \"space-between\",\r\n        ...disabledState,\r\n        '&:empty:before': {\r\n            pointerEvents: \"none\",\r\n        }\r\n    }\r\n}\r\n\r\nexport const stickyAttachmentStyle = () => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        width: \"auto\"\r\n    }\r\n}\r\n\r\nexport const attachmentIconStyle = () => {\r\n\r\n    return {\r\n        margin: \"auto 0\",\r\n        width: \"24px\",\r\n        height: \"20px\",\r\n        cursor: \"pointer\",\r\n    }\r\n}\r\n\r\nexport const filePickerStyle = (state) => {\r\n\r\n    const active = (state.showFilePicker) ? {\r\n        width: \"calc(100% - 20px)\",\r\n        opacity: \"1\",\r\n    } : {};\r\n\r\n    return {\r\n        width: \"0\",\r\n        borderRadius: \"8px\",\r\n        overflow: \"hidden\",\r\n        zIndex: \"1\",\r\n        opacity: \"0\",\r\n        transition: \"width 0.5s linear\",\r\n        ...active,\r\n    }\r\n}\r\n\r\nexport const fileListStyle = () => {\r\n\r\n    return {\r\n        width: \"100%\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        padding: \"0 0 0 16px\",\r\n    }\r\n}\r\n\r\nexport const fileItemStyle = () => {\r\n\r\n\r\n    return {\r\n        height: \"24px\",\r\n        cursor: \"pointer\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        margin: \"0 16px 0 0\",\r\n        ' > input': {\r\n            display: \"none\",\r\n        },\r\n    }\r\n}\r\n\r\nexport const stickyAttachButtonStyle = () => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        cursor: \"pointer\",\r\n        width: \"20px\",\r\n    }\r\n}\r\n\r\nexport const stickyButtonStyle = (props, state) => {\r\n\r\n    const active = (state.showFilePicker) ? {\r\n        display: \"none\",\r\n    } : {\r\n        display: \"flex\",\r\n    };\r\n\r\n    return {\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        cursor: \"pointer\",\r\n        width: \"auto\",\r\n        ...active\r\n    }\r\n}\r\n\r\nexport const emojiButtonStyle = () => {\r\n\r\n    return {\r\n        height: \"24px\",\r\n        cursor: \"pointer\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        margin: \"0 0 0 16px\",\r\n    }\r\n}\r\n\r\nexport const sendButtonStyle = () => {\r\n\r\n    return {\r\n        height: \"24px\",\r\n        cursor: \"pointer\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        margin: \"0 0 0 16px\",\r\n    }\r\n}\r\n\r\nexport const reactionBtnStyle = () => {\r\n\r\n    return {\r\n        cursor: \"pointer\",\r\n        height: \"24px\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        margin: \"0 0 0 16px\",\r\n    }\r\n}\r\n\r\nexport const stickerBtnStyle = () => {\r\n\r\n    return {\r\n        cursor: \"pointer\",\r\n        height: \"24px\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        margin: \"0 0 0 16px\",\r\n    }\r\n}","import { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport * as enums from \"../../../util/enums.js\";\r\n\r\nexport class CallAlertManager {\r\n\r\n    callListenerId = \"incoming_call_\" + new Date().getTime();\r\n\r\n    attachListeners(callback) {\r\n\r\n        CometChat.addCallListener(\r\n            this.callListenerId,\r\n            new CometChat.CallListener({\r\n                onIncomingCallReceived: call => {\r\n                    callback(enums.INCOMING_CALL_RECEIVED, call);\r\n                },\r\n                onIncomingCallCancelled: call => {\r\n                    callback(enums.INCOMING_CALL_CANCELLED, call);\r\n                }\r\n            })\r\n        );\r\n    }\r\n\r\n    removeListeners() {\r\n        CometChat.removeCallListener(this.callListenerId);\r\n    }\r\n}","export const incomingCallWrapperStyle = (props, keyframes) => {\r\n\r\n    const slideDown = keyframes`\r\n    0% { transform: translateY(-50px); }\r\n    100% { transform: translateY(0px); }\r\n    `;\r\n\r\n    let positionValue = \"absolute\";\r\n    let leftPos = \"0\";\r\n    let rightPos = \"0\";\r\n    let topPos = \"0\";\r\n    let bottomPos = \"unset\";\r\n    let zIndexValue = \"999\";\r\n    \r\n    if (props.hasOwnProperty(\"widgetsettings\")) {\r\n\r\n        if (props.widgetsettings.hasOwnProperty(\"dockedview\") && props.widgetsettings.dockedview) {\r\n\r\n            //if chat window is open\r\n            if (props.widgetsettings.hasOwnProperty(\"launched\") && props.widgetsettings.launched) {\r\n\r\n                zIndexValue = \"2147483000\";\r\n                positionValue = \"fixed\";\r\n                topPos = \"unset\";\r\n                bottomPos = \"100px\";\r\n                \r\n                if (props.widgetsettings.hasOwnProperty(\"alignment\") && props.widgetsettings.alignment === \"left\") {\r\n\r\n                    rightPos = \"unset\";\r\n                    leftPos = \"20px\";\r\n\r\n                    if (props.widgetsettings.hasOwnProperty(\"width\")) {\r\n\r\n                        if (props.widgetsettings.width.includes(\"px\")) {\r\n\r\n                            const widgetWidth = props.widgetsettings.width.replace(\"px\", \"\");\r\n                            rightPos = parseInt(widgetWidth) - 250 - 15;\r\n                            rightPos = rightPos + \"px\";\r\n                        }\r\n                    }\r\n\r\n                    if (props.widgetsettings.hasOwnProperty(\"height\")) {\r\n\r\n                        if (props.widgetsettings.height.includes(\"px\")) {\r\n\r\n                            const widgetHeight = props.widgetsettings.height.replace(\"px\", \"\");\r\n                            bottomPos = parseInt(widgetHeight) - 140 + 100;\r\n                            bottomPos = bottomPos + \"px\";\r\n                        }\r\n                    }\r\n                    \r\n                } else {\r\n\r\n                    leftPos = \"unset\";\r\n                    rightPos = \"20px\";\r\n                    \r\n                    if(props.widgetsettings.hasOwnProperty(\"width\")) {\r\n\r\n                        if (props.widgetsettings.width.includes(\"px\")) {\r\n\r\n                            const widgetWidth = props.widgetsettings.width.replace(\"px\", \"\");\r\n                            rightPos = parseInt(widgetWidth) - 250 - 15;\r\n                            rightPos = rightPos + \"px\";\r\n                        }\r\n                    }\r\n\r\n                    if (props.widgetsettings.hasOwnProperty(\"height\")) {\r\n\r\n                        if (props.widgetsettings.height.includes(\"px\")) {\r\n\r\n                            const widgetHeight = props.widgetsettings.height.replace(\"px\", \"\"); \r\n                            bottomPos = parseInt(widgetHeight) - 140 + 100;\r\n                            bottomPos = bottomPos + \"px\";\r\n                        }\r\n                    }\r\n                }\r\n                \r\n            } else {\r\n\r\n                leftPos = \"unset\";\r\n                positionValue = \"fixed\";\r\n            }\r\n        } \r\n    }\r\n\r\n    return {\r\n        position: positionValue,\r\n        top: topPos,\r\n        left: leftPos,\r\n        bottom: bottomPos,\r\n        right: rightPos,\r\n        borderRadius: \"10px\",\r\n        margin: \"15px\",\r\n        backgroundColor: `${props.theme.backgroundColor.callScreenGrey}`,\r\n        zIndex: zIndexValue,\r\n        color: `${props.theme.color.white}`,\r\n        textAlign: \"center\",\r\n        boxSizing: \"border-box\",\r\n        fontFamily: `${props.theme.fontFamily}`,\r\n        animation: `${slideDown} 250ms ease`,\r\n        width: \"250px\",\r\n        \"*\": {\r\n            boxSizing: \"border-box\",\r\n            fontFamily: `${props.theme.fontFamily}`,\r\n        },\r\n    }\r\n}\r\n\r\nexport const callContainerStyle = () => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        width: \"100%\",\r\n        padding: \"15px\",\r\n    }\r\n}\r\n\r\nexport const headerWrapperStyle = () => {\r\n\r\n    return {\r\n        width: \"100%\",\r\n        display: \"flex\",\r\n    }\r\n}\r\n\r\nexport const callDetailStyle = () => {\r\n\r\n    return {\r\n        width: \"calc(100% - 36px)\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        textAlign: \"left\"\r\n    }\r\n}\r\n\r\nexport const nameStyle = () => {\r\n\r\n    return {\r\n        fontSize: \"15px\",\r\n        fontWeight: \"600\",\r\n        display: \"block\",\r\n        width: \"100%\",\r\n        overflow: \"hidden\",\r\n        textOverflow: \"ellipsis\",\r\n        whiteSpace: \"nowrap\",\r\n        lineHeight: \"20px\",\r\n    }\r\n}\r\n\r\nexport const callTypeStyle = (props) => {\r\n\r\n    return {\r\n        fontSize: \"13px\",\r\n        width: \"100%\",\r\n        overflow: \"hidden\",\r\n        textOverflow: \"ellipsis\",\r\n        whiteSpace: \"nowrap\",\r\n        textTransform: \"capitalize\",\r\n        lineHeight: \"20px\",\r\n        color: \"#8A8A8A\",\r\n        display: \"flex\",\r\n        justifyContent: \"start\",\r\n        alignItems: \"center\",\r\n        padding: \"2px 0 0 0px\",\r\n        \"span\": {\r\n            padding: \"0 5px\"\r\n        }\r\n    }\r\n}\r\n\r\nexport const thumbnailStyle = () => {\r\n\r\n    return {\r\n        width: \"36px\",\r\n        height: \"36px\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n    }\r\n}\r\n\r\nexport const headerButtonStyle = () => {\r\n\r\n    return {\r\n        width: \"100%\",\r\n        display: \"flex\",\r\n        justifyContent: \"space-between\",\r\n        margin: \"10px 0 0 0\",\r\n    }\r\n}\r\n\r\nexport const ButtonStyle = (props, action) => {\r\n\r\n    const backgroundColor = (action) ? `${props.theme.backgroundColor.blue}!important` : `${props.theme.backgroundColor.red}!important`;\r\n\r\n    return {\r\n        cursor: \"pointer\",\r\n        padding: \"6px 20px\",\r\n        backgroundColor: backgroundColor,\r\n        borderRadius: \"5px\",\r\n        color: `${props.theme.color.white}`,\r\n        fontSize: \"14px\",\r\n        outline: \"0\",\r\n        border: \"0\",\r\n        width: \"45%\",\r\n        textOverflow: \"ellipsis\",\r\n        overflow: \"hidden\",\r\n    }\r\n}\r\n","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx, keyframes } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\nimport { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport { CallAlertManager } from \"./controller\";\r\n\r\nimport { CometChatAvatar } from \"../../Shared\";\r\n\r\nimport * as enums from \"../../../util/enums.js\";\r\nimport { validateWidgetSettings } from \"../../../util/common\";\r\n\r\nimport { theme } from \"../../../resources/theme\";\r\nimport Translator from \"../../../resources/localization/translator\";\r\nimport { incomingCallAlert } from \"../../../resources/audio\";\r\n\r\nimport {\r\n    incomingCallWrapperStyle,\r\n    callContainerStyle,\r\n    headerWrapperStyle,\r\n    callDetailStyle,\r\n    nameStyle,\r\n    callTypeStyle,\r\n    thumbnailStyle,\r\n    headerButtonStyle,\r\n    ButtonStyle\r\n} from \"./style\";\r\n\r\nimport audioCallIcon from \"./resources/incomingaudiocall.png\";\r\nimport videoCallIcon from \"./resources/incomingvideocall.png\";\r\n\r\nclass CometChatIncomingCall extends React.PureComponent {\r\n\r\n    constructor(props) {\r\n\r\n        super(props);\r\n\r\n        this.state = {\r\n            incomingCall: null,\r\n            callInProgress: null\r\n        }\r\n\r\n        this.incomingAlert = new Audio(incomingCallAlert);\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        this.CallAlertManager = new CallAlertManager();\r\n        this.CallAlertManager.attachListeners(this.callScreenUpdated);\r\n    }\r\n\r\n    playIncomingAlert = () => {\r\n\r\n        //if audio sound is disabled in chat widget\r\n        if (validateWidgetSettings(this.props.widgetsettings, \"enable_sound_for_calls\") === false) {\r\n            return false;\r\n        }\r\n\r\n        this.incomingAlert.currentTime = 0;\r\n        if (typeof this.incomingAlert.loop == 'boolean') {\r\n            this.incomingAlert.loop = true;\r\n        } else {\r\n            this.incomingAlert.addEventListener('ended', function () {\r\n                this.currentTime = 0;\r\n                this.play();\r\n            }, false);\r\n        }\r\n        this.incomingAlert.play();\r\n    }\r\n\r\n    pauseIncomingAlert = () => {\r\n\r\n        //if audio sound is disabled in chat widget\r\n        if (validateWidgetSettings(this.props.widgetsettings, \"enable_sound_for_calls\") === false) {\r\n            return false;\r\n        }\r\n        \r\n        this.incomingAlert.pause();\r\n    }\r\n\r\n    callScreenUpdated = (key, call) => {\r\n        \r\n        switch (key) {\r\n\r\n            case enums.INCOMING_CALL_RECEIVED://occurs at the callee end\r\n                this.incomingCallReceived(call);\r\n                break;\r\n            case enums.INCOMING_CALL_CANCELLED://occurs(call dismissed) at the callee end, caller cancels the call\r\n                this.incomingCallCancelled(call);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    incomingCallReceived = (incomingCall) => {\r\n\r\n        const activeCall = CometChat.getActiveCall();\r\n        \r\n        //if there is another call in progress\r\n        if (activeCall) {\r\n\r\n            CometChat.rejectCall(incomingCall.sessionId, CometChat.CALL_STATUS.BUSY).then(rejectedCall => {\r\n\r\n                this.props.actionGenerated(\"rejectedIncomingCall\", incomingCall, rejectedCall);\r\n\r\n            }).catch(error => {\r\n                \r\n                this.props.actionGenerated(\"callError\", error);\r\n                console.log(\"Call rejection failed with error:\", error);\r\n            });\r\n\r\n        } else if (this.state.incomingCall === null) {\r\n\r\n            this.playIncomingAlert();\r\n            this.setState({ incomingCall: incomingCall });\r\n        }\r\n    }\r\n\r\n    incomingCallCancelled = (call) => {\r\n\r\n        //we are not marking this as read as it will done in messagelist component\r\n        this.pauseIncomingAlert();\r\n        this.setState({ incomingCall: null });\r\n    }\r\n\r\n    rejectCall = () => {\r\n\r\n        this.pauseIncomingAlert();\r\n        CometChat.rejectCall(this.state.incomingCall.sessionId, CometChat.CALL_STATUS.REJECTED).then(rejectedCall => {\r\n            \r\n            this.props.actionGenerated(\"rejectedIncomingCall\", this.state.incomingCall, rejectedCall);\r\n            this.setState({ incomingCall: null });\r\n\r\n        }).catch(error => {\r\n\r\n            this.props.actionGenerated(\"callError\", error);\r\n            this.setState({ incomingCall: null });\r\n        });\r\n    }\r\n\r\n    acceptCall = () => {\r\n        \r\n        this.pauseIncomingAlert();\r\n        CometChat.acceptCall(this.state.incomingCall.sessionId).then(call => {\r\n\r\n            this.props.actionGenerated(\"acceptedIncomingCall\", call);\r\n            this.setState({ incomingCall: null });\r\n\r\n        }).catch(error => {\r\n\r\n            this.props.actionGenerated(\"callError\", error);\r\n            this.setState({ incomingCall: null });\r\n        });\r\n    }\r\n\r\n    render() {\r\n        \r\n        let callScreen = null;\r\n        if (this.state.incomingCall) {\r\n            \r\n            let callType = (\r\n                <React.Fragment>\r\n                    <img src={audioCallIcon} alt={Translator.translate(\"INCOMING_AUDIO_CALL\", this.props.lang)} /><span>{Translator.translate(\"INCOMING_AUDIO_CALL\", this.props.lang)}</span>\r\n                </React.Fragment>\r\n            );\r\n            if (this.state.incomingCall.type === \"video\") {\r\n                callType = (\r\n                    <React.Fragment>\r\n                        <img src={videoCallIcon} alt={Translator.translate(\"INCOMING_VIDEO_CALL\", this.props.lang)} /><span>{Translator.translate(\"INCOMING_VIDEO_CALL\", this.props.lang)}</span>\r\n                    </React.Fragment>\r\n                );\r\n            }\r\n            \r\n            callScreen = (\r\n                <div css={incomingCallWrapperStyle(this.props, keyframes)} className=\"callalert__wrapper\">\r\n                    <div css={callContainerStyle()} className=\"callalert__container\">\r\n                        <div css={headerWrapperStyle()} className=\"callalert__header\">\r\n                            <div css={callDetailStyle()} className=\"header__detail\">\r\n                                <div css={nameStyle()} className=\"name\">{this.state.incomingCall.sender.name}</div>\r\n                                <div css={callTypeStyle(this.props)} className=\"calltype\">{callType}</div>\r\n                            </div>\r\n                            <div css={thumbnailStyle()} className=\"header__thumbnail\">\r\n                                <CometChatAvatar user={this.state.incomingCall.sender} />\r\n                            </div>\r\n                        </div>\r\n                        <div css={headerButtonStyle()} className=\"callalert__buttons\">\r\n                            <button type=\"button\" css={ButtonStyle(this.props, 0)} className=\"button button__decline\" onClick={this.rejectCall}>{Translator.translate(\"DECLINE\", this.props.lang)}</button>\r\n                            <button type=\"button\" css={ButtonStyle(this.props, 1)} className=\"button button__accept\" onClick={this.acceptCall}>{Translator.translate(\"ACCEPT\", this.props.lang)}</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n        \r\n        return callScreen;\r\n    }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatIncomingCall.defaultProps = {\r\n    lang: Translator.getDefaultLanguage(),\r\n    theme: theme\r\n};\r\n\r\nCometChatIncomingCall.propTypes = {\r\n    lang: PropTypes.string,\r\n    theme: PropTypes.object\r\n}\r\n\r\nexport default CometChatIncomingCall;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAFKADAAQAAAABAAAAFAAAAACRFdLHAAACj0lEQVQ4Ec2US2hTQRSGb94JhCAWBYWCgqAL3Qhu3IkWxJUIFUUwkIdBAqEYBCkKUhBBa7FuQl5oIEUMWNfdK4KCoCtxocRUF4VKI0TM2++PuZeb2lIXLjwwmTn/OfPPf87MjWH8Y3Os58tkMnt8Pt/udrv9OpFItNfHN/ILhcKkw+H4EI1G3zrtCblc7qzf73/lcrleMObsMa3z+fwEI2nHi8ViGgGVXq93SLhFSOJeSDJgOzqdjuF2u5OcfM6+2el0niLnsomxJ03eLNVMx2KxBeEWIeuTHo9ne7fbNfr9vgZVOOYg3WcSgHVQ0pCPsiter3e21Wpdj0Qit8ntC7cIAcYEmCZiNuyCZNrEdAL+N5Rd4vB7KLsRj8dvmXHNbptTJdnm/l7CsWID2xAdRuURlE1R5rwtNlhahJA9p3ffIQiJmN4YbHqG0hn7pmAwuHMNAztGO85QhbvZbD5B6QPlWSUDfMJfRIFwA2L1cZWn82MA8AP5YqPRuMvyIfFl5nfkvGGuMgY28g6z2ewBCF8S2UZZBjcKRzdJadlh/paTpVCZqHkP0U2IBhtZs3Td5xLOb8k0TBhRKKxSqbjq9XqJx3qBHhq8PZX/E6W6hGy5XA6B3yHVz5jhyXzUPtP+IFRAm2j0U8o/IVL1U0a/HjGNc9hx+TybZbA0n1xFvmxDQgVKpdIYqh5z2xMilenCIDD0JcmGrenTmnku61oqlWqO9HCQNfwJh8OrKJhkLIhIpbO2yJTGgQZkFOCYCgQC+4VtSqggl1Sv1WoXUZTGXePNWeUrLpNKSKvEvsjftGQF7cYjPojKq2CnaUPI7CuHfaUN3E1kSfl/TWiS688CwqP44xCt0N8lKvlsxv//+RdSDjjIN00QiwAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAFKADAAQAAAABAAAAFAAAAACRFdLHAAAB9klEQVQ4Ee2Tu0sjURTGZyaTl9qs2GmxrZaLqKDFNot/wFYKgpHEWLlY2dtZCVYZCImd3Xa7sIsIiwgigqKChVvuKlhYKIRMkpn4+8ZcGVMJWnrgzLnn9Z3HvWNZ7/TaDdgGoFKpjNu2vRKG4RQcGLuRjuMk4N0gCDby+fyxsXfLCLADtktCT6vVsgDujrPa7baVTCatZrN5S9xELpe7VJDneQOZTOZro9H4USgU/jkyEjzrum4PwVKjZLq0xAIyBUgSaD+2UcWVSqUR9F/ZbLZEkZxsBnCIUaQLwIdvBUKQuAnwIrytDlWA2LBcLk+m0+nfiUTiU71eV9Fe5UeAKKEUJXD+znGejnVusII5eA99zBSlSIuYJeIHY1O1heHqYwgAHe/p5g4psBmAtKsdfIMCpCOtAtUOkIp/Rs8A5WEkdZ3xfX8BsP+c/wDyQft7CUUjxwOp7HJb2s0R5zV8F4D95RwPU2FXO+6myNLpytzqx2q1Osw4fexnlbHzJHkaNUZSPHzX2ruIglFFU+JK1QiQ4zNgJ8h9bAdIPeJ1+TqJEg5T7LGWaeynPBvZapEj+jjONg7fVAMoCadj7KiBVCqlh31DwUPlFYvFM9bxpVarLWPfku1pMXpXAH4DeJIVPLajiA4BqF/vJze9ya93buzv8u038AAdggH5Kp0raQAAAABJRU5ErkJggg==\"","import { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport * as enums from \"../../../util/enums.js\";\r\n\r\nexport class CallScreenManager {\r\n\r\n  callListenerId = \"callscreen_\" + new Date().getTime();\r\n\r\n  attachListeners(callback) {\r\n    \r\n    CometChat.addCallListener(\r\n      this.callListenerId,\r\n      new CometChat.CallListener({\r\n        onOutgoingCallAccepted: call => {\r\n          callback(enums.OUTGOING_CALL_ACCEPTED, call);\r\n        },\r\n        onOutgoingCallRejected: call => {\r\n          callback(enums.OUTGOING_CALL_REJECTED, call);\r\n        },\r\n        onIncomingCallCancelled: call => {\r\n          callback(enums.INCOMING_CALL_CANCELLED, call);\r\n        }\r\n      })\r\n    );\r\n  }\r\n\r\n  removeListeners() {\r\n    CometChat.removeCallListener(this.callListenerId);\r\n  }\r\n}","export const callScreenWrapperStyle = (props, keyframes) => {\r\n\r\n    const fadeAnimation = keyframes`\r\n    from {\r\n        opacity: 0;\r\n    }\r\n    to {\r\n        opacity: 1;\r\n    }`;\r\n\r\n    return {\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        position: \"absolute\",\r\n        top: \"0\",\r\n        right: \"0\",\r\n        bottom: \"0\",\r\n        left: \"0\",\r\n        backgroundColor: `${props.theme.backgroundColor.darkGrey}`,\r\n        zIndex: \"999\",\r\n        color: `${props.theme.color.white}`,\r\n        textAlign: \"center\",\r\n        boxSizing: \"border-box\",\r\n        animation: `${fadeAnimation} 250ms ease`,\r\n        fontFamily: `${props.theme.fontFamily}`,\r\n        \"*\": {\r\n            boxSizing: \"border-box\",\r\n            fontFamily: `${props.theme.fontFamily}`,\r\n        },\r\n    }\r\n}\r\n\r\nexport const callScreenContainerStyle = () => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        height: \"100%\",\r\n        width: \"100%\"\r\n    }\r\n}\r\n\r\nexport const headerStyle = () => {\r\n\r\n    return {\r\n        padding: \"20px 10px\",\r\n        width: \"100%\",\r\n        height: \"20%\",\r\n    }\r\n}\r\n\r\nexport const headerDurationStyle = () => {\r\n\r\n    return {\r\n        fontSize: \"13px\",\r\n        display: \"inline-block\",\r\n        padding: \"5px\"\r\n    }\r\n}\r\n\r\nexport const headerNameStyle = () => {\r\n\r\n    return {\r\n        margin: \"0\",\r\n        fontWeight: \"700\",\r\n        textTransform: \"capitalize\",\r\n        fontSize: \"16px\",\r\n    }\r\n}\r\n\r\nexport const thumbnailWrapperStyle = () => {\r\n\r\n    return {\r\n        width: \"100%\",\r\n        height: \"50%\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\"\r\n    }\r\n}\r\n\r\nexport const thumbnailStyle = () => {\r\n\r\n    return {\r\n        width: \"200px\",\r\n        flexShrink: \"0\",\r\n    }\r\n}\r\n\r\nexport const headerIconStyle = () => {\r\n    \r\n    return {\r\n        width: \"100%\",\r\n        height: \"15%\",\r\n        padding: \"10px\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\"\r\n    }\r\n}\r\n\r\nexport const iconWrapperStyle = () => {\r\n\r\n    return {\r\n        display: \"flex\"\r\n    }\r\n}\r\n\r\nexport const iconStyle = (img, callAction) => {\r\n\r\n    const bgColor = (callAction) ? \"#008000\" : \"#ff3b30\";\r\n\r\n    return {\r\n        width: \"50px\",\r\n        height: \"50px\",\r\n        borderRadius: \"27px\",\r\n        backgroundColor: \"rgba(255, 255, 255, 0.2)\",\r\n        display: \"block\",\r\n        margin: \"auto 10px\",\r\n        cursor: \"pointer\",\r\n        background: `url(${img}) center center no-repeat ${bgColor}`,\r\n    }\r\n}\r\n\r\nexport const errorContainerStyle = () => {\r\n\r\n    return {\r\n        color: \"#fff\",\r\n        textAlign: \"center\",\r\n        borderRadius: \"2px\",\r\n        padding: \"13px 10px\",\r\n        fontSize: \"13px\",\r\n        width: \"100%\",\r\n        height: \"10%\",\r\n        backgroundColor: \"#333\",\r\n    }\r\n}\r\n","export default __webpack_public_path__ + \"static/media/call-end-white-icon.e37ba5b7.svg\";","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx, keyframes } from \"@emotion/core\";\r\nimport PropTypes from 'prop-types';\r\nimport { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport { CallScreenManager } from \"./controller\";\r\n\r\nimport { CometChatAvatar } from \"../../Shared\";\r\n\r\nimport * as enums from \"../../../util/enums.js\";\r\nimport { validateWidgetSettings } from \"../../../util/common\";\r\n\r\nimport Translator from \"../../../resources/localization/translator\";\r\nimport { theme } from \"../../../resources/theme\";\r\nimport { outgoingCallAlert } from \"../../../resources/audio\";\r\n\r\nimport {\r\n  callScreenWrapperStyle,\r\n  callScreenContainerStyle,\r\n  headerStyle,\r\n  headerDurationStyle,\r\n  headerNameStyle,\r\n  thumbnailWrapperStyle,\r\n  thumbnailStyle,\r\n  headerIconStyle,\r\n  iconWrapperStyle,\r\n  iconStyle,\r\n  errorContainerStyle\r\n} from \"./style\";\r\n\r\nimport callIcon from \"./resources/call-end-white-icon.svg\";\r\n\r\nclass CometChatOutgoingCall extends React.PureComponent {\r\n\r\n  constructor(props) {\r\n\r\n    super(props);\r\n\r\n    this.callScreenFrame = React.createRef();\r\n\r\n    this.state = {\r\n      errorScreen: false,\r\n      errorMessage: null,\r\n      outgoingCallScreen: false,\r\n      callInProgress: null,\r\n    }\r\n\r\n    this.outgoingAlert = new Audio(outgoingCallAlert);\r\n  }\r\n\r\n  playOutgoingAlert = () => {\r\n\r\n    //if audio sound is disabled in chat widget\r\n    if (validateWidgetSettings(this.props.widgetsettings, \"enable_sound_for_calls\") === false) {\r\n      return false;\r\n    }\r\n\r\n    this.outgoingAlert.currentTime = 0;\r\n    if (typeof this.outgoingAlert.loop == 'boolean') {\r\n      this.outgoingAlert.loop = true;\r\n    } else {\r\n      this.outgoingAlert.addEventListener('ended', function () {\r\n        this.currentTime = 0;\r\n        this.play();\r\n      }, false);\r\n    }\r\n    this.outgoingAlert.play();\r\n  }\r\n\r\n  pauseOutgoingAlert = () => {\r\n\r\n    //if audio sound is disabled in chat widget\r\n    if (validateWidgetSettings(this.props.widgetsettings, \"enable_sound_for_calls\") === false) {\r\n      return false;\r\n    }\r\n    \r\n    this.outgoingAlert.pause();\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n    this.CallScreenManager = new CallScreenManager();\r\n    this.CallScreenManager.attachListeners(this.callScreenUpdated);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n\r\n    if (prevProps.outgoingCall !== this.props.outgoingCall && this.props.outgoingCall) {\r\n\r\n      this.playOutgoingAlert(); \r\n\r\n      let call = this.props.outgoingCall;\r\n      this.setState({ outgoingCallScreen: true, callInProgress: call, errorScreen: false, errorMessage: null });\r\n    }\r\n\r\n    //incoming call accepted\r\n    if (prevProps.incomingCall !== this.props.incomingCall && this.props.incomingCall) {\r\n\r\n      this.setState({ outgoingCallScreen: false, callInProgress: this.props.incomingCall, errorScreen: false, errorMessage: null });\r\n\r\n      setTimeout(() => {\r\n        this.startCall(this.props.incomingCall);\r\n      }, 5);\r\n      \r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.CallScreenManager.removeListeners();\r\n    this.CallScreenManager = null;\r\n  }\r\n\r\n  callScreenUpdated = (key, call) => {\r\n\r\n    switch(key) {\r\n\r\n      case enums.INCOMING_CALL_CANCELLED:\r\n        this.incomingCallCancelled(call);\r\n      break;\r\n      case enums.OUTGOING_CALL_ACCEPTED://occurs at the caller end\r\n        this.outgoingCallAccepted(call);\r\n      break;\r\n      case enums.OUTGOING_CALL_REJECTED://occurs at the caller end, callee rejects the call\r\n        this.outgoingCallRejected(call);\r\n      break;\r\n      default:\r\n      break;\r\n    }\r\n  }\r\n\r\n  incomingCallCancelled = (call) => {\r\n\r\n    this.setState({ outgoingCallScreen: false, callInProgress: null });\r\n  }\r\n\r\n  outgoingCallAccepted = (call) => {\r\n    \r\n    if (this.state.outgoingCallScreen === true) {\r\n\r\n      this.pauseOutgoingAlert();\r\n      this.setState({ outgoingCallScreen: false, callInProgress: call, errorScreen: false, errorMessage: null });\r\n      this.startCall(call);\r\n\r\n    }\r\n  }\r\n\r\n  outgoingCallRejected = (call) => {\r\n    \r\n    this.pauseOutgoingAlert();\r\n\r\n    if (call.hasOwnProperty(\"status\") && call.status === CometChat.CALL_STATUS.BUSY) {\r\n\r\n      //show busy message.\r\n      const errorMessage = `${call.sender.name} ${Translator.translate(\"ON_ANOTHER_CALL\", this.props.lang)}`;\r\n      this.setState({ errorScreen: true, errorMessage: errorMessage});\r\n\r\n    } else {\r\n\r\n      this.props.actionGenerated(\"outgoingCallRejected\", call);\r\n      this.setState({ outgoingCallScreen: false, callInProgress: null });\r\n    }\r\n  }\r\n\r\n  startCall = (call) => {\r\n\r\n    const sessionId = call.getSessionId();\r\n    const callType = call.type;\r\n\r\n    const callSettings = new CometChat.CallSettingsBuilder()\r\n                        .setSessionID(sessionId)\r\n                        .enableDefaultLayout(true)\r\n                        .setMode(CometChat.CALL_MODE.DEFAULT)\r\n                        .setIsAudioOnlyCall(callType === CometChat.CALL_TYPE.AUDIO ? true : false)\r\n                        .setLocalizedStringObject({\r\n                          \"SELECT_VIDEO_SOURCE\": Translator.translate(\"SELECT_VIDEO_SOURCE\", this.props.lang),\r\n                          \"SELECT_INPUT_AUDIO_SOURCE\": Translator.translate(\"SELECT_INPUT_AUDIO_SOURCE\", this.props.lang),\r\n                          \"SELECT_OUTPUT_AUDIO_SOURCE\": Translator.translate(\"SELECT_OUTPUT_AUDIO_SOURCE\", this.props.lang)\r\n                        }).build();\r\n\r\n\r\n    const el = this.callScreenFrame;\r\n    CometChat.startCall(\r\n      callSettings,\r\n      el,\r\n      new CometChat.OngoingCallListener({\r\n        onUserJoined: user => {\r\n\r\n          /* Notification received here if another user joins the call. */\r\n          //console.log(\"User joined call:\", enums.USER_JOINED, user);\r\n          /* this method can be use to display message or perform any actions if someone joining the call */\r\n\r\n          //call initiator gets the same info in outgoingcallaccpeted event\r\n          if (call.callInitiator.uid !== this.props.loggedInUser.uid && call.callInitiator.uid !== user.uid) {\r\n\r\n            const callMessage = { \r\n              \"category\": call.category, \r\n              \"type\": call.type, \r\n              \"action\": call.action, \r\n              \"status\": call.status, \r\n              \"callInitiator\": call.callInitiator,\r\n              \"callReceiver\": call.callReceiver,\r\n              \"receiverId\": call.receiverId,\r\n              \"receiverType\": call.receiverType,\r\n              \"sentAt\": call.sentAt,\r\n              \"sender\": { ...user }\r\n            };\r\n            this.props.actionGenerated(\"userJoinedCall\", callMessage);\r\n          }\r\n        },\r\n        onUserLeft: user => {\r\n          /* Notification received here if another user left the call. */\r\n          //console.log(\"User left call:\", enums.USER_LEFT, user);\r\n          /* this method can be use to display message or perform any actions if someone leaving the call */\r\n\r\n          //call initiator gets the same info in outgoingcallaccpeted event\r\n          if (call.callInitiator.uid !== this.props.loggedInUser.uid && call.callInitiator.uid !== user.uid) {\r\n\r\n            const callMessage = {\r\n              \"category\": call.category,\r\n              \"type\": call.type,\r\n              \"action\": \"left\",\r\n              \"status\": call.status,\r\n              \"callInitiator\": call.callInitiator,\r\n              \"callReceiver\": call.callReceiver,\r\n              \"receiverId\": call.receiverId,\r\n              \"receiverType\": call.receiverType,\r\n              \"sentAt\": call.sentAt,\r\n              \"sender\": { ...user }\r\n            };\r\n\r\n            this.props.actionGenerated(\"userLeftCall\", callMessage);\r\n          }\r\n        },\r\n        onCallEnded: endedCall => {\r\n          \r\n          /* Notification received here if current ongoing call is ended. */\r\n          this.setState({ showOutgoingScreen: false, callInProgress: null });\r\n          this.props.actionGenerated(\"callEnded\", endedCall);\r\n          /* hiding/closing the call screen can be done here. */\r\n        }\r\n      })\r\n    );\r\n  }\r\n\r\n  //cancelling an outgoing call\r\n  cancelCall = () => {\r\n\r\n    this.pauseOutgoingAlert();\r\n\r\n    //if user busy error, just close the callscreen, no need to reject the call\r\n    if (this.state.errorScreen) {\r\n\r\n      this.props.actionGenerated(\"callError\", this.state.errorMessage);\r\n      this.setState({ errorScreen: false, errorMessage: null, outgoingCallScreen: false, callInProgress: null });\r\n\r\n    } else {\r\n\r\n      CometChat.rejectCall(this.state.callInProgress.sessionId, CometChat.CALL_STATUS.CANCELLED).then(call => {\r\n\r\n        this.props.actionGenerated(\"outgoingCallCancelled\", call);\r\n        this.setState({ outgoingCallScreen: false, callInProgress: null });\r\n\r\n      }).catch(error => {\r\n\r\n        this.props.actionGenerated(\"callError\", error);\r\n        this.setState({ outgoingCallScreen: false, callInProgress: null });\r\n      });\r\n\r\n    }\r\n  }\r\n\r\n  render() {\r\n\r\n    let callScreen = null, outgoingCallScreen = null, errorScreen = null;\r\n    if (this.state.callInProgress) {\r\n\r\n      let avatar = null;\r\n      if (this.props.type === CometChat.RECEIVER_TYPE.USER) {\r\n\r\n        avatar = (<CometChatAvatar user={this.state.callInProgress.receiver} />);\r\n\r\n      } else if (this.props.type === CometChat.RECEIVER_TYPE.GROUP) {\r\n\r\n        avatar = (<CometChatAvatar group={this.state.callInProgress.receiver} />);\r\n      }\r\n\r\n      if (this.state.errorScreen) {\r\n        errorScreen = (\r\n          <div css={errorContainerStyle()} className=\"callscreen__error__wrapper\"><div>{this.state.errorMessage}</div></div>\r\n        );\r\n      }\r\n\r\n      if (this.state.outgoingCallScreen) {\r\n        outgoingCallScreen = (\r\n          <div css={callScreenContainerStyle()} className=\"callscreen__container\">\r\n            <div css={headerStyle()} className=\"callscreen__header\">\r\n              <span css={headerDurationStyle()} className=\"header__calling\">{ Translator.translate(\"CALLING\", this.props.lang) }</span>\r\n              <h6 css={headerNameStyle()} className=\"header__name\">{this.state.callInProgress.receiver.name}</h6>\r\n            </div>\r\n            <div css={thumbnailWrapperStyle()} className=\"callscreen__thumbnail__wrapper\">\r\n              <div css={thumbnailStyle()} className=\"callscreen__thumbnail\">{avatar}</div>\r\n            </div>\r\n            {errorScreen}\r\n            <div css={headerIconStyle()} className=\"callscreen__icons\">\r\n              <div css={iconWrapperStyle()} className=\"icon__block\" onClick={this.cancelCall}>\r\n                <div css={iconStyle(callIcon, 0)} className=\"icon icon__end\"></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n\r\n    if (this.state.callInProgress) {\r\n\r\n      callScreen = (\r\n        <div css={callScreenWrapperStyle(this.props, keyframes)} className=\"callscreen__wrapper\" ref={el => { this.callScreenFrame = el; }}>\r\n          {outgoingCallScreen}\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return callScreen;\r\n  }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatOutgoingCall.defaultProps = {\r\n  lang: Translator.getDefaultLanguage(),\r\n  theme: theme,\r\n  incomingCall: null,\r\n  outgoingCall: null,\r\n};\r\n\r\nCometChatOutgoingCall.propTypes = {\r\n  lang: PropTypes.string,\r\n  theme: PropTypes.object,\r\n  incomingCall: PropTypes.object,\r\n  outgoingCall: PropTypes.object\r\n}\r\n\r\nexport default CometChatOutgoingCall;\r\n","import { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport * as enums from \"../../../util/enums.js\";\r\n\r\nexport class messageAlertManager {\r\n\r\n    msgListenerId = \"incoming_message_\" + new Date().getTime();\r\n\r\n    attachListeners(callback) {\r\n\r\n        CometChat.addMessageListener(\r\n            this.msgListenerId,\r\n            new CometChat.MessageListener({\r\n                onCustomMessageReceived: customMessage => {\r\n                    callback(enums.CUSTOM_MESSAGE_RECEIVED, customMessage);\r\n                }\r\n            })\r\n        );\r\n    }\r\n\r\n    removeListeners() {\r\n        CometChat.removeMessageListener(this.msgListenerId);\r\n    }\r\n}\r\n","export const incomingCallWrapperStyle = (props, keyframes) => {\r\n\r\n    const slideDown = keyframes`\r\n    0% { transform: translateY(-50px); }\r\n    100% { transform: translateY(0px); }\r\n    `;\r\n\r\n    let positionValue = \"absolute\";\r\n    let leftPos = \"0\";\r\n    let rightPos = \"0\";\r\n    let topPos = \"0\";\r\n    let bottomPos = \"unset\";\r\n    let zIndexValue = \"999\";\r\n\r\n    if (props.hasOwnProperty(\"widgetsettings\")) {\r\n\r\n        if (props.widgetsettings.hasOwnProperty(\"dockedview\") && props.widgetsettings.dockedview) {\r\n\r\n            //if chat window is open\r\n            if (props.widgetsettings.hasOwnProperty(\"launched\") && props.widgetsettings.launched) {\r\n\r\n                zIndexValue = \"2147483000\";\r\n                positionValue = \"fixed\";\r\n                topPos = \"unset\";\r\n                bottomPos = \"100px\";\r\n\r\n                if (props.widgetsettings.hasOwnProperty(\"alignment\") && props.widgetsettings.alignment === \"left\") {\r\n\r\n                    rightPos = \"unset\";\r\n                    leftPos = \"20px\";\r\n\r\n                    if (props.widgetsettings.hasOwnProperty(\"width\")) {\r\n\r\n                        if (props.widgetsettings.width.includes(\"px\")) {\r\n\r\n                            const widgetWidth = props.widgetsettings.width.replace(\"px\", \"\");\r\n                            rightPos = parseInt(widgetWidth) - 250 - 15;\r\n                            rightPos = rightPos + \"px\";\r\n                        }\r\n                    }\r\n\r\n                    if (props.widgetsettings.hasOwnProperty(\"height\")) {\r\n\r\n                        if (props.widgetsettings.height.includes(\"px\")) {\r\n\r\n                            const widgetHeight = props.widgetsettings.height.replace(\"px\", \"\");\r\n                            bottomPos = parseInt(widgetHeight) - 140 + 100;\r\n                            bottomPos = bottomPos + \"px\";\r\n                        }\r\n                    }\r\n\r\n                } else {\r\n\r\n                    leftPos = \"unset\";\r\n                    rightPos = \"20px\";\r\n\r\n                    if (props.widgetsettings.hasOwnProperty(\"width\")) {\r\n\r\n                        if (props.widgetsettings.width.includes(\"px\")) {\r\n\r\n                            const widgetWidth = props.widgetsettings.width.replace(\"px\", \"\");\r\n                            rightPos = parseInt(widgetWidth) - 250 - 15;\r\n                            rightPos = rightPos + \"px\";\r\n                        }\r\n                    }\r\n\r\n                    if (props.widgetsettings.hasOwnProperty(\"height\")) {\r\n\r\n                        if (props.widgetsettings.height.includes(\"px\")) {\r\n\r\n                            const widgetHeight = props.widgetsettings.height.replace(\"px\", \"\");\r\n                            bottomPos = parseInt(widgetHeight) - 140 + 100;\r\n                            bottomPos = bottomPos + \"px\";\r\n                        }\r\n                    }\r\n                }\r\n\r\n            } else {\r\n\r\n                leftPos = \"unset\";\r\n                positionValue = \"fixed\";\r\n            }\r\n        }\r\n    }\r\n\r\n    return {\r\n        position: positionValue,\r\n        top: topPos,\r\n        left: leftPos,\r\n        bottom: bottomPos,\r\n        right: rightPos,\r\n        borderRadius: \"10px\",\r\n        margin: \"15px\",\r\n        backgroundColor: `${props.theme.backgroundColor.callScreenGrey}`,\r\n        zIndex: zIndexValue,\r\n        color: `${props.theme.color.white}`,\r\n        textAlign: \"center\",\r\n        boxSizing: \"border-box\",\r\n        fontFamily: `${props.theme.fontFamily}`,\r\n        animation: `${slideDown} 250ms ease`,\r\n        width: \"250px\",\r\n        \"*\": {\r\n            boxSizing: \"border-box\",\r\n            fontFamily: `${props.theme.fontFamily}`,\r\n        },\r\n    }\r\n}\r\n\r\nexport const callContainerStyle = () => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        width: \"100%\",\r\n        padding: \"15px\",\r\n    }\r\n}\r\n\r\nexport const headerWrapperStyle = () => {\r\n\r\n    return {\r\n        width: \"100%\",\r\n        display: \"flex\",\r\n    }\r\n}\r\n\r\nexport const callDetailStyle = () => {\r\n\r\n    return {\r\n        width: \"calc(100% - 36px)\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        textAlign: \"left\"\r\n    }\r\n}\r\n\r\nexport const nameStyle = () => {\r\n\r\n    return {\r\n        fontSize: \"15px\",\r\n        fontWeight: \"600\",\r\n        display: \"block\",\r\n        width: \"100%\",\r\n        overflow: \"hidden\",\r\n        textOverflow: \"ellipsis\",\r\n        whiteSpace: \"nowrap\",\r\n        lineHeight: \"20px\",\r\n    }\r\n}\r\n\r\nexport const callTypeStyle = (props) => {\r\n\r\n    return {\r\n        fontSize: \"13px\",\r\n        width: \"100%\",\r\n        overflow: \"hidden\",\r\n        textOverflow: \"ellipsis\",\r\n        whiteSpace: \"nowrap\",\r\n        textTransform: \"capitalize\",\r\n        lineHeight: \"20px\",\r\n        color: \"#8A8A8A\",\r\n        display: \"flex\",\r\n        justifyContent: \"start\",\r\n        alignItems: \"center\",\r\n        padding: \"2px 0 0 0px\",\r\n        \"span\": {\r\n            padding: \"0 5px\"\r\n        }\r\n    }\r\n}\r\n\r\nexport const thumbnailStyle = () => {\r\n\r\n    return {\r\n        width: \"36px\",\r\n        height: \"36px\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n    }\r\n}\r\n\r\nexport const headerButtonStyle = () => {\r\n\r\n    return {\r\n        width: \"100%\",\r\n        display: \"flex\",\r\n        justifyContent: \"space-between\",\r\n        margin: \"10px 0 0 0\",\r\n    }\r\n}\r\n\r\nexport const ButtonStyle = (props, action) => {\r\n\r\n    const backgroundColor = (action) ? `${props.theme.backgroundColor.blue}!important` : `${props.theme.backgroundColor.red}!important`;\r\n\r\n    return {\r\n        cursor: \"pointer\",\r\n        padding: \"6px 20px\",\r\n        backgroundColor: backgroundColor,\r\n        borderRadius: \"5px\",\r\n        color: `${props.theme.color.white}`,\r\n        fontSize: \"14px\",\r\n        outline: \"0\",\r\n        border: \"0\",\r\n        width: \"45%\",\r\n        textOverflow: \"ellipsis\",\r\n        overflow: \"hidden\",\r\n    }\r\n}\r\n","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx, keyframes } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { messageAlertManager } from \"./controller\";\r\n\r\nimport { CometChatAvatar } from \"../../Shared\";\r\n\r\nimport * as enums from \"../../../util/enums.js\";\r\nimport { validateWidgetSettings } from \"../../../util/common\";\r\n\r\nimport Translator from \"../../../resources/localization/translator\";\r\nimport { theme } from \"../../../resources/theme\";\r\nimport { incomingCallAlert } from \"../../../resources/audio\";\r\n\r\nimport {\r\n    incomingCallWrapperStyle,\r\n    callContainerStyle,\r\n    headerWrapperStyle,\r\n    callDetailStyle,\r\n    nameStyle,\r\n    callTypeStyle,\r\n    thumbnailStyle,\r\n    headerButtonStyle,\r\n    ButtonStyle\r\n} from \"./style\";\r\n\r\nimport videoCallIcon from \"./resources/incomingvideocall.png\";\r\n\r\nclass CometChatIncomingDirectCall extends React.PureComponent {\r\n\r\n    constructor(props) {\r\n\r\n        super(props);\r\n        this._isMounted = false;\r\n        this.state = {\r\n            incomingMessage: null,\r\n        }\r\n\r\n        this.incomingAlert = new Audio(incomingCallAlert);\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        this._isMounted = true;\r\n\r\n        this.MessageAlertManager = new messageAlertManager();\r\n        this.MessageAlertManager.attachListeners(this.messageListenerCallback);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._isMounted = false;\r\n    }\r\n\r\n    playIncomingAlert = () => {\r\n\r\n        //if audio sound is disabled in chat widget\r\n        if (validateWidgetSettings(this.props.widgetsettings, \"enable_sound_for_calls\") === false) {\r\n            return false;\r\n        }\r\n\r\n        this.incomingAlert.currentTime = 0;\r\n        if (typeof this.incomingAlert.loop == 'boolean') {\r\n            this.incomingAlert.loop = true;\r\n        } else {\r\n            this.incomingAlert.addEventListener('ended', function () {\r\n                this.currentTime = 0;\r\n                this.play();\r\n            }, false);\r\n        }\r\n        this.incomingAlert.play();\r\n    }\r\n\r\n    pauseIncomingAlert = () => {\r\n\r\n        //if audio sound is disabled in chat widget\r\n        if (validateWidgetSettings(this.props.widgetsettings, \"enable_sound_for_calls\") === false) {\r\n            return false;\r\n        }\r\n\r\n        this.incomingAlert.pause();\r\n    }\r\n\r\n    messageListenerCallback = (key, message) => {\r\n\r\n        switch (key) {\r\n\r\n            case enums.CUSTOM_MESSAGE_RECEIVED://occurs at the callee end\r\n                this.incomingMessageReceived(message);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    incomingMessageReceived = (message) => {\r\n\r\n        if (this._isMounted) {\r\n\r\n            if (message.type !== enums.CUSTOM_TYPE_MEETING) {\r\n                return false;\r\n            }\r\n\r\n            this.playIncomingAlert();\r\n            this.setState({ incomingMessage: message });\r\n        }\r\n    }\r\n\r\n    joinDirectCall = () => {\r\n\r\n        this.pauseIncomingAlert();\r\n        this.props.actionGenerated(enums.ACTIONS[\"ACCEPT_DIRECT_CALL\"], { ...this.state.incomingMessage });\r\n        this.setState({ incomingMessage: null });\r\n    }\r\n\r\n    ignoreCall = () => {\r\n\r\n        this.pauseIncomingAlert();\r\n        this.setState({ incomingMessage: null });\r\n    }\r\n\r\n    render() {\r\n\r\n        let messageScreen = null;\r\n        if (this.state.incomingMessage) {\r\n\r\n            let avatar = null;\r\n            if (this.state.incomingMessage) {\r\n                avatar = (\r\n                    <div css={thumbnailStyle()} className=\"header__thumbnail\">\r\n                        <CometChatAvatar cornerRadius=\"50%\" image={this.state.incomingMessage.sender.avatar} />\r\n                    </div>\r\n                );\r\n            }\r\n\r\n            const callType = (\r\n                <React.Fragment>\r\n                    <img src={videoCallIcon} alt={Translator.translate(\"INCOMING_VIDEO_CALL\", this.props.lang)} /><span>{Translator.translate(\"INCOMING_VIDEO_CALL\", this.props.lang)}</span>\r\n                </React.Fragment>\r\n            );\r\n\r\n            messageScreen = (\r\n                <div css={incomingCallWrapperStyle(this.props, keyframes)} className=\"callalert__wrapper\">\r\n                    <div css={callContainerStyle()} className=\"callalert__container\">\r\n                        <div css={headerWrapperStyle()} className=\"callalert__header\">\r\n                            <div css={callDetailStyle()} className=\"header__detail\">\r\n                                <div css={nameStyle()} className=\"name\">{this.state.incomingMessage.sender.name}</div>\r\n                                <div css={callTypeStyle(this.props)} className=\"calltype\">{callType}</div>\r\n                            </div>\r\n                            {avatar}\r\n                        </div>\r\n                        <div css={headerButtonStyle()} className=\"callalert__buttons\">\r\n                            <button type=\"button\" css={ButtonStyle(this.props, 0)} className=\"button button__ignore\" onClick={this.ignoreCall}>{Translator.translate(\"IGNORE\", this.props.lang)}</button>\r\n                            <button type=\"button\" css={ButtonStyle(this.props, 1)} className=\"button button__join\" onClick={this.joinDirectCall}>{Translator.translate(\"JOIN\", this.props.lang)}</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n        \r\n        return messageScreen;\r\n    }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatIncomingDirectCall.defaultProps = {\r\n    lang: Translator.getDefaultLanguage(),\r\n    theme: theme\r\n};\r\n\r\nCometChatIncomingDirectCall.propTypes = {\r\n    lang: PropTypes.string,\r\n    theme: PropTypes.object\r\n}\r\n\r\nexport default CometChatIncomingDirectCall;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAFKADAAQAAAABAAAAFAAAAACRFdLHAAAB9klEQVQ4Ee2Tu0sjURTGZyaTl9qs2GmxrZaLqKDFNot/wFYKgpHEWLlY2dtZCVYZCImd3Xa7sIsIiwgigqKChVvuKlhYKIRMkpn4+8ZcGVMJWnrgzLnn9Z3HvWNZ7/TaDdgGoFKpjNu2vRKG4RQcGLuRjuMk4N0gCDby+fyxsXfLCLADtktCT6vVsgDujrPa7baVTCatZrN5S9xELpe7VJDneQOZTOZro9H4USgU/jkyEjzrum4PwVKjZLq0xAIyBUgSaD+2UcWVSqUR9F/ZbLZEkZxsBnCIUaQLwIdvBUKQuAnwIrytDlWA2LBcLk+m0+nfiUTiU71eV9Fe5UeAKKEUJXD+znGejnVusII5eA99zBSlSIuYJeIHY1O1heHqYwgAHe/p5g4psBmAtKsdfIMCpCOtAtUOkIp/Rs8A5WEkdZ3xfX8BsP+c/wDyQft7CUUjxwOp7HJb2s0R5zV8F4D95RwPU2FXO+6myNLpytzqx2q1Osw4fexnlbHzJHkaNUZSPHzX2ruIglFFU+JK1QiQ4zNgJ8h9bAdIPeJ1+TqJEg5T7LGWaeynPBvZapEj+jjONg7fVAMoCadj7KiBVCqlh31DwUPlFYvFM9bxpVarLWPfku1pMXpXAH4DeJIVPLajiA4BqF/vJze9ya93buzv8u038AAdggH5Kp0raQAAAABJRU5ErkJggg==\"","export const callScreenWrapperStyle = (props, keyframes) => {\r\n\r\n    const fadeAnimation = keyframes`\r\n    from {\r\n        opacity: 0;\r\n    }\r\n    to {\r\n        opacity: 1;\r\n    }`;\r\n\r\n    return {\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        position: \"absolute\",\r\n        top: \"0\",\r\n        right: \"0\",\r\n        bottom: \"0\",\r\n        left: \"0\",\r\n        backgroundColor: `${props.theme.backgroundColor.darkGrey}`,\r\n        zIndex: \"999\",\r\n        color: `${props.theme.color.white}`,\r\n        textAlign: \"center\",\r\n        boxSizing: \"border-box\",\r\n        animation: `${fadeAnimation} 250ms ease`,\r\n        fontFamily: `${props.theme.fontFamily}`,\r\n        \"*\": {\r\n            boxSizing: \"border-box\",\r\n            fontFamily: `${props.theme.fontFamily}`,\r\n        },\r\n    }\r\n}\r\n\r\nexport const callScreenContainerStyle = () => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        height: \"100%\",\r\n        width: \"100%\"\r\n    }\r\n}\r\n\r\nexport const headerStyle = () => {\r\n\r\n    return {\r\n        padding: \"20px 10px\",\r\n        width: \"100%\",\r\n        height: \"20%\",\r\n    }\r\n}\r\n\r\nexport const headerDurationStyle = () => {\r\n\r\n    return {\r\n        fontSize: \"13px\",\r\n        display: \"inline-block\",\r\n        padding: \"5px\"\r\n    }\r\n}\r\n\r\nexport const headerNameStyle = () => {\r\n\r\n    return {\r\n        margin: \"0\",\r\n        fontWeight: \"700\",\r\n        textTransform: \"capitalize\",\r\n        fontSize: \"16px\",\r\n    }\r\n}\r\n\r\nexport const thumbnailWrapperStyle = () => {\r\n\r\n    return {\r\n        width: \"100%\",\r\n        height: \"50%\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\"\r\n    }\r\n}\r\n\r\nexport const thumbnailStyle = () => {\r\n\r\n    return {\r\n        width: \"200px\",\r\n        flexShrink: \"0\",\r\n    }\r\n}\r\n\r\nexport const headerIconStyle = () => {\r\n\r\n    return {\r\n        width: \"100%\",\r\n        height: \"15%\",\r\n        padding: \"10px\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\"\r\n    }\r\n}\r\n\r\nexport const iconWrapperStyle = () => {\r\n\r\n    return {\r\n        display: \"flex\"\r\n    }\r\n}\r\n\r\nexport const iconStyle = (img, callAction) => {\r\n\r\n    const bgColor = (callAction) ? \"#008000\" : \"#ff3b30\";\r\n\r\n    return {\r\n        width: \"50px\",\r\n        height: \"50px\",\r\n        borderRadius: \"27px\",\r\n        backgroundColor: \"rgba(255, 255, 255, 0.2)\",\r\n        display: \"block\",\r\n        margin: \"auto 10px\",\r\n        cursor: \"pointer\",\r\n        background: `url(${img}) center center no-repeat ${bgColor}`,\r\n    }\r\n}\r\n\r\nexport const errorContainerStyle = () => {\r\n\r\n    return {\r\n        color: \"#fff\",\r\n        textAlign: \"center\",\r\n        borderRadius: \"2px\",\r\n        padding: \"13px 10px\",\r\n        fontSize: \"13px\",\r\n        width: \"100%\",\r\n        height: \"10%\",\r\n        backgroundColor: \"#333\",\r\n    }\r\n}\r\n","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx, keyframes } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\nimport { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport { ID, getUnixTimestamp } from \"../../../util/common\";\r\nimport * as enums from \"../../../util/enums.js\";\r\n\r\nimport Translator from \"../../../resources/localization/translator\";\r\nimport { theme } from \"../../../resources/theme\";\r\n\r\nimport {\r\n    callScreenWrapperStyle,\r\n} from \"./style\";\r\n\r\nclass CometChatOutgoingDirectCall extends React.Component {\r\n\r\n    sessionID;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.sessionID = `${props.item.guid}`;\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.startCall();\r\n    }\r\n\r\n    getReceiverDetails = () => {\r\n\r\n        let receiverId;\r\n        let receiverType;\r\n\r\n        if (this.props.type === CometChat.RECEIVER_TYPE.USER) {\r\n\r\n            receiverId = this.props.item.uid;\r\n            receiverType = CometChat.RECEIVER_TYPE.USER;\r\n\r\n        } else if (this.props.type === CometChat.RECEIVER_TYPE.GROUP) {\r\n\r\n            receiverId = this.props.item.guid;\r\n            receiverType = CometChat.RECEIVER_TYPE.GROUP;\r\n        }\r\n\r\n        return { \"receiverId\": receiverId, \"receiverType\": receiverType };\r\n    }\r\n\r\n    sendCustomMessage = () => {\r\n\r\n        const { receiverId, receiverType } = this.getReceiverDetails();\r\n\r\n        const customData = { \"sessionID\": this.sessionID, \"callType\": this.props.callType };\r\n        const customType = enums.CUSTOM_TYPE_MEETING;\r\n\r\n        let conversationId = null;\r\n        if (this.props.type === CometChat.RECEIVER_TYPE.USER) {\r\n\r\n            const users = [this.props.loggedInUser.uid, this.props.item.uid];\r\n            conversationId = users.sort().join(\"_user_\");\r\n            \r\n        } else if (this.props.type === CometChat.RECEIVER_TYPE.GROUP) {\r\n            conversationId = `group_${this.props.item.guid}`\r\n        }\r\n\r\n        const customMessage = new CometChat.CustomMessage(receiverId, receiverType, customType, customData);\r\n        customMessage.setSender(this.props.loggedInUser);\r\n        customMessage.setReceiver(this.props.type);\r\n        customMessage.setConversationId(conversationId);\r\n        customMessage._composedAt = getUnixTimestamp();\r\n        customMessage._id = ID();\r\n\r\n        this.props.actionGenerated(enums.ACTIONS[\"MESSAGE_COMPOSED\"], [customMessage]);\r\n        CometChat.sendCustomMessage(customMessage).then(message => {\r\n            \r\n            const newMessageObj = { ...message, \"_id\": customMessage._id };\r\n            this.props.actionGenerated(enums.ACTIONS[\"MESSAGE_SENT\"], newMessageObj);\r\n\r\n        }).catch(error => {\r\n\r\n            console.log(\"custom message sending failed with error\", error);\r\n\r\n            const newMessageObj = { ...customMessage, \"error\": error };\r\n            this.props.actionGenerated(enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"], newMessageObj);\r\n        });\r\n\r\n    }\r\n\r\n    startCall = () => {\r\n\r\n        let sessionID = `${this.props.item.guid}`;\r\n        let audioOnly = false;\r\n        let defaultLayout = true;\r\n\r\n        let callSettings = new CometChat.CallSettingsBuilder()\r\n                                .enableDefaultLayout(defaultLayout)\r\n                                .setSessionID(sessionID)\r\n                                .setIsAudioOnlyCall(audioOnly)\r\n                                .setLocalizedStringObject({ \r\n                                    \"SELECT_VIDEO_SOURCE\": Translator.translate(\"SELECT_VIDEO_SOURCE\", this.props.lang),\r\n                                    \"SELECT_INPUT_AUDIO_SOURCE\": Translator.translate(\"SELECT_INPUT_AUDIO_SOURCE\", this.props.lang),\r\n                                    \"SELECT_OUTPUT_AUDIO_SOURCE\": Translator.translate(\"SELECT_OUTPUT_AUDIO_SOURCE\", this.props.lang)\r\n                                }).build();\r\n\r\n        const el = this.callScreenFrame;\r\n        CometChat.startCall(\r\n            callSettings,\r\n            el,\r\n            new CometChat.OngoingCallListener({\r\n                onCallEnded: call => {\r\n                    this.props.actionGenerated(enums.ACTIONS[\"END_DIRECT_CALL\"]);\r\n                },\r\n                onError: error => {\r\n                    console.log(\"Error :\", error);\r\n                }\r\n            })\r\n        );\r\n\r\n        //send custom message only when someone starts a direct call\r\n        if (this.props.joinDirectCall === false) {\r\n            this.sendCustomMessage();\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div css={callScreenWrapperStyle(this.props, keyframes)} className=\"callscreen__wrapper\" ref={el => { this.callScreenFrame = el; }}></div>\r\n        );\r\n    }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatOutgoingDirectCall.defaultProps = {\r\n    lang: Translator.getDefaultLanguage(),\r\n    theme: theme,\r\n    callType: CometChat.CALL_TYPE.VIDEO,\r\n    open: true,\r\n    close: () => {},\r\n    item: {},\r\n    type: \"\",\r\n    joinDirectCall: false\r\n};\r\n\r\nCometChatOutgoingDirectCall.propTypes = {\r\n    lang: PropTypes.string,\r\n    theme: PropTypes.object,\r\n    callType: PropTypes.string,\r\n    open: PropTypes.bool,\r\n    close: PropTypes.func,\r\n    item: PropTypes.object,\r\n    type: PropTypes.string,\r\n    joinDirectCall: PropTypes.bool\r\n}\r\n\r\n\r\nexport default CometChatOutgoingDirectCall;","export default __webpack_public_path__ + \"static/media/incomingmessage.0eb318b7.wav\";","export default __webpack_public_path__ + \"static/media/incomingothermessage.05b45e68.wav\";","export default __webpack_public_path__ + \"static/media/outgoingmessage.b81236d4.wav\";","export default __webpack_public_path__ + \"static/media/incomingcall.a18e6ef0.wav\";","export default __webpack_public_path__ + \"static/media/outgoingcall.193da33e.wav\";","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\n\r\nimport * as enums from \"../../../util/enums.js\";\r\n\r\nimport {\r\n    reactionContainerStyle,\r\n    reactionEmojiStyle\r\n} from \"./style\";\r\n\r\nclass CometChatLiveReactions extends React.PureComponent {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.parentElement = React.createRef();\r\n\r\n        this.counter = 0;\r\n        this.verticalSpeed = 5;\r\n        this.horizontalSpeed = 2;\r\n        this.items = [];\r\n\r\n        this.before = Date.now();\r\n\r\n        const reaction = (props.reaction) ? enums.LIVE_REACTIONS[props.reaction] : enums.LIVE_REACTIONS[\"heart\"];\r\n        const reactionImg = (<img src={require(`${reaction}`)} alt={props.reaction} />);\r\n        this.emojis = Array(6).fill(reactionImg);\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        this.setItems();\r\n        this.requestAnimation();\r\n    }\r\n\r\n    componentWillUnmount() {\r\n\r\n        this.timer = null;\r\n    }\r\n\r\n    setItems = () => {\r\n\r\n        const width = this.parentElement.offsetWidth;\r\n        const height = this.parentElement.offsetHeight;\r\n\r\n        const elements = this.parentElement.querySelectorAll(\".emoji\");\r\n\r\n        for (let i = 0; i < elements.length; i++) {\r\n\r\n            const element = elements[i],\r\n                elementWidth = element.offsetWidth,\r\n                elementHeight = element.offsetHeight;\r\n\r\n            const item = {\r\n                element: element,\r\n                elementHeight: elementHeight,\r\n                elementWidth: elementWidth,\r\n                ySpeed: -this.verticalSpeed,\r\n                omega: 2 * Math.PI * this.horizontalSpeed / (width * 60), //omega= 2Pi*frequency\r\n                random: (Math.random() / 2 + 0.5) * i * 10000, //random time offset\r\n                x: function (time) {\r\n                    return (Math.sin(this.omega * (time + this.random)) + 1) / 2 * (width - elementWidth);\r\n                },\r\n                y: height + (Math.random() + 1) * i * elementHeight,\r\n            }\r\n            \r\n            this.items.push(item);\r\n        }\r\n    }\r\n\r\n    requestAnimation = () => {\r\n        this.timer = setTimeout(this.animate, 1000/60);\r\n    }\r\n\r\n    animate = () => {\r\n\r\n        if (!this.parentElement) {\r\n            return false;\r\n        }\r\n\r\n        const height = this.parentElement.offsetHeight;\r\n        const time = +new Date(); //little trick, gives unix time in ms\r\n\r\n        for (let i = 0; i < this.items.length; i++) {\r\n\r\n            const item = this.items[i];\r\n            \r\n            const transformString = \"translate3d(\" + item.x(time) + \"px, \" + item.y + \"px, 0px)\";\r\n            item.element.style.transform = transformString;\r\n\r\n            item.element.style.visibility = \"visible\";\r\n\r\n            if (item.y <= height) {\r\n                item.element.classList.add(\"fade\");\r\n            }\r\n\r\n            item.y += item.ySpeed;\r\n        }\r\n\r\n        this.requestAnimation();\r\n    }\r\n\r\n    render () {\r\n        \r\n        const emojis = this.emojis.map((emoji, index) => (<span className=\"emoji\" css={reactionEmojiStyle()} key={index}>{emoji}</span>))\r\n        return (\r\n            <div ref={el => this.parentElement = el} css={reactionContainerStyle()}>{emojis}</div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default CometChatLiveReactions;","/* eslint-disable jsx-a11y/img-redundant-alt */\r\nimport React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx, keyframes } from \"@emotion/core\";\r\nimport PropTypes from \"prop-types\";\r\nimport { CometChat } from \"@cometchat-pro/chat\";\r\n\r\nimport \"emoji-mart/css/emoji-mart.css\";\r\n\r\nimport { CometChatSmartReplyPreview, CometChatCreatePoll, CometChatStickerKeyboard } from \"../Extensions\";\r\nimport { CometChatEmojiKeyboard } from \"../\";\r\n\r\nimport { validateWidgetSettings, checkMessageForExtensionsData, ID, getUnixTimestamp } from \"../../../util/common\";\r\nimport * as enums from \"../../../util/enums.js\";\r\n\r\nimport { theme } from \"../../../resources/theme\";\r\nimport Translator from \"../../../resources/localization/translator\";\r\nimport { outgoingMessageAlert } from \"../../../resources/audio/\";\r\n\r\nimport {\r\n  chatComposerStyle,\r\n  editPreviewContainerStyle,\r\n  previewHeadingStyle,\r\n  previewCloseStyle,\r\n  previewTextStyle,\r\n  composerInputStyle,\r\n  inputInnerStyle,\r\n  messageInputStyle,\r\n  inputStickyStyle,\r\n  stickyAttachmentStyle,\r\n  filePickerStyle,\r\n  fileListStyle,\r\n  fileItemStyle,\r\n  stickyAttachButtonStyle,\r\n  stickyButtonStyle,\r\n  emojiButtonStyle,\r\n  sendButtonStyle,\r\n  reactionBtnStyle,\r\n  stickerBtnStyle\r\n} from \"./style\";\r\n\r\nimport roundedPlus from \"./resources/attach.png\";\r\nimport videoIcon from \"./resources/attachvideo.png\";\r\nimport audioIcon from \"./resources/attachaudio.png\";\r\nimport docIcon from \"./resources/attachfile.png\";\r\nimport imageIcon from \"./resources/attachimage.png\";\r\nimport insertEmoticon from \"./resources/insertemoji.png\"\r\nimport sendBlue from \"./resources/sendmessage.png\";\r\nimport pollIcon from \"./resources/createpoll.png\";\r\nimport stickerIcon from \"./resources/insertsticker.png\"\r\nimport closeIcon from \"./resources/close.png\";\r\nimport documentIcon from \"./resources/launchcollaborativedocument.png\";\r\nimport whiteboardIcon from \"./resources/launchcollaborativewhiteboard.png\";\r\n\r\nclass CometChatMessageComposer extends React.PureComponent {\r\n\r\n  constructor(props) {\r\n\r\n    super(props);\r\n  \r\n\t\tthis.imageUploaderRef = React.createRef();\r\n\t\tthis.fileUploaderRef = React.createRef();\r\n\t\tthis.audioUploaderRef = React.createRef();\r\n    this.videoUploaderRef = React.createRef();\r\n    this.messageInputRef = React.createRef();\r\n\r\n    this.isTyping = false;\r\n\r\n    this.state = {\r\n      showFilePicker: false,\r\n      messageInput: \"\",\r\n      messageType: \"\",\r\n      emojiViewer: false,\r\n      createPoll: false,\r\n      messageToBeEdited: \"\",\r\n      replyPreview: null,\r\n      stickerViewer: false,\r\n      messageToReact: \"\",\r\n      shareDocument: false,\r\n      shareWhiteboard: false\r\n    }\r\n\r\n    this.audio = new Audio(outgoingMessageAlert);\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n    if (this.messageInputRef && this.messageInputRef.current) {\r\n      this.messageInputRef.current.focus();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n\r\n    if (prevProps.messageToBeEdited !== this.props.messageToBeEdited) {\r\n\r\n      const messageToBeEdited = this.props.messageToBeEdited;\r\n\r\n      this.setState({ \"messageInput\": messageToBeEdited, \"messageToBeEdited\": messageToBeEdited });\r\n      \r\n      const element = this.messageInputRef.current;\r\n      if (messageToBeEdited) {\r\n\r\n        let messageText = messageToBeEdited.text;\r\n\r\n        //xss extensions data\r\n        const xssData = checkMessageForExtensionsData(messageToBeEdited, \"xss-filter\");\r\n        if (xssData\r\n          && xssData.hasOwnProperty(\"sanitized_text\")\r\n          && xssData.hasOwnProperty(\"hasXSS\")\r\n          && xssData.hasXSS === \"yes\") {\r\n          messageText = xssData.sanitized_text;\r\n        }\r\n        \r\n        element.focus();\r\n        element.textContent = \"\";\r\n        this.pasteHtmlAtCaret(messageText, false);\r\n\r\n      } else {\r\n        element.textContent = \"\";\r\n      }\r\n    }\r\n\r\n    if (prevProps.replyPreview !== this.props.replyPreview) {\r\n      this.setState({ replyPreview: this.props.replyPreview });  \r\n    }\r\n\r\n    const previousMessageStr = JSON.stringify(prevProps.messageToReact);\r\n    const currentMessageStr = JSON.stringify(this.props.messageToReact);\r\n\r\n    if (previousMessageStr !== currentMessageStr) {\r\n      this.setState({ messageToReact: this.props.messageToReact });\r\n    }\r\n\r\n    if (prevProps.item !== this.props.item) {\r\n\r\n      this.messageInputRef.current.textContent = \"\";\r\n      this.setState({ stickerViewer: false, emojiViewer: false, replyPreview: null, messageToBeEdited: \"\", messageInput: \"\" });\r\n\r\n      this.focusOnMessageComposer();\r\n    }\r\n\r\n    if (prevState.messageInput !== this.state.messageInput) {\r\n      this.focusOnMessageComposer();\r\n    }\r\n  }\r\n\r\n  focusOnMessageComposer = () => {\r\n\r\n    if (this.messageInputRef && this.messageInputRef.current) {\r\n      this.messageInputRef.current.focus();\r\n    }\r\n  }\r\n\r\n  playAudio = () => {\r\n\r\n    //if message sound is disabled for chat wigdet in dashboard\r\n    if (validateWidgetSettings(this.props.widgetsettings, \"enable_sound_for_messages\") === false) {\r\n      return false;\r\n    }\r\n\r\n    this.audio.currentTime = 0;\r\n    this.audio.play();\r\n  }\r\n\r\n  pasteHtmlAtCaret(html, selectPastedContent) {\r\n    var sel, range;\r\n    if (window.getSelection) {\r\n      // IE9 and non-IE\r\n      sel = window.getSelection();\r\n      if (this.props.widgetsettings && this.props.hasOwnProperty(\"widgetsettings\")) {\r\n        const parentnode = (this.props.widgetsettings.hasOwnProperty(\"parentNode\")) ? this.props.widgetsettings.parentNode : null;\r\n        if (parentnode) {\r\n          sel = parentnode.querySelector('iframe').contentWindow.getSelection();\r\n        }\r\n      }\r\n      if (sel.getRangeAt && sel.rangeCount) {\r\n        range = sel.getRangeAt(0);\r\n        range.deleteContents();\r\n\r\n        // Range.createContextualFragment() would be useful here but is\r\n        // only relatively recently standardized and is not supported in\r\n        // some browsers (IE9, for one)\r\n        var el = document.createElement(\"div\");\r\n        el.innerText = html;\r\n        var frag = document.createDocumentFragment(), node, lastNode;\r\n        while ( (node = el.firstChild) ) {\r\n          lastNode = frag.appendChild(node);\r\n        }\r\n        var firstNode = frag.firstChild;\r\n        range.insertNode(frag);\r\n        \r\n        // Preserve the selection\r\n        if (lastNode) {\r\n          range = range.cloneRange();\r\n          range.setStartAfter(lastNode);\r\n          if (selectPastedContent) {\r\n            range.setStartBefore(firstNode);\r\n          } else {\r\n            range.collapse(true);\r\n          }\r\n          sel.removeAllRanges();\r\n          sel.addRange(range);\r\n        }\r\n      }\r\n    } else if ( (sel = document.selection) && sel.type !== \"Control\") {\r\n      // IE < 9\r\n      var originalRange = sel.createRange();\r\n      originalRange.collapse(true);\r\n      sel.createRange().pasteHTML(html);\r\n      if (selectPastedContent) {\r\n        range = sel.createRange();\r\n        range.setEndPoint(\"StartToStart\", originalRange);\r\n        range.select();\r\n      }\r\n    }\r\n  }\r\n\r\n  emojiClicked = (emoji, event) => {\r\n\r\n    if (this.state.messageToReact) {\r\n      this.reactToMessages(emoji);\r\n      return;\r\n    }\r\n\r\n    const element = this.messageInputRef.current;\r\n    element.focus();\r\n    this.pasteHtmlAtCaret(emoji.native, false);\r\n    this.setState({\"messageInput\": element.innerText, \"messageType\": \"text\"});\r\n  }\r\n  \r\n  changeHandler = (event) => {\r\n\r\n    this.startTyping();\r\n\r\n    const elem = event.currentTarget;\r\n    let messageInput = elem.textContent.trim();\r\n\r\n    if(!messageInput.length) {\r\n      event.currentTarget.textContent = messageInput;\r\n      //return false;\r\n    }\r\n    \r\n    this.setState({\"messageInput\": elem.innerText, \"messageType\": \"text\"});\r\n  }\r\n\r\n  toggleFilePicker = () => {\r\n\r\n    const currentState = !this.state.showFilePicker;\r\n    this.setState({ showFilePicker: currentState });\r\n  }\r\n\r\n  openFileDialogue = (fileType) => {\r\n\r\n    switch (fileType) {\r\n      case \"image\":\r\n        this.imageUploaderRef.current.click();\r\n        break;\r\n      case \"file\":\r\n          this.fileUploaderRef.current.click();\r\n        break;\r\n      case \"audio\":\r\n          this.audioUploaderRef.current.click();\r\n        break;\r\n      case \"video\":\r\n          this.videoUploaderRef.current.click();\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  onImageChange = (e) => {; \r\n\r\n    if (!this.imageUploaderRef.current.files[\"0\"]) {\r\n      return false;\r\n    }\r\n\r\n    const uploadedFile = this.imageUploaderRef.current.files[\"0\"];\r\n\r\n    var reader = new FileReader(); // Creating reader instance from FileReader() API\r\n    reader.addEventListener(\"load\", (event) => { // Setting up base64 URL on image\r\n\r\n      const newFile = new File([reader.result], uploadedFile.name, uploadedFile);\r\n      this.sendMediaMessage(newFile, CometChat.MESSAGE_TYPE.IMAGE);\r\n\r\n    }, false);\r\n\r\n    reader.readAsArrayBuffer(uploadedFile)  \r\n  }\r\n\r\n  onFileChange = (e) => {\r\n\r\n    if (!this.fileUploaderRef.current.files[\"0\"]) {\r\n      return false;\r\n    }\r\n\r\n    const uploadedFile = this.fileUploaderRef.current.files[\"0\"];\r\n\r\n    var reader = new FileReader(); // Creating reader instance from FileReader() API\r\n    reader.addEventListener(\"load\", (event) => { // Setting up base64 URL on image\r\n\r\n      const newFile = new File([reader.result], uploadedFile.name, uploadedFile);\r\n      this.sendMediaMessage(newFile, CometChat.MESSAGE_TYPE.FILE);\r\n\r\n    }, false);\r\n\r\n    reader.readAsArrayBuffer(uploadedFile); \r\n  }\r\n\r\n  onAudioChange = (e) => {\r\n\r\n    if (!this.audioUploaderRef.current.files[\"0\"]) {\r\n      return false;\r\n    }\r\n\r\n    const uploadedFile = this.audioUploaderRef.current.files[\"0\"];\r\n\r\n    var reader = new FileReader(); // Creating reader instance from FileReader() API\r\n    reader.addEventListener(\"load\", () => { // Setting up base64 URL on image\r\n\r\n      const newFile = new File([reader.result], uploadedFile.name, uploadedFile);\r\n      this.sendMediaMessage(newFile, CometChat.MESSAGE_TYPE.AUDIO);\r\n\r\n    }, false);\r\n\r\n    reader.readAsArrayBuffer(uploadedFile); \r\n  }\r\n\r\n  onVideoChange = (e) => {\r\n \r\n    if (!this.videoUploaderRef.current.files[\"0\"]) {\r\n      return false;\r\n    }\r\n\r\n    const uploadedFile = this.videoUploaderRef.current.files[\"0\"];\r\n\r\n    var reader = new FileReader(); // Creating reader instance from FileReader() API\r\n    reader.addEventListener(\"load\", () => { // Setting up base64 URL on image\r\n\r\n      const newFile = new File([reader.result], uploadedFile.name, uploadedFile);\r\n      this.sendMediaMessage(newFile, CometChat.MESSAGE_TYPE.VIDEO);\r\n\r\n    }, false);\r\n\r\n    reader.readAsArrayBuffer(uploadedFile);  \r\n  }\r\n\r\n  getReceiverDetails = () => {\r\n\r\n    let receiverId;\r\n    let receiverType;\r\n\r\n    if (this.props.type === CometChat.RECEIVER_TYPE.USER) {\r\n\r\n      receiverId = this.props.item.uid;\r\n      receiverType = CometChat.RECEIVER_TYPE.USER;\r\n\r\n    } else if (this.props.type === CometChat.RECEIVER_TYPE.GROUP) {\r\n\r\n      receiverId = this.props.item.guid;\r\n      receiverType = CometChat.RECEIVER_TYPE.GROUP;\r\n    }\r\n\r\n    return { \"receiverId\": receiverId, \"receiverType\": receiverType };\r\n  }\r\n\r\n  getConversationId = () => {\r\n\r\n    let conversationId = null;\r\n    \r\n    if (this.props.type === CometChat.RECEIVER_TYPE.USER) {\r\n\r\n      const users = [this.props.loggedInUser.uid, this.props.item.uid];\r\n      conversationId = users.sort().join(\"_user_\");\r\n      \r\n    } else if (this.props.type === CometChat.RECEIVER_TYPE.GROUP) {\r\n      conversationId = `group_${this.props.item.guid}`\r\n    }\r\n\r\n    return conversationId;\r\n  }\r\n\r\n  sendMediaMessage = (messageInput, messageType) => {\r\n\r\n    this.toggleFilePicker();\r\n    this.endTyping(null, null);\r\n    \r\n    const { receiverId, receiverType } = this.getReceiverDetails();\r\n    const conversationId = this.getConversationId();\r\n\r\n    let mediaMessage = new CometChat.MediaMessage(receiverId, messageInput, messageType, receiverType);\r\n    if(this.props.parentMessageId) {\r\n      mediaMessage.setParentMessageId(this.props.parentMessageId);\r\n    }\r\n\r\n    mediaMessage.setSender(this.props.loggedInUser);\r\n    mediaMessage.setReceiver(this.props.type);\r\n    mediaMessage.setType(messageType);\r\n    mediaMessage.setConversationId(conversationId);\r\n    mediaMessage.setData({\r\n      type: messageType,\r\n      category: CometChat.CATEGORY_MESSAGE,\r\n      name: messageInput[\"name\"],\r\n      file: messageInput\r\n    });\r\n    mediaMessage._composedAt = getUnixTimestamp();\r\n    mediaMessage._id = ID();\r\n\r\n    this.playAudio();\r\n    this.props.actionGenerated(enums.ACTIONS[\"MESSAGE_COMPOSED\"], [mediaMessage]);\r\n    \r\n    CometChat.sendMessage(mediaMessage).then(message => {\r\n\r\n      const newMessageObj = { ...message, \"_id\": mediaMessage._id };\r\n      this.props.actionGenerated(enums.ACTIONS[\"MESSAGE_SENT\"], newMessageObj);\r\n\r\n    }).catch(error => {\r\n\r\n      console.log(\"Message sending failed with error:\", error);\r\n\r\n      const newMessageObj = { ...mediaMessage, \"error\": error };\r\n      this.props.actionGenerated(enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"], newMessageObj);\r\n    });\r\n  }\r\n\r\n  sendMessageOnEnter = (event) => {\r\n\r\n    if(event.keyCode === 13 && !event.shiftKey) {\r\n\r\n      event.preventDefault();\r\n      this.sendTextMessage();\r\n      return true;\r\n    }\r\n  }\r\n\r\n  sendTextMessage = () => {\r\n\r\n    if(this.state.emojiViewer) {\r\n      this.setState({ emojiViewer: false});\r\n    }\r\n\r\n    if(!this.state.messageInput.trim().length) {\r\n      return false;\r\n    }\r\n\r\n    if (this.state.messageToBeEdited) {\r\n      this.editMessage();\r\n      return false;\r\n    }\r\n\r\n    this.endTyping(null, null);\r\n    \r\n    let { receiverId, receiverType } = this.getReceiverDetails();\r\n    let messageInput = this.state.messageInput.trim();\r\n\r\n    const conversationId = this.getConversationId();\r\n\r\n    let textMessage = new CometChat.TextMessage(receiverId, messageInput, receiverType);\r\n    if(this.props.parentMessageId) {\r\n      textMessage.setParentMessageId(this.props.parentMessageId);\r\n    }\r\n    textMessage.setSender(this.props.loggedInUser);\r\n    textMessage.setReceiver(this.props.type);\r\n    textMessage.setText(messageInput);\r\n    textMessage.setConversationId(conversationId);\r\n    textMessage._composedAt = getUnixTimestamp();\r\n    textMessage._id = ID();\r\n\r\n    this.props.actionGenerated(enums.ACTIONS[\"MESSAGE_COMPOSED\"], [textMessage]);\r\n    this.setState({ messageInput: \"\", replyPreview: false });\r\n    \r\n    this.messageInputRef.current.textContent = \"\";\r\n    this.playAudio();\r\n    \r\n    CometChat.sendMessage(textMessage).then(message => {\r\n\r\n      const newMessageObj = { ...message, \"_id\": textMessage._id };\r\n      this.props.actionGenerated(enums.ACTIONS[\"MESSAGE_SENT\"], newMessageObj);\r\n\r\n    }).catch(error => {\r\n\r\n      console.log(\"Message sending failed with error:\", error);\r\n\r\n      const newMessageObj = { ...textMessage, \"error\": error };\r\n      this.props.actionGenerated(enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"], newMessageObj);\r\n\r\n    });\r\n  }\r\n\r\n  editMessage = () => {\r\n\r\n    this.endTyping(null, null);\r\n\r\n    const messageToBeEdited = this.props.messageToBeEdited;\r\n\r\n    let { receiverId, receiverType } = this.getReceiverDetails();\r\n    let messageText = this.state.messageInput.trim();\r\n    let textMessage = new CometChat.TextMessage(receiverId, messageText, receiverType);\r\n    textMessage.setId(messageToBeEdited.id);\r\n\r\n    const newMessage = Object.assign({}, textMessage, { messageFrom: messageToBeEdited.messageFrom })\r\n    this.props.actionGenerated(\"messageEdited\", newMessage);\r\n\r\n    this.setState({ messageInput: \"\" });\r\n    this.messageInputRef.current.textContent = \"\";\r\n    this.playAudio();\r\n\r\n    this.closeEditPreview();\r\n\r\n    CometChat.editMessage(textMessage).then(message => {\r\n\r\n      this.props.actionGenerated(\"messageEdited\", { ...message });\r\n\r\n    }).catch(error => {\r\n      console.log(\"Message editing failed with error:\", error);\r\n    });\r\n  }\r\n\r\n  closeEditPreview = () => {\r\n    this.props.actionGenerated(\"clearEditPreview\");\r\n  }\r\n\r\n  startTyping = (timer, metadata) => {\r\n\r\n    let typingInterval = timer || 5000;\r\n    \r\n    //if typing indicator is disabled for chat wigdet in dashboard\r\n    if (validateWidgetSettings(this.props.widgetsettings, \"show_typing_indicators\") === false) {\r\n      return false;\r\n    }\r\n    \r\n    if(this.isTyping) {\r\n      return false;\r\n    }\r\n\r\n    let { receiverId, receiverType } = this.getReceiverDetails();\r\n    let typingMetadata = metadata || undefined;\r\n\r\n    let typingNotification = new CometChat.TypingIndicator(receiverId, receiverType, typingMetadata);\r\n    CometChat.startTyping(typingNotification);\r\n    \r\n    this.isTyping = setTimeout(() => {\r\n\r\n      this.endTyping(null, null);\r\n      \r\n    }, typingInterval);\r\n  }\r\n\r\n  endTyping = (event, metadata) => {\r\n\r\n    //fixing synthetic issue\r\n    if (event) {\r\n      event.persist();\r\n    }\r\n\r\n    //if typing indicator is disabled for chat wigdet in dashboard\r\n    if (validateWidgetSettings(this.props.widgetsettings, \"show_typing_indicators\") === false) {\r\n      return false;\r\n    }\r\n\r\n    let { receiverId, receiverType } = this.getReceiverDetails();\r\n\r\n    let typingMetadata = metadata || undefined;\r\n\r\n    let typingNotification = new CometChat.TypingIndicator(receiverId, receiverType, typingMetadata);\r\n    CometChat.endTyping(typingNotification);\r\n\r\n    clearTimeout(this.isTyping);\r\n    this.isTyping = null;\r\n  }\r\n\r\n  toggleStickerPicker = () => {\r\n\r\n    const stickerViewer = this.state.stickerViewer;\r\n    this.setState({ stickerViewer: !stickerViewer, emojiViewer: false })\r\n  }\r\n\r\n  toggleEmojiPicker = () => {\r\n\r\n    const emojiViewer = this.state.emojiViewer;\r\n    this.setState({ emojiViewer: !emojiViewer, stickerViewer: false});\r\n  }\r\n\r\n  toggleCreatePoll = () => {\r\n\r\n    const createPoll = this.state.createPoll;\r\n    this.setState({ createPoll: !createPoll });\r\n  }\r\n\r\n  toggleCollaborativeDocument = () => {\r\n\r\n    const { receiverId, receiverType } = this.getReceiverDetails();\r\n    \r\n    CometChat.callExtension(\"document\", \"POST\", \"v1/create\", {\r\n      \"receiver\": receiverId,\r\n      \"receiverType\": receiverType\r\n    }).then(response => {\r\n      // Response with document url\r\n    }).catch(error => {\r\n      // Some error occured\r\n    });\r\n  }\r\n\r\n  toggleCollaborativeBoard = () => {\r\n\r\n    const { receiverId, receiverType } = this.getReceiverDetails();\r\n\r\n    CometChat.callExtension(\"whiteboard\", \"POST\", \"v1/create\", {\r\n      \"receiver\": receiverId,\r\n      \"receiverType\": receiverType,\r\n    }).then(response => {\r\n      // Response with board_url\r\n    }).catch(error => {\r\n      // Some error occured\r\n    });\r\n  }\r\n\r\n  closeCreatePoll = () => {\r\n\r\n    this.toggleCreatePoll();\r\n    this.toggleFilePicker();\r\n  }\r\n\r\n  actionHandler = (action, message) => {\r\n\r\n    switch(action) {\r\n      \r\n      case enums.ACTIONS[\"POLL_CREATED\"]:\r\n        this.toggleCreatePoll();\r\n        this.toggleFilePicker();\r\n      break;\r\n      case \"sendSticker\":\r\n        this.sendSticker(message);\r\n      break;\r\n      case \"closeSticker\":\r\n        this.toggleStickerPicker();\r\n        break;\r\n      default:\r\n      break;\r\n    }\r\n  }\r\n\r\n  sendSticker = (stickerMessage) => {\r\n\r\n    const { receiverId, receiverType } = this.getReceiverDetails();\r\n\r\n    const customData = { \"sticker_url\": stickerMessage.stickerUrl, \"sticker_name\": stickerMessage.stickerName };\r\n    const customType = enums.CUSTOM_TYPE_STICKER;\r\n\r\n    const conversationId = this.getConversationId();\r\n\r\n    const customMessage = new CometChat.CustomMessage(receiverId, receiverType, customType, customData);\r\n    if (this.props.parentMessageId) {\r\n      customMessage.setParentMessageId(this.props.parentMessageId);\r\n    }\r\n    customMessage.setSender(this.props.loggedInUser);\r\n    customMessage.setReceiver(this.props.type);\r\n    customMessage.setConversationId(conversationId);\r\n    customMessage._composedAt = getUnixTimestamp();\r\n    customMessage._id = ID();\r\n\r\n    this.props.actionGenerated(enums.ACTIONS[\"MESSAGE_COMPOSED\"], [customMessage]);\r\n\r\n    this.playAudio();\r\n\r\n    CometChat.sendCustomMessage(customMessage).then(message => {\r\n\r\n      const newMessageObj = { ...message, \"_id\": customMessage._id };\r\n      this.props.actionGenerated(enums.ACTIONS[\"MESSAGE_SENT\"], newMessageObj);\r\n\r\n    }).catch(error => {\r\n\r\n      console.log(\"custom message sending failed with error\", error);\r\n\r\n      const newMessageObj = { ...customMessage, \"error\": error };\r\n      this.props.actionGenerated(enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"], newMessageObj);\r\n\r\n    });\r\n  }\r\n\r\n  sendReplyMessage = (messageInput) => {\r\n\r\n    let { receiverId, receiverType } = this.getReceiverDetails();\r\n\r\n    const conversationId = this.getConversationId();\r\n\r\n    let textMessage = new CometChat.TextMessage(receiverId, messageInput, receiverType);\r\n    if (this.props.parentMessageId) {\r\n      textMessage.setParentMessageId(this.props.parentMessageId);\r\n    }\r\n    textMessage.setSender(this.props.loggedInUser);\r\n    textMessage.setReceiver(this.props.type);\r\n    textMessage.setConversationId(conversationId);\r\n    textMessage._composedAt = getUnixTimestamp();\r\n    textMessage._id = ID();\r\n\r\n    this.props.actionGenerated(enums.ACTIONS[\"MESSAGE_COMPOSED\"], [textMessage]);\r\n\r\n    this.playAudio();\r\n    this.setState({ replyPreview: null })\r\n\r\n    CometChat.sendMessage(textMessage).then(message => {\r\n\r\n      const newMessageObj = { ...message, \"_id\": textMessage._id };\r\n      this.props.actionGenerated(enums.ACTIONS[\"MESSAGE_SENT\"], newMessageObj);\r\n\r\n    }).catch(error => {\r\n\r\n      console.log(\"Message sending failed with error:\", error);\r\n      const newMessageObj = { ...textMessage, \"error\": error };\r\n      this.props.actionGenerated(enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"], newMessageObj);\r\n\r\n    });\r\n  }\r\n\r\n  clearReplyPreview = () => {\r\n    this.setState({replyPreview: null})\r\n  }\r\n\r\n  sendReaction = (event) => {\r\n\r\n    const typingInterval = 1000;\r\n\r\n    const typingMetadata = { \"type\": enums.LIVE_REACTION_KEY, \"reaction\": this.props.reaction };\r\n\r\n    this.startTyping(typingInterval, typingMetadata);\r\n    this.props.actionGenerated(\"sendReaction\");\r\n\r\n    event.persist();\r\n\r\n    setTimeout(() => {\r\n\r\n      this.endTyping(null, typingMetadata);\r\n      this.props.actionGenerated(\"stopReaction\");\r\n\r\n    }, typingInterval);\r\n  }\r\n\r\n  reactToMessages = (emoji) => {\r\n\r\n    //const message = this.state.messageToReact;\r\n    CometChat.callExtension(\"reactions\", \"POST\", \"v1/react\", {\r\n      msgId: this.state.messageToReact.id,\r\n      emoji: emoji.colons,\r\n    }).then(response => {\r\n\r\n      if (response.hasOwnProperty(\"success\") && response[\"success\"] === true) {\r\n        this.toggleEmojiPicker();\r\n      }\r\n\r\n    }).catch(error => {\r\n      // Some error occured\r\n    });\r\n\r\n  }\r\n\r\n  render() {\r\n\r\n    let liveReactionBtn = null;\r\n    const liveReactionText = Translator.translate(\"LIVE_REACTION\", this.props.lang);\r\n    if (enums.LIVE_REACTIONS.hasOwnProperty(this.props.reaction)) {\r\n\r\n      const reactionName = this.props.reaction;\r\n      const imgSrc = enums.LIVE_REACTIONS[reactionName];\r\n      liveReactionBtn = (\r\n        <div title={liveReactionText} css={reactionBtnStyle(imgSrc)} className=\"button__reactions\" onClick={this.sendReaction}>\r\n          <img src={require(`${imgSrc}`)} alt={reactionName} />\r\n        </div>\r\n      );\r\n    }\r\n     \r\n    let disabledState = false;\r\n    if(this.props.item.blockedByMe) {\r\n      disabledState = true;\r\n    }\r\n\r\n    const docText = Translator.translate(\"ATTACH_FILE\", this.props.lang);\r\n    let docs = (\r\n      <div \r\n      title={docText}\r\n      css={fileItemStyle()} \r\n      className=\"filelist__item item__file\" \r\n      onClick={() => { this.openFileDialogue(\"file\") }}>\r\n        <img src={docIcon} alt={docText} />\r\n        <input onChange={this.onFileChange} type=\"file\" id=\"file\" ref={this.fileUploaderRef} />\r\n      </div>\r\n    );\r\n\r\n    const videoText = Translator.translate(\"ATTACH_VIDEO\", this.props.lang);\r\n    const audioText = Translator.translate(\"ATTACH_AUDIO\", this.props.lang);\r\n    const imageText = Translator.translate(\"ATTACH_IMAGE\", this.props.lang);\r\n    let avp = (\r\n      <React.Fragment>\r\n        <div title={videoText} css={fileItemStyle()} className=\"filelist__item item__video\" onClick={() => { this.openFileDialogue(\"video\") }}>\r\n          <img src={videoIcon} alt={videoText} />\r\n          <input onChange={this.onVideoChange} accept=\"video/*\" type=\"file\" ref={this.videoUploaderRef} />\r\n        </div>\r\n        <div title={audioText} css={fileItemStyle()} className=\"filelist__item item__audio\" onClick={() => { this.openFileDialogue(\"audio\") }}>\r\n          <img src={audioIcon} alt={audioText} />\r\n          <input onChange={this.onAudioChange} accept=\"audio/*\" type=\"file\" ref={this.audioUploaderRef} />\r\n        </div>\r\n        <div title={imageText} css={fileItemStyle()} className=\"filelist__item item__image\" onClick={() => { this.openFileDialogue(\"image\") }}>\r\n          <img src={imageIcon} alt={imageText} />\r\n          <input onChange={this.onImageChange} accept=\"image/*\" type=\"file\" ref={this.imageUploaderRef} />\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n\r\n    const pollText = Translator.translate(\"CREATE_POLL\", this.props.lang);\r\n    let createPollBtn = (\r\n      <div\r\n      title={pollText}\r\n      css={fileItemStyle()}\r\n      className=\"filelist__item item__poll\"\r\n      onClick={this.toggleCreatePoll}>\r\n        <img src={pollIcon} alt={pollText} />\r\n      </div>\r\n    );\r\n\r\n    const collaborativeDocText = Translator.translate(\"COLLABORATE_USING_DOCUMENT\", this.props.lang);\r\n    let collaborativeDocBtn = (\r\n      <div\r\n      title={collaborativeDocText}\r\n      css={fileItemStyle()}\r\n      className=\"filelist__item item__document\"\r\n      onClick={this.toggleCollaborativeDocument}>\r\n        <img src={documentIcon} alt={collaborativeDocText} />\r\n      </div>\r\n    );\r\n\r\n    const collaborativeBoardText = Translator.translate(\"COLLABORATE_USING_WHITEBOARD\", this.props.lang);\r\n    let collaborativeBoardBtn = (\r\n      <div\r\n      title={collaborativeBoardText}\r\n      css={fileItemStyle()}\r\n      className=\"filelist__item item__whiteboard\"\r\n      onClick={this.toggleCollaborativeBoard}>\r\n        <img src={whiteboardIcon} alt={collaborativeBoardText} />\r\n      </div>\r\n    );\r\n\r\n    const emojiText = Translator.translate(\"EMOJI\", this.props.lang);\r\n    let emojiBtn = (\r\n      <div \r\n      title={emojiText}\r\n      css={emojiButtonStyle()}\r\n      className=\"button__emoji\" \r\n      onClick={() => {\r\n      this.toggleEmojiPicker();\r\n      this.setState({ messageToReact: \"\"  });}}>\r\n        <img src={insertEmoticon} alt={emojiText} />\r\n      </div>\r\n    );\r\n\r\n    const StickerText = Translator.translate(\"STICKER\", this.props.lang);\r\n    let stickerBtn = (\r\n      <div\r\n      title={StickerText}\r\n      css={stickerBtnStyle()}\r\n      className=\"button__sticker\"\r\n      onClick={this.toggleStickerPicker} > <img src={stickerIcon} alt={StickerText} /></div>\r\n    );\r\n\r\n    const sendMessageText = Translator.translate(\"SEND_MESSAGE\", this.props.lang);\r\n    let sendBtn = (\r\n      <div title={sendMessageText} css={sendButtonStyle()} className=\"button__send\" onClick={this.sendTextMessage}>\r\n        <img src={sendBlue} alt={sendMessageText} />\r\n      </div>\r\n    );\r\n\r\n    //if photos, videos upload are disabled for chat widget in dashboard\r\n    if (validateWidgetSettings(this.props.widgetsettings, \"send_photos_videos\") === false) {\r\n      avp = null;\r\n    }\r\n\r\n    //if files upload are disabled for chat widget in dashboard\r\n    if (validateWidgetSettings(this.props.widgetsettings, \"send_files\") === false) {\r\n      docs = null;\r\n    }\r\n\r\n    //if polls are disabled for chat widget in dashboard\r\n    if (validateWidgetSettings(this.props.widgetsettings, \"allow_creating_polls\") === false || this.props.parentMessageId) {\r\n      createPollBtn = null;\r\n    }\r\n\r\n    //if collaborative_document are disabled for chat widget in dashboard\r\n    if (validateWidgetSettings(this.props.widgetsettings, \"enable_collaborative_document\") === false || this.props.parentMessageId) {\r\n      collaborativeDocBtn = null;\r\n    }\r\n\r\n    //if collaborative_document are disabled for chat widget in dashboard\r\n    if (validateWidgetSettings(this.props.widgetsettings, \"enable_collaborative_whiteboard\") === false || this.props.parentMessageId) {\r\n      collaborativeBoardBtn = null;\r\n    }\r\n\r\n    //if emojis are disabled for chat widget in dashboard\r\n    if (validateWidgetSettings(this.props.widgetsettings, \"send_emojis\") === false) {\r\n      emojiBtn = null;\r\n    }\r\n\r\n    //if live reactions is disabled for chat widget in dashboard\r\n    if (validateWidgetSettings(this.props.widgetsettings, \"share_live_reactions\") === false\r\n    || this.state.messageInput.length) {\r\n      liveReactionBtn = null;\r\n    }\r\n\r\n    //if stickers is disabled for chat widget in dashboard\r\n    if (validateWidgetSettings(this.props.widgetsettings, \"show_stickers\") === false) {\r\n      stickerBtn = null;\r\n    }\r\n\r\n    if (!this.state.messageInput.length) {\r\n      sendBtn = null;\r\n    }\r\n\r\n    const attachText = Translator.translate(\"ATTACH\", this.props.lang);\r\n    let attach = (\r\n      <div css={stickyAttachmentStyle()} className=\"input__sticky__attachment\">\r\n        <div css={stickyAttachButtonStyle()} className=\"attachment__icon\" onClick={this.toggleFilePicker} title={attachText}>\r\n          <img src={roundedPlus} alt={attachText} />\r\n        </div>\r\n        <div css={filePickerStyle(this.state)} className=\"attachment__filepicker\" dir={Translator.getDirection(this.props.lang)}>\r\n          <div css={fileListStyle()} className=\"filepicker__filelist\">\r\n            {avp}\r\n            {docs}\r\n            {createPollBtn}\r\n            {collaborativeDocBtn}\r\n            {collaborativeBoardBtn}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n\r\n    if (avp === null && docs === null && createPollBtn === null && collaborativeDocBtn === null && collaborativeBoardBtn === null) {\r\n      attach = null;\r\n    }\r\n\r\n    let createPoll = null; \r\n    if (this.state.createPoll) {\r\n      createPoll = (\r\n        <CometChatCreatePoll\r\n        theme={this.props.theme}\r\n        item={this.props.item}\r\n        type={this.props.type}\r\n        open={this.state.createPoll}\r\n        close={this.closeCreatePoll}\r\n        lang={this.props.lang}\r\n        widgetsettings={this.props.widgetsettings}\r\n        actionGenerated={this.actionHandler} />\r\n      );\r\n    }\r\n\r\n    let editPreview = null;\r\n    if (this.state.messageToBeEdited) {\r\n\r\n      let messageText = this.state.messageToBeEdited.text;\r\n\r\n      //xss extensions data\r\n      const xssData = checkMessageForExtensionsData(this.state.messageToBeEdited, \"xss-filter\");\r\n      if (xssData\r\n        && xssData.hasOwnProperty(\"sanitized_text\")\r\n        && xssData.hasOwnProperty(\"hasXSS\")\r\n        && xssData.hasXSS === \"yes\") {\r\n        messageText = xssData.sanitized_text;\r\n      }\r\n\r\n      //datamasking extensions data\r\n      const maskedData = checkMessageForExtensionsData(this.state.messageToBeEdited, \"data-masking\");\r\n      if (maskedData\r\n        && maskedData.hasOwnProperty(\"data\")\r\n        && maskedData.data.hasOwnProperty(\"sensitive_data\")\r\n        && maskedData.data.hasOwnProperty(\"message_masked\")\r\n        && maskedData.data.sensitive_data === \"yes\") {\r\n        messageText = maskedData.data.message_masked;\r\n      }\r\n\r\n      //profanity extensions data\r\n      const profaneData = checkMessageForExtensionsData(this.state.messageToBeEdited, \"profanity-filter\");\r\n      if (profaneData\r\n        && profaneData.hasOwnProperty(\"profanity\")\r\n        && profaneData.hasOwnProperty(\"message_clean\")\r\n        && profaneData.profanity === \"yes\") {\r\n        messageText = profaneData.message_clean;\r\n      }\r\n\r\n      editPreview = (\r\n        <div css={editPreviewContainerStyle(this.props, keyframes)}>\r\n          <div css={previewHeadingStyle()}>\r\n            <div css={previewTextStyle()}>{Translator.translate(\"EDIT_MESSAGE\", this.props.lang)}</div>\r\n            <span css={previewCloseStyle(closeIcon)} onClick={this.closeEditPreview}></span>\r\n          </div>\r\n          <div>{messageText}</div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    let smartReplyPreview = null;\r\n    if(this.state.replyPreview) {\r\n\r\n      const message = this.state.replyPreview;\r\n\r\n      const smartReplyData = checkMessageForExtensionsData(message, \"smart-reply\");\r\n      if (smartReplyData && smartReplyData.hasOwnProperty(\"error\") === false) {\r\n\r\n        const options = [smartReplyData[\"reply_positive\"], smartReplyData[\"reply_neutral\"], smartReplyData[\"reply_negative\"]];\r\n        smartReplyPreview = (\r\n          <CometChatSmartReplyPreview {...this.props} options={options} clicked={this.sendReplyMessage} close={this.clearReplyPreview} />\r\n        );\r\n\r\n      }\r\n    }\r\n\r\n    let stickerViewer = null;\r\n    if (this.state.stickerViewer) {\r\n      stickerViewer = (\r\n        <CometChatStickerKeyboard \r\n        theme={this.props.theme}\r\n        item={this.props.item}\r\n        type={this.props.type}\r\n        lang={this.props.lang}\r\n        widgetsettings={this.props.widgetsettings}\r\n        actionGenerated={this.actionHandler} />\r\n      );\r\n    }\r\n\r\n    let emojiViewer = null;\r\n    if (this.state.emojiViewer) {\r\n      emojiViewer = (\r\n        <CometChatEmojiKeyboard lang={this.props.lang} emojiClicked={this.emojiClicked} />\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div css={chatComposerStyle(this.props)} className=\"chat__composer\">\r\n        {editPreview}\r\n        {smartReplyPreview}\r\n        {stickerViewer}\r\n        {emojiViewer}\r\n        <div css={composerInputStyle()} className=\"composer__input\">\r\n          <div tabIndex=\"-1\" css={inputInnerStyle(this.props, this.state)} className=\"input__inner\">\r\n            <div\r\n            css={messageInputStyle(disabledState)}\r\n            className=\"input__message-input\"\r\n            contentEditable=\"true\"\r\n            placeholder={Translator.translate(\"ENTER_YOUR_MESSAGE_HERE\", this.props.lang)}\r\n            dir={Translator.getDirection(this.props.lang)}\r\n            onInput={this.changeHandler}\r\n            onBlur={event => this.endTyping(event)}\r\n            onKeyDown={this.sendMessageOnEnter}\r\n            ref={this.messageInputRef}></div>\r\n            <div css={inputStickyStyle(this.props, disabledState)} className=\"input__sticky\">\r\n              {attach}\r\n              <div css={stickyButtonStyle(this.props, this.state)} className=\"input__sticky__buttons\">\r\n                {stickerBtn}\r\n                {emojiBtn}\r\n                {sendBtn}\r\n                {liveReactionBtn}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {createPoll}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// Specifies the default values for props:\r\nCometChatMessageComposer.defaultProps = {\r\n  lang: Translator.getDefaultLanguage(),\r\n  theme: theme\r\n};\r\n\r\nCometChatMessageComposer.propTypes = {\r\n  lang: PropTypes.string,\r\n  theme: PropTypes.object\r\n}\r\n\r\nexport default CometChatMessageComposer;\r\n","import * as enums from \"../../util/enums.js\";\r\n\r\nimport translationAR from \"./locales/ar/translation.json\";\r\nimport translationDE from \"./locales/de/translation.json\";\r\nimport translationEN from \"./locales/en/translation.json\";\r\nimport translationES from \"./locales/es/translation.json\";\r\nimport translationFR from \"./locales/fr/translation.json\";\r\nimport translationHI from \"./locales/hi/translation.json\";\r\nimport translationMS from \"./locales/ms/translation.json\";\r\nimport translationPT from \"./locales/pt/translation.json\";\r\nimport translationRU from \"./locales/ru/translation.json\";\r\nimport translationZH from \"./locales/zh/translation.json\";\r\nimport translationZHTW from \"./locales/zh-tw/translation.json\";\r\n\r\n// the translations\r\nconst translations = {\r\n    \"ar\": translationAR,\r\n    \"de\": translationDE,\r\n    \"en\": translationEN,\r\n    \"es\": translationES,\r\n    \"fr\": translationFR,\r\n    \"hi\": translationHI,\r\n    \"ms\": translationMS,\r\n    \"pt\": translationPT,\r\n    \"ru\": translationRU,\r\n    \"zh\": translationZH,\r\n    \"zh-tw\": translationZHTW\r\n};\r\n\r\nwindow.addEventListener('languagechange', () => {\r\n    let language = Translator.getBrowserLanguage().toLowerCase();\r\n    Translator.setLanguage(language);\r\n});\r\n\r\nclass Translator {\r\n\r\n    static key = enums[\"LOCALE_KEY\"];\r\n    static rtlLanguages = [\"ar\"];\r\n    static defaultLanguage = \"en\";\r\n\r\n    static getLanguage = () => {\r\n\r\n        return localStorage.getItem(this.key);\r\n    }\r\n\r\n    static setLanguage = (language) => {\r\n\r\n        const item = this.key;\r\n        localStorage.setItem(item, language);\r\n    }\r\n\r\n    static getBrowserLanguage = () => ((navigator.languages && navigator.languages[0]) || navigator.language || navigator.userLanguage);\r\n\r\n    static getDefaultLanguage = () => {\r\n\r\n        //get the language from localstorage\r\n        const savedLanguage = this.getLanguage();\r\n\r\n        //get the language set in the browser\r\n        const browserLanguageCode = Translator.getBrowserLanguage().toLowerCase();\r\n        let browserLanguage = browserLanguageCode;\r\n\r\n        //check if the language set in the browser has hyphen(-), if yes split and take the first element of the array\r\n        if (browserLanguageCode !== \"zh-tw\" && browserLanguageCode.indexOf(\"-\") !== -1) {\r\n\r\n            const browserLanguageArray = browserLanguageCode.split(\"-\");\r\n            browserLanguage = browserLanguageArray[0];\r\n        }\r\n\r\n        //if there is language set in localstorage and it is different from browser language, update local storage and return the language code\r\n        if (savedLanguage) {\r\n\r\n            if (savedLanguage !== browserLanguage) {\r\n\r\n                this.setLanguage(browserLanguage);\r\n                \r\n                //if the translations are not available, default to en\r\n                return (translations.hasOwnProperty(browserLanguage)) ? browserLanguage : this.defaultLanguage;\r\n                \r\n            } else {\r\n\r\n                //if the translations are not available, default to en\r\n                return (translations.hasOwnProperty(browserLanguage)) ? browserLanguage : this.defaultLanguage;\r\n            }\r\n\r\n        } else {\r\n\r\n            this.setLanguage(browserLanguage);\r\n\r\n            //if the translations are not available, default to en\r\n            return (translations.hasOwnProperty(browserLanguage)) ? browserLanguage : this.defaultLanguage;\r\n        }\r\n    }\r\n\r\n    static getDirection(language) {\r\n        return this.rtlLanguages.includes(language) ? \"rtl\" : \"ltr\";\r\n    }\r\n\r\n    static translate(str, language) {\r\n\r\n        if (translations.hasOwnProperty(language)) {\r\n\r\n            const languageDb = translations[language];\r\n            if (languageDb.hasOwnProperty(str)) {\r\n                return languageDb[str];\r\n            }\r\n\r\n            return str;\r\n\r\n        } else {\r\n\r\n            const languageDb = translations[this.defaultLanguage];\r\n            if (languageDb.hasOwnProperty(str)) {\r\n                return languageDb[str];\r\n            }\r\n\r\n            return str;\r\n        }\r\n    }\r\n}\r\n\r\nexport default Translator;","export const reactionContainerStyle = () => {\r\n\r\n    return {\r\n        width: \"100px\",\r\n        height: \"calc(100% - 120px)\",\r\n        overflow: \"hidden\",\r\n        position: \"absolute\",\r\n        top: \"70px\",\r\n        right: \"0\",\r\n    }\r\n}\r\n\r\nexport const reactionEmojiStyle = () => {\r\n\r\n    return {\r\n        position: \"absolute\",\r\n        color: \"#DD4144\",\r\n        visibility: \"hidden\",\r\n        width: \"20px\",\r\n        height: \"20px\",\r\n        opacity: \"1\",\r\n        transition: \"opacity 3s\",\r\n        \"&.fade\": {\r\n            opacity: \"0\"\r\n        }\r\n    }\r\n}","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFKADAAQAAAABAAAAFAAAAACy3fD9AAACkklEQVQ4EY2VS2sUQRDHncdCzqKyq/dF0CDIxmPCIhow4Ouwzw+ggggmiCQSzeLrIBgRIX6BfV5WQQ0iusTczKJI8LBzdx+i3o3jrr/a9IzjpCU21FR1Pf5d3V3VY+zQjEajYXe73dP9fv+MYRhjuMSUWwf+DqrHYrGnyWTSVXqfGb6khHK5PDUYDO5DccC+wt/CP4sZeR/yOHwX0xY0nc/nX4jNGz4gTgZgC/DrGNcty5ozTXM5lUr98pyF12o1y3XdE4h3oAMsUMhmswWxyfABS6VSQcAAWYpGo5d029kM2fw2m81Iq9V6yOw8MQse6BBQtsl5PcP4mC1cCAZuJxeLxSWyPAfoVCaTWTbkAjqdzicCN+Lx+OFEIvEzDELQJAEuWbwO2yRTx3Heo7e5qFETsFNsVS7gmg5MALDN4nM1DCZzFTOHfX+v1ztpopPS+M4lPNcFKJ0FF9IO27blpr9xbGcF8Ajoq+Hb1Eb+Q6liVzCP2XxiZPgq6MuNH2M+w0LDrOAHmQ84y6Ef/lLQ93K53BsvDp3U6nEB3DIAiOAwAnmAJvIAxxHl7IrPlkAUAijttDdoVNXvdwAZr2LfIKOjQb+QLO3ZkTOU3hyXDgg5/PeUbAVnAr4mQh1hp2onLQj2H0JaI8pqtTqJfTe1Wjfl1UDXQnFbilwXhOOVSCSirUOJoVzucsYOLfvElJ4lYAag0Xa7/UAHSId8oDTWdTaeuUWSOSQYgqV7HB6x0uXtHgf1Zi6S3UUWusVFzsuCPiCrGJVKpYDDPOl/ZMXZdDr9ErkfzAw/U85Mtqkyu8mjcEOV1R9ALyj4wKL7Aq3g7D+wzCegPegcaJrj+Ktl/Qxx8ofajvYXQFZrZF+XC9Ady2/lKUxrQgx6NgAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAUCAYAAAB1aeb6AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAH6ADAAQAAAABAAAAFAAAAAAHV+TnAAACZElEQVRIDb2Wz2sTURDHu9vEGhtbQhC9SEWp9qIoIp7ESyEQyCGJBBMPHtQ/QqimqPgnSCmeikkwusk5BwVBDyL4AxEPWg96EMSoW9JiSNz1861dKLUhW9t1YDLz3ryZ78x7mzfPGIAajcZws9mcQk26rnsQuV3zfskwjC5rP+D7NBwOT+VyuY9+fI1qtRrtdrvPcRwnyFfkKxy/+XH21uA3jH4Y373IRcYnC4XCG8/uSexGrVbbk81mP2suBPC0gNHvxuPxC4lEYtFbvBFJEYPEukos8S18T6/2r1Qqx+AytolyuXyb5C4ZKKp0IhKJ7E6n0z9WO2xUJ7DivcVvPBaL7Ugmk23FADTtOM4ddmQbQwd2KTRuohyC5zcLTIwBgruIl7DZarUOaI5kLpOUhW2J4ST6fXjItu2dphQmF7Rwi8hWHCodKZVKc8S/yfA14CfY6kfov2QXhf6Irf8FvELUfYBa7PD59b6lwMABHgO4mM/nryN1HH+RzjwQAvAi23ytF7BAAwMn9ot+VQUJ3g87uMr5yo/3Qw+y8lkulyJJGL2SCAwc0E/83aZJ4J4a13oJBAbOV34WQN3lWTrmE8uyxtYmYLJI9+/IWsMmxqPyDYVC9jnINM0rDI+02+1n7MIp9EHZRar8HbyfrrTspMl/pZXzPYq/E41G5xWHS+YGBeZQo9gfop9B/0kjWxD4AyaHaIczvc6GNX1JLZUmUmShGtVjr6PJkQTUTFT1e6Q621wqlVrSY2K00+moreo61GNCXek77Jvw8/2YqNfruzKZzBcFX/4brCSgrCdhPSz+yzPqN0QhGc/YrnAKAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAUCAYAAACTQC2+AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGqADAAQAAAABAAAAFAAAAADz+QhrAAABy0lEQVRIDa2VP0gCURzHvfMEoYZIiYaaI/uzFja0VEIQCIagEi01R2N70NKfsdYWFcEcGiQIIppqa2toibA1CEONO+3zDOk4fdw7uIPz++73+/6+33u/d++pFQqFeKfTOQ8EAjHQAH25NE2z0HtFbC+Xy90Y7Xb7guAYgWOw7osLIpiEgS00L8Fxg8E0g9NsNnsA+nrl8/lPDE9KpdKoIdqF2beqQ7lcnmi1Wqvwl7kXDMNYSafTtUH1aHc7ZJpmyPOaNJvNF0SHbMLDtrF0qEsz8oTdJBAMBpty6n/G84xEKa1+BO65b1Op1JuIuV2ejTCp8eEsugk7855bxwKbThGVZ09GfK4zKqKDOEqtw2CD4kNmMw8qrYnTzNWoUqmMNBqNK7HfRDFr9OEUkT3D1ajrpl1bl0wmvyC/CzZ1P8BRt1Lhh7o/F7iuRoi3o9HoHPtlnfEUX9y1gkcfRRw/4piY7MvYAolEQhxRVVtIddjVjUQiddH3O2a4w4Ivgb6d3uiGmcQs+CReVByq27qu74MxEiHVV3XjoSf2W5VD98yN62tek6kVi8U1y7LisrwzTleeM5lMxRnvPUv3Ef+8u5A2e0Q3pFUPcKRGv/QLmR04BG1lAAAAAElFTkSuQmCC\""],"sourceRoot":""}